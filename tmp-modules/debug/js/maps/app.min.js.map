{"version":3,"sources":["app.js","analytics.js","api-urls.js","config.js","init.token.js","logout.js","permissions-description.js","permissions.js","run.js","legacy.js","factories/audio.js","factories/auth-cookie.js","factories/beamer.js","factories/desktop-notifications.js","factories/destroy.js","factories/error-message.js","factories/favico.js","factories/http-interceptor.js","factories/moment.js","factories/toastr.js","factories/user-status.js","filters/mask.js","formly/formly-address-input.js","formly/formly-date-input.js","formly/formly-datetime-input.js","formly/formly-multi-input.js","formly/formly-select-buttons.js","formly/formly-switch.js","formly/formly-time-input.js","formly/formly.factory-async-options.js","formly/formly.factory.js","formly/formly.js","formly/formly.nya-select.js","formly/formly.run.js","formly/formly.select-async.js","providers/api-token.js","providers/base64.js","providers/main-controller.js","providers/main-controller.rotate-device-changed.js","providers/path.js","providers/permission.js","providers/urls.js","services/auth.js","services/calendar.js","services/clients.js","services/followup.js","services/longpolling.js","services/pending-processing.js","services/permissions.js","services/pipelines.js","services/products.js","services/queues.js","services/schedules.js","services/transactions-report.js","services/transactions-summary.js","services/transactions.js","services/users.js","services/users.status.js","services/utils-states.js","services/utils.js","factories/notification-center/dialogs.js","factories/notification-center/notification-center.js","factories/notification-center/position-in-queues.js","factories/notification-center/toastr.js","factories/notification-center/transaction-sumary.js","factories/notification-center/transactions-awaiting.js","directives/add-client/add-client.js","directives/automate-new-lead/automate-new-lead.js","directives/avatar/avatar.js","directives/breadcrumbs/breadcrumbs.js","directives/card-actions/card-actions-activity.js","directives/card-actions/card-actions-call.js","directives/card-actions/card-actions-email.js","directives/card-actions/card-actions-note.js","directives/card-actions/card-actions-sells.js","directives/card-actions/card-actions-sms.js","directives/card-actions/card-actions-tab-button.js","directives/card-actions/card-actions-tour.js","directives/card-actions/card-actions-whatsapp.js","directives/card-actions/card-actions.factory.js","directives/card-actions/card-actions.js","directives/card-client-profile/card-client-profile.js","directives/card-followup/card-followup.js","directives/chat/chat.js","directives/client-avatar/client-avatar.js","directives/client-contacts/client-contact-factory.js","directives/client-contacts/client-contacts.js","directives/enriched-person-data/enriched-person-data.js","directives/footer/footer.js","directives/icon-medal/icon-medal.js","directives/icon-svg/icon-svg.js","directives/img-src-error-remove/img-src-error-remove.js","directives/list/list.factory.js","directives/list/list.js","directives/list-filter/list-filter.js","directives/loading-spinner/loading-spinner.js","directives/main-controller/main-controller.js","directives/modal/modal.js","directives/modal-iframe-anapro-v1/modal-iframe-anapro-v1.js","directives/navigation-bar/nagivation-bar-factory.js","directives/navigation-bar/navigation-bar.js","directives/notifications-container/notifications-container.js","directives/perfil/perfil-transactions-report.js","directives/perfil/perfil.js","directives/perfil-transactions-summary/perfil-transactions-summary.js","directives/permissions/permissions.js","directives/radial-progress/radial-progress.js","directives/submit-on-enter/submit-on-enter.js","directives/transaction-finish/transaction-finish.js","directives/transaction-transfer/transaction-transfer.js","directives/user-position-in-queues/channel-position-in-queue.js","directives/user-position-in-queues/user-position-in-queues.js","directives/user-status/user-status-bullet.js","directives/user-status/user-status-switchers.js","directives/view-title/view-title.js","formly/formly-examples/fields.js","views/auth/auth.js","views/calendar/calendar.js","views/clients/clients.js","views/home/home.js","views/queues-handler-position/queues-handler-position.js","views/transaction/transaction.js","views/transactions/transactions.js","views/user-profile/user-profile.js","services/firebase/firebase.js","services/firebase/firebase.provider.js","services/firebase/listener-chatlegacy.js","services/firebase/listener-pendenciaprocessamento.js","services/firebase/listener-position-in-queues.js","services/firebase/listener-queues-channel.js","services/firebase/listener-system-messages.js","directives/card-followup/item/item.js","directives/navigation-bar/actions/actions.js","directives/navigation-bar/chat/navigation-bar-chat.js","directives/navigation-bar/mobile-user-status/mobile-user-status.js","directives/navigation-bar/whatsnew/whatsnew.js","directives/notifications-container/dialog-container/dialog-container.js","views/queues-handler-position/directives/queues-handler-position-input.js","directives/card-actions/directives/email-select/email-select.js","directives/card-actions/directives/phone-select/card-actions-phone-select.js","directives/card-actions/directives/select-client/card-actions-select-client.js","directives/card-followup/item/chat/chat.js","directives/card-followup/item/email/email.js","directives/card-followup/item/email-modal/email-modal.js","directives/card-followup/item/ligacao/ligacao.js","directives/card-followup/item/sells/sells.js","directives/notifications-container/dialog-container/dialog/dialog.js","directives/notifications-container/dialog-container/dialog/dialog.provider.js","views/calendar/directives/link-integration/link-integration.factory.js","views/calendar/directives/link-integration/link-integration.js","views/calendar/directives/list/list.js","views/calendar/directives/list-filter/list-filter.js","views/calendar/directives/list-item/list-item.js","views/transaction/directives/agent/agent.js","views/transaction/directives/amounts/amounts.js","views/transaction/directives/client/client.js","views/transaction/directives/details/details.js","views/transaction/directives/edit-amounts/edit-amounts.js","views/transaction/directives/followers/followers.js","views/transaction/directives/followers/list.js","views/transaction/directives/hashtag/hashtag.js","views/transaction/directives/info/info.js","views/transaction/directives/instructions/instructions.js","views/transaction/directives/stage/stage-form.js","views/transaction/directives/stage/stage.js","views/transactions/directives/list/list.js","views/transactions/directives/list-filter/list-filter-options.js","views/transactions/directives/list-filter/list-filter.js","views/transactions/directives/list-filter-expires-ruler/list-filter-expires-ruler.js","views/transaction/directives/sells/interaction.js","views/transaction/directives/sells/sells.factory.js","views/transaction/directives/sells/sells.js","directives/notifications-container/dialog-container/dialog/new-chat/new-chat.js","directives/notifications-container/dialog-container/dialog/new-lead/new-lead.js","factories/error-message.config.js","formly/formly.config.js","services/longpolling.config.js","views/auth/auth.config.js","views/calendar/calendar.config.js","views/clients/clients.config.js","views/home/home.config.js","views/queues-handler-position/queues-handler-position.config.js","views/transaction/transaction.config.js","views/transactions/transactions.config.js","views/user-profile/user-profile.config.js","services/firebase/firebase.config.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5ZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3iBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9kBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3rCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../app.min.js","sourcesContent":["\n'use strict';\n\n(function(){\n\n\tangular.module('anaproApp', [\n\n\t\t// analytics\n\t\t'config.analytics',\n\n\t\t// libs\n\t\t'ngRoute',\n\t\t'ngAnimate',\n\t\t'ngMessages',\n\t\t'ngCookies',\n\t\t'ngPostMessage',\n\t\t'ui.utils.masks',\n\t\t'ngMask',\n\t\t'angular-cache',\n\t\t'nya.bootstrap.select',\n\t\t'toastr',\n\t\t'angular.filter',\n\n\t\t// providers\n\t\t'provider.apiToken',\n\t\t'provider.path',\n\t\t'provider.urls',\n\t\t'provider.main-controller',\n\t\t'provider.permission',\n\t\t'provider.base64',\n\n\t\t//angular-strap\n\t\t'mgcrea.ngStrap.popover',\n\t\t'mgcrea.ngStrap.datepicker',\n\t\t'mgcrea.ngStrap.timepicker',\n\t\t'mgcrea.ngStrap.modal',\n\n\t\t// formly\n\t\t'anapro.formly',\n\n\t\t// services\n\t\t'services.auth',\n\t\t'services.clients',\n\t\t'services.firebase',\n\t\t'services.longpolling',\n\t\t'services.queues',\n\t\t'services.pending-processing',\n\t\t'services.permissions',\n\t\t'services.pipelines',\n\t\t'services.products',\n\t\t'services.transactions',\n\t\t'services.users',\n\t\t'services.users.status',\n\t\t'services.utils',\n\t\t'services.calendar',\n\t\t'services.schedules',\n\n\t\t// factories\n\t\t'factories.audio',\n\t\t'factories.auth-cookie',\n\t\t'factories.beamer',\n\t\t'factories.desktop-notifications',\n\t\t'factories.destroy',\n\t\t'factories.error-message',\n\t\t'factories.http-interceptor',\n\t\t'factories.moment',\n\t\t'factories.navigationBar',\n\t\t'factories.notification-center',\n\t\t'factories.toastr',\n\t\t'factories.user-status',\n\n\t\t// directives\n\t\t'directives.add-client',\n\t\t'directives.automate-new-lead',\n\t\t'directives.avatar',\n\t\t'directives.breadcrumbs',\n\t\t'directives.card-actions',\n\t\t'directives.card-client-profile',\n\t\t'directives.card-followup',\n\t\t'directives.chat',\n\t\t'directives.client-avatar',\n\t\t'directives.client-contact',\n\t\t'directives.enriched-person-data',\n\t\t'directives.footer',\n\t\t'directives.icon-medal',\n\t\t'directives.icon-svg',\n\t\t'directives.img-src-error-remove',\n\t\t'directives.list',\n\t\t'directives.list-filter',\n\t\t'directives.loading-spinner',\n\t\t'directives.mainController',\n\t\t'directives.modal',\n\t\t'directives.modal-iframe-anapro-v1',\n\t\t'directives.navigationBar',\n\t\t'directives.notifications-container',\n\t\t'directives.perfil',\n\t\t'directives.perfil-transactions-summary',\n\t\t'directives.permissions',\n\t\t'directives.radial-progress',\n\t\t'directives.transaction-finish',\n\t\t'directives.transaction-transfer',\n\t\t'directives.submit-on-enter',\n\t\t'directives.user-position-in-queues',\n\t\t'directives.user-status-bullet',\n\t\t'directives.user-status-switchers',\n\t\t'directives.view-title',\n\n\t\t// views\n\t\t'views.auth',\n\t\t'views.home',\n\t\t'views.clients',\n\t\t'views.transactions',\n\t\t'views.transaction',\n\t\t'views.user-profile',\n\t\t'views.calendar',\n\t\t'views.queues-handler-position',\n\n\t\t// init\n\t\t'config.init.token',\n\t\t'config.logout'\n\n\t]);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('config.analytics', [\n\t\t'angulartics',\n\t\t'angulartics.google.tagmanager'\n\t])\n\n\t.config(\n\n\t\tfunction(\n\t\t\t$analyticsProvider\n\t\t){\n\n\t\t\t$analyticsProvider.virtualPageviews(false);\n\n\t\t\t// [todo] cordova google analytics plugin\n\t\t\t// if(window.cordova){\n\t\t\t// \tgoogleAnalyticsCordovaProvider.trackingId = GATrackingIdsProvider.id;\n\t\t\t// \tgoogleAnalyticsCordovaProvider.period = 10;\n\t\t\t// \tgoogleAnalyticsCordovaProvider.debug = false;\n\t\t\t// }\n\n\t\t}\n\t)\n\n\t.factory(\n\t\t'analyticsService',\n\t\tfunction(\n\t\t\t$location,\n\t\t\t$analytics,\n\t\t\tusersService\n\t\t){\n\n\t\t\tvar setUsername = function(){\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t$analytics.setUsername(response.data.fields.usuario.usuarioIdGuid);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar pageTrack = function(next){\n\n\t\t\t\tnext = angular.merge(\n\t\t\t\t\tnext || {},\n\t\t\t\t\t{\n\t\t\t\t\t\t$$route: {\n\t\t\t\t\t\t\tconfigPath:{}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif(next.$$route.configPath.getPageTrack){\n\t\t\t\t\t$analytics.pageTrack(next.$$route.configPath.getPageTrack(next));\n\t\t\t\t}else{\n\t\t\t\t\t$analytics.pageTrack($location.path());\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tpageTrack: pageTrack,\n\t\t\t\tsetUsername: setUsername\n\t\t\t};\n\n\t\t}\n\t)\n\n\t;\n\n})();\n\n","'use strict';\n\n(function(){\n\n\tvar hostApiFakes = {\n\t\tremote: 'https://sheltered-eyrie-99519.herokuapp.com',\n\t\tlocal: 'http://' + location.hostname + ':3000'\n\t};\n\n\tvar getHostApiFake = function(){\n\t\treturn hostApiFakes[window.APIFAKE] || hostApiFakes['remote'];\n\t};\n\n\tangular.module('anaproApp')\n\n\t\t// default prod api URLs\n\t\t.value('URLs', {\n\t\t\tapiHost: '',\n\n\t\t\tapiPaths: {\n\n\t\t\t\t// auth\n\t\t\t\tauth: '/auth/v1/auth',\n\n\t\t\t\t// logout\n\t\t\t\tlogout: '/login/v1/logout',\n\n\t\t\t\t// utils\n\t\t\t\tutilsCEP: '/localidades/v1/ceps',\n\t\t\t\tutilsLocation: {\n\t\t\t\t\tbase: '/localidades/v1',\n\t\t\t\t\tstates: '/ufs',\n\t\t\t\t\tcities: '/cidades',\n\t\t\t\t\tneighborhoods: '/bairros'\n\t\t\t\t},\n\t\t\t\tutilsOccupations: '/utils/v1/profissoes',\n\n\t\t\t\t// clients: Carteira de clientes\n\t\t\t\tclients: '/clients/v1/clients',\n\n\t\t\t\t// transactions: Negcios\n\t\t\t\ttransactions: '/transactions/v1/transactions',\n\t\t\t\ttransactionsActions: {\n\t\t\t\t\tamounts: '/actions/amounts',\n\t\t\t\t\tpipelineStage: '/actions/pipelinestage',\n\t\t\t\t\tautomateLead: '/actions/automate-lead',\n\t\t\t\t\ttransfer: '/actions/transfer',\n\t\t\t\t\tattend: '/actions/attend',\n\t\t\t\t\trequest: '/actions/request',\n\t\t\t\t\twon: '/actions/won',\n\t\t\t\t\tlost: '/actions/lost',\n\t\t\t\t\tfollowers: '/actions/followers'\n\t\t\t\t},\n\n\t\t\t\t// transactions/activeoffer: Oferta Ativa\n\t\t\t\ttransactionsActiveOffer: '/transactions/v1/activeoffer',\n\n\t\t\t\t// transactions-summary: Resumo de Negcios\n\t\t\t\ttransactionsSummary: '/transactions-summary/v1/transactions-summary',\n\n\t\t\t\t// transactions-report: Compromissos e pendncias de Negcios\n\t\t\t\ttransactionsReport: '/transactions-report/v1/transactions-report',\n\n\t\t\t\t// followups: Tarefas\n\t\t\t\tfollowups: '/followups/v1/followups',\n\t\t\t\tfollowupsSubTypes: '/followups/v1/interacoestiposub',\n\t\t\t\tfollowupsGroupByStatus: '/followups/v1/followups-groupbystatus',\n\t\t\t\tfollowupsActions: {\n\t\t\t\t\ttaskDone: '/actions/task-done',\n\t\t\t\t\treschedule: '/actions/task-reschedule'\n\t\t\t\t},\n\n\t\t\t\t// queues: Fila de atendimento\n\t\t\t\tqueues: '/queues/v1/queues',\n\t\t\t\tqueuesActions: {\n\t\t\t\t\tposition: '/actions/position'\n\t\t\t\t},\n\n\t\t\t\t//calendar: Agenda\n\t\t\t\tcalendar: '/followups/v1/schedules',\n\n\t\t\t\t//schedules: Links de integrao para agendas\n\t\t\t\tschedules: '/schedules/v1/integrationSchedules',\n\n\t\t\t\t// users\n\t\t\t\tusers: '/users/v1/users',\n\t\t\t\tusersServiceChannel: '/servicechannel',\n\t\t\t\tmyUser: '/users/v1/myuser',\n\n\t\t\t\t// user profile\n\t\t\t\tuserProfile: '/userprofiles/v1/userprofiles',\n\n\t\t\t\t// permissions\n\t\t\t\tpermissions: '/permissions/v1/permissions',\n\n\t\t\t\t// pipelines\n\t\t\t\tpipelines: '/pipelines/v1/pipelines',\n\n\t\t\t\t// products\n\t\t\t\tproducts: '/products/v1/products',\n\n\t\t\t\t// services\n\t\t\t\tservicesPendingprocessing: '/services/v1/pendingprocessing',\n\t\t\t\tfirebaseToken: '/services/v1/firebase/token',\n\n\t\t\t\t// longlopping\n\t\t\t\tlegacyLongPollingPresence: '/legacy/v1/longpolling/presence'\n\n\t\t\t}\n\t\t})\n\n\t\t.value('URLsProduction', {\n\t\t\tmaxvendas: '//anapro.crm.anapro.com.br',\n\t\t\tapp: location.protocol\n\t\t\t\t+ '//'\n\t\t\t\t+ location.hostname.match(/^(.+)\\.anapro/)[1]\n\t\t\t\t+ '.anapro.com.br',\n\t\t\tapiHost: '//api.anapro.com.br/webcrm/webapi/crm/v1',\n\t\t\t// apiHost: '//anapro.azure-api.net/app',\n\t\t\t// ocpApimSubscriptionKey: '8080e97ede474b29ba653fe9520a0053'\n\t\t})\n\n\t\t.value('URLsDevelopment', {\n\t\t\tmaxvendas: '//testedev.crm.anapro.com.br',\n\t\t\tapp: location.protocol\n\t\t\t\t+ '//'\n\t\t\t\t+ location.hostname.match(/^(.+)\\.anapro/)[1]\n\t\t\t\t+ (location.port ? ':' + location.port : '' )\n\t\t\t\t+ '.anapro.com.br',\n\t\t\tapiHost: '//apidev.anapro.com.br/webcrm/webapi/crm/v1'\n\t\t})\n\n\t\t.value('URLsDevelopmentLocal', {\n\t\t\tmaxvendas: '//testedev.crm.anapro.com.br',\n\t\t\tapp: location.protocol\n\t\t\t\t+ '//appdevlocal.anapro.com.br'\n\t\t\t\t+ (location.port ? ':' + location.port : '' ),\n\t\t\tapiHost: '//apidev.anapro.com.br/webcrm/webapi/crm/v1'\n\t\t})\n\n\t\t// local api URLs\n\t\t.value('URLsFake', {\n\t\t\tapiHost: getHostApiFake(),\n\n\t\t\tapiPaths: {\n\n\t\t\t\t// auth\n\t\t\t\tauth: '/auth',\n\n\t\t\t\t// utils\n\t\t\t\tutilsCEP: '/utils/cep',\n\n\t\t\t\t// clients: Carteira de clientes\n\t\t\t\tclients: '/clients',\n\n\t\t\t\t// transactions: Negcios\n\t\t\t\ttransactions: '/transactions/v1/transactions',\n\t\t\t\ttransactionsActions: {\n\t\t\t\t\tautomateLead: '/actions/automate-lead',\n\t\t\t\t},\n\n\t\t\t\t// transactions-summary: Resumo de Negcios\n\t\t\t\ttransactionsSummary: '/transactions-summary',\n\n\t\t\t\t// transactions-report: Compromissos e pendncias de Negcios\n\t\t\t\ttransactionsReport: '/transactions-report',\n\n\t\t\t\t// followups: Tarefas\n\t\t\t\tfollowups: '/followups',\n\t\t\t\tfollowupsGroupByStatus: '/followups-groupbystatus',\n\n\t\t\t\t// users\n\t\t\t\tuserProfile: '/userprofiles',\n\n\t\t\t\t// permissions\n\t\t\t\tpermissions: '/permissions',\n\n\t\t\t\t// services\n\t\t\t\tservicesPendingprocessing: '/services/v1/pendingprocessing',\n\t\t\t\tfirebaseToken: '/services/firebase/token'\n\t\t\t}\n\t\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anaproApp').config(\n\n\t\tfunction(\n\t\t\t$httpProvider,\n\t\t\t$routeProvider,\n\t\t\t$locationProvider,\n\t\t\t$compileProvider,\n\t\t\t$tooltipProvider,\n\t\t\t$modalProvider,\n\t\t\tpathProvider\n\t\t){\n\n\t\t\t$compileProvider.debugInfoEnabled(window.DEVELOPMENT);\n\n\t\t\t$locationProvider.html5Mode(true);\n\n\t\t\t$httpProvider.interceptors.push('httpInterceptor');\n\n\t\t\t$routeProvider\n\t\t\t\t.otherwise({\n\t\t\t\t\tredirectTo: pathProvider.get('transactions').path\n\t\t\t\t})\n\n\t\t\t;\n\n\t\t\tangular.extend($tooltipProvider.defaults, {\n\t\t\t\thtml: true\n\t\t\t});\n\n\t\t\tangular.extend($modalProvider.defaults, {\n\t\t\t\tkeyboard: false\n\t\t\t});\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('config.init.token',[])\n\n\t.run(function(authCookieFactory, authService){\n\n\t\tauthService.clearStorageWheLastTokenHasBeenChanged();\n\t\tauthService.getToken();\n\t\tauthCookieFactory.checkCookie();\n\n\t\tif(!authService.token){\n\t\t\tauthCookieFactory.goToAnaproLogin();\n\t\t}\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('config.logout',[])\n\n\t.run(function(\n\t\t$rootScope,\n\t\t$location,\n\t\t$timeout,\n\t\tauthCookieFactory,\n\t\tauthService,\n\t\tfirebaseProvider,\n\t\tlongpollingService,\n\t\tpath,\n\t\ttoastr,\n\t\ttoastrFactory,\n\t\tusersService\n\t){\n\n\t\tvar dispatchToastrMessages = function(response){\n\n\t\t\ttoastr.clear();\n\n\t\t\tif(!response.config.goToAnaproLogin){\n\n\t\t\t\tvar toastrObj = {\n\t\t\t\t\ttarget: 'body',\n\t\t\t\t\tallowHtml: true,\n\t\t\t\t\tcloseButton: false,\n\t\t\t\t\tonTap: function(){\n\t\t\t\t\t\tauthCookieFactory.goToAnaproLogin();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tresponse.config = response.config || {};\n\n\t\t\t\tangular.merge(\n\t\t\t\t\tresponse.config,\n\t\t\t\t\t{\n\t\t\t\t\t\ttoastrMessages: {}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tangular.merge(\n\t\t\t\t\ttoastrObj,\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Login encerrado!',\n\t\t\t\t\t\tmessage: 'Clique aqui para efetuar login novamente.',\n\t\t\t\t\t},\n\t\t\t\t\tresponse.config.toastrMessages.payloadError || {}\n\t\t\t\t);\n\n\t\t\t\ttoastrFactory.error(toastrObj);\n\n\t\t\t}\n\t\t};\n\n\t\tvar stopServices = function(){\n\t\t\tlongpollingService.stop();\n\t\t\tfirebaseProvider.signout();\n\t\t};\n\n\t\tvar logoutSuccess = function(response){\n\t\t\tif(response.config.goToAnaproLogin){\n\t\t\t\tauthCookieFactory.goToAnaproLogin();\n\t\t\t}else{\n\t\t\t\t$location.path(path.getPath('auth')).replace();\n\t\t\t}\n\t\t};\n\n\t\t// request user authentication\n\t\t$rootScope.$on('requestUserAuthentication', function(event, response){\n\n\t\t\tconsole.log('$rootScope.$on.requestUserAuthentication -> triggered', response);\n\n\t\t\tif(usersService.isProfileLoaded()){\n\t\t\t\tdispatchToastrMessages(response);\n\t\t\t}\n\n\t\t\tstopServices();\n\t\t\tauthService.logoutSuccess();\n\t\t\tlogoutSuccess(response);\n\t\t\tusersService.clearCache();\n\n\t\t});\n\n\t\tvar logout = function(event, response){\n\n\t\t\tconsole.log('$rootScope.$on.logout -> triggered', response);\n\n\t\t\tdispatchToastrMessages(response);\n\t\t\tstopServices();\n\n\t\t\tauthService.logout({\n\t\t\t\tsuccess: function(){\n\t\t\t\t\tlogoutSuccess(response);\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\t\t$rootScope.$on('logout', logout);\n\n\t});\n\n})();\n","'use strict';\n\n(function(){\n\n\tangular.module('anaproApp')\n\n\t\t// Permissions description\n\t\t.value('permissionsDescription', {\n\t\t\t'usu_logar_sistema' : 'Permite usurio logar no sistema.',\n\t\t\t'atd_integracao_historico' : 'Permite acesso ao histrico de integrao (somente para programador).',\n\t\t\t'con_canais' : 'Editar Canais.',\n\t\t\t'con_interacaotipo' : 'Editar Tipo de Interaes.',\n\t\t\t'con_grupo_usuario' : 'Editar Grupos do Usurio.',\n\t\t\t'con_midias' : 'Editar Mdias.',\n\t\t\t'con_perfil_prosp' : 'Editar Perfis dos Prospects.',\n\t\t\t'con_motivacao' : 'Editar motivao (motivo de encerramento).',\n\t\t\t'con_perfil_usuario' : 'Editar Perfis dos Usurios.',\n\t\t\t'con_produtos' : 'Editar Produtos.',\n\t\t\t'con_ficha_pesq' : 'Editar Fichas de Pesquisa.',\n\t\t\t'con_tags' : 'Editar Tags de Atalhos.',\n\t\t\t'con_sms' : 'Editar SMS.',\n\t\t\t'usu_listar' : 'Listar usurios cadastrados.',\n\t\t\t'usu_cadastrar' : 'Cadastrar ou vincular usurio.',\n\t\t\t'usu_cadastrar_importar' : 'Cadastrar ou vincular usurio (importao).',\n\t\t\t'usu_vincular_desvincular' : 'Ativar e inativar usurio.',\n\t\t\t'con_campanha' : 'Editar ou listar algo da campanha.',\n\t\t\t'con_campanha_listar' : 'Listar campanhas cadastrada.',\n\t\t\t'con_campanha_cad' : 'Cadastrar/Editar dados da campanha.',\n\t\t\t'con_campanha_grupo' : 'Manipular grupos vinculados a campanha.',\n\t\t\t'con_campanha_fila' : 'Configurao da fila.',\n\t\t\t'con_campanha_plantao' : 'Configurao de planto.',\n\t\t\t'con_campanha_plantao_canal' : 'Configurao de planto / canais.',\n\t\t\t'con_campanha_fichaPesquisa' : 'Configurao de ficha de pesquisa na campanha.',\n\t\t\t'con_campanha_email' : 'Manipulao de emails inteligentes da campanha e links de integrao com CHAT e Faleconosco.',\n\t\t\t'con_campanha_geral' : 'Configuraes gerais da campanha.',\n\t\t\t'con_campanha_gatilho_manipular' : 'Manipular os gatilhos de eventos da campanha.',\n\t\t\t'atd_modulo_atendimento' : 'Mdulo de atendimento.',\n\t\t\t'atd_manual' : 'Efetuar Atendimento Manualmente.',\n\t\t\t'atd_manual_redirecionado' : 'Efetuar Atendimento Manualmente redirecionando para outros atendentes.',\n\t\t\t'atd_manual_tipo_interacao' : 'Selecionar tipo de interao no \"Iniciar novo atendimento\".',\n\t\t\t'atd_midia_cadastrar' : 'Permite adicionar mdia no momento da criao do atendimento.',\n\t\t\t'atd_peca_cadastrar' : 'Permite adicionar pea no momento da criao do atendimento.',\n\t\t\t'atd_canais_campanha_todos' : 'Permite utilizar todos os canais da campanha (ativo) na criao do atendimento.',\n\t\t\t'atd_canais_sistema_todos' : 'Permite utilizar todos os canais cadastrados no sistema (ativo) na criao do atendimento.',\n\t\t\t'resfim_mostrar' : 'Mostrar resumo financeiro.',\n\t\t\t'resfim_mostrar_atd_valor' : 'Mostrar valor negociado do atendimento.',\n\t\t\t'resfim_mostrar_atd_comissao' : 'Mostrar comisso do valor negociado do atendimento.',\n\t\t\t'resfim_editar_atd_valor' : 'Editar valor negociado do atendimento.',\n\t\t\t'resfim_editar_atd_comissao' : 'Editar comisso do valor negociado do atendimento.',\n\t\t\t'atd_listar_atendimento' : 'Listar atendimentos.',\n\t\t\t'atd_listar_atendimento_exportar' : 'Listar atendimentos (exportar)',\n\t\t\t'atd_historico_atendimento' : 'Histrico de atendimento.',\n\t\t\t'atd_expectativa' : 'Alterar Atendimento Expectativa.',\n\t\t\t'atd_transf' : 'Transferir Prospect.',\n\t\t\t'atd_transf_roleta' : 'Transferir Prospect para a roleta.',\n\t\t\t'atd_encerrar' : 'Encerrar Atendimento.',\n\t\t\t'atd_prospect' : 'Editar Dados Prospect.',\n\t\t\t'atd_preencher_ficha' : 'Preencher Ficha Pesquisa.',\n\t\t\t'atd_reabrir' : 'Reabrir Atendimento.',\n\t\t\t'atd_exib_outrasequipes' : 'Exibir histrico de atendimento de outras equipes',\n\t\t\t'atd_visualizar_prospect_email' : 'Visualizar e-mail(s) do prospect no atendimento.',\n\t\t\t'atd_visualizar_prospect_telefone' : 'Visualizar telefone(s) do prospect no atendimento',\n\t\t\t'atd_enviar_sms' : 'Enviar SMS.',\n\t\t\t'atd_excluir' : 'Excluir atendimento da base. Ateno, aps excludo no ser possvel recuperar.',\n\t\t\t'atd_interacao_editar' : 'Editar dados da interao.',\n\t\t\t'atd_midia_mostrar' : 'Mostrar a mdia na listagem do atendimento',\n\t\t\t'atd_interacao_marketing_view' : 'Permite visualizar as Requisies do Prospect para atendimento (Integrao).',\n\t\t\t'atd_interacao_marketing_view_integracao' : 'Permite visualizar o log da integrao atravs das Requisies do Prospect para atendimento (Integrao).',\n\t\t\t'atd_interacoes_menos_importantes' : 'Permite visualizar todas as interaes do atendimento, mesmo as menos importantes.',\n\t\t\t'atd_editar_produto' : 'Editar produto do atendimento',\n\t\t\t'atd_editar_midia_peca' : 'Editar a mdia ou a pea',\n\t\t\t'atd_editar_dtAtendimento' : 'Editar data do atendimento',\n\t\t\t'atd_oportunidade_registrar' : 'Registrar oportunidade de negcio para o atendimento (registrar venda).',\n\t\t\t'atd_oportunidade_editar' : 'Cancelar uma oportunidade de negcio previamente registrada (editar ou cancelar venda).',\n\t\t\t'atd_oportunidade_editar_atendimento' : 'Habilita a possibilidade de alterar o atendimento da oportunidade de negcio.',\n\t\t\t'pro_acessar_cadastro_de_prospect' : 'Acessar o cadastro do prospect (alterar)',\n\t\t\t'pro_acessar_cadastro_de_prospect_incluir' : 'Acessar o cadastro do prospect (incluir)',\n\t\t\t'pro_acessar_dados_n_fidelizados' : 'Acessar dados de Prospect no fidelizado ao prprio usurio.',\n\t\t\t'pro_excluir_email' : 'Excluir ou alterar e-mail na edio dos dados do Prospect.',\n\t\t\t'pro_excluir_telefone' : 'Excluir ou alterar telefone na edio dos dados do Prospect.',\n\t\t\t'pro_excluir_endereco' : 'Excluir ou alterar endereo na edio dos dados do Prospect.',\n\t\t\t'pro_excluir_documento' : 'Excluir ou alterar documento na edio dos dados do Prospect.',\n\t\t\t'pro_visualizar_email' : 'Visualizar e-mail na edio dos dados do Prospect.',\n\t\t\t'pro_visualizar_telefone' : 'Visualizar telefone na edio dos dados do Prospect.',\n\t\t\t'pro_visualizar_endereco' : 'Visualizar endereo(s) na edio dos dados do Prospect.',\n\t\t\t'pro_visualizar_documento' : 'Visualizar documento(s) na edio dos dados do Prospect.',\n\t\t\t'pro_importacao_prospect' : 'Importao de Prospect.',\n\t\t\t'pro_prospeccao' : 'Prospeco de Prospect.',\n\t\t\t'pro_hashtag_editar' : 'Editar ou vincular HashTag de um Prospect.',\n\t\t\t'chat_atender' : 'Efetuar Atendimento Via Chat.',\n\t\t\t'chat_ver_todas_filas' : 'Visualizar todas as filas de todas as campanhas mesmo que no seja administrador ou participe da mesma.',\n\t\t\t'chat_mudar_ordem_fila' : 'Mudar ordem de atendimento do CHAT.',\n\t\t\t'relat_bi_externo' : 'BI externo.',\n\t\t\t'relat_atendimento_analitico' : 'Amostragem dos atendimentos analticos dos relatrios. Navegao nos atendimentos dos relatrios analticos.',\n\t\t\t'R05_ficha_de_pesquisa' : 'R05 - Ficha de pesquisa.',\n\t\t\t'R06_ficha_de_pesquisa_agrupado' : 'R06 - Ficha de pesquisa agrupado por peso.',\n\t\t\t'R09_conversao_de_atendimento_comparativo' : 'R09 - Converso de atendimentos.',\n\t\t\t'usuariosOnline_Chat' : 'Usurios online e previso de ordem de atendimento.',\n\t\t\t'relat_resumo_interacao' : 'Resumo de interaes.',\n\t\t\t'relat_cadastrar_bacth_email' : 'Cadastro de recebimento automtico de relatrio por email.',\n\t\t\t// 'R12_fila_atendimento' : 'Fila de atendimento (Verso BETA).', <-- key duplicada\n\t\t\t'R12_fila_atendimento' : 'Acesso ao relatrio',\n\t\t\t'R12_fila_atendimento_interar' : 'Permitir manipulao da fila atravs do atender.',\n\t\t\t'R12_fila_atendimento_zerar_comentario' : 'Permitir resetar os comentrios da fila.',\n\t\t\t'R12_fila_atendimento_embaralhar_fila' : 'Permitir embaralhar fila de forma aleatria.',\n\t\t\t'R12_fila_atendimento_ordem_fila' : 'Permitir alterar ordem de usurios na fila de atendimento.',\n\t\t\t'R12_fila_atendimento_manipularUsuario' : 'Manipular usurios na fila. Adicionar ou remover usurios da fila.',\n\t\t\t'top_manipular' : 'Manipular os tpicos',\n\t\t\t'tag_manipular' : 'Manipular TAG e incluir.',\n\t\t\t'tag_excluir' : 'Excluir TAG.',\n\t\t\t'tel_us_conf_geral' : 'Permite ao usurio configurar e editar os parmetros da telefonia.',\n\t\t\t'tel_us_conf_ativo' : 'Permite ao usurio configurar parmetros da telefonia (ATIVO).',\n\t\t\t'tel_us_conf_passivo' : 'Permite ao usurio configurar parmetros da telefonia (PASSIVO).',\n\t\t\t'tel_us_telefonia_ativo' : 'Permite ao usurio realizar ligao atravs do mdulo de telefonia.',\n\t\t\t'tel_us_ligacao_escuta' : 'Permite ao usurio escutar a ligao no atendimento.',\n\t\t\t'atd_ligar_para_prospect' : 'Permite que o usurio ligue para um prospect atravs do prprio sistema.'\n\t\t})\n\n\t;\n\n})();\n","'use strict';\n\n(function(){\n\n\tangular.module('anaproApp')\n\n\t// Permissions disabled and overwritten\n\t.value(\n\t\t'permissionsConfig',\n\n\t\t// all removed or disabled permissions must be listed below\n\t\t// you also are able to create new permission\n\t\t// key: {removed:true|false, disabled:true|false}\n\t\t{\n\t\t\t// custom permissions\n\t\t\t'usr_reports': {removed: false, disabled: true},\n\t\t\t'email_marketing': {removed: false, disabled: true},\n\t\t\t'view.clients': {removed: false, disabled: true},\n\t\t\t'view.calendar': {removed: false, disabled: false},\n\t\t\t'view.realties': {removed: false, disabled: false},\n\t\t\t'view.help': {removed: false, disabled: true},\n\t\t\t'view.settings': {removed: false, disabled: true},\n\t\t\t'view.transactoins.filter.with-tasks': {removed: false, disabled: false},\n\t\t\t'navigation-bar.notifications': {removed: false, disabled: true},\n\t\t\t'card-actions.tour': {removed: false, disabled: true},\n\t\t\t'card-actions.note': {removed: false, disabled: false},\n\t\t\t'card-actions.activity': {removed: false, disabled: false},\n\t\t\t'atd_enviar_sms': {removed: false, disabled: true},\n\t\t\t'atd_voltar_fase': {removed: false, disabled: false},\n\t\t\t'module-sells': {removed: false, disabled: false},\n\n\t\t\t//existing permissions\n\t\t}\n\t)\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anaproApp').run(\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$location,\n\t\t\t$route,\n\t\t\t$timeout,\n\t\t\tpath,\n\t\t\tauthService,\n\t\t\tusersService,\n\t\t\tpermission,\n\t\t\ttoastrFactory,\n\t\t\tanalyticsService\n\t\t){\n\n\t\t\t$rootScope['pathProvider'] = path;\n\n\t\t\tvar setUserIsLogged = function(){\n\t\t\t\t$rootScope.isLogged = !!authService.token;\n\t\t\t};\n\n\t\t\tvar viewRequireLogin = function(event, next, viewConfig){\n\n\t\t\t\tif(viewConfig){\n\n\t\t\t\t\tif(!$rootScope.isLogged && viewConfig.requireLogin){\n\n\t\t\t\t\t\tconsole.error('Access denied:', $location.$$path);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t$location.path(path.getPath('auth')).replace();\n\t\t\t\t\t\tconsole.groupEnd();\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tconsole.info(\n\t\t\t\t\t\t\t'Route do not request user to be logged in',\n\t\t\t\t\t\t\tnext\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif($rootScope.isLogged && viewConfig.redirToDefaultWhenLoggedIn){\n\t\t\t\t\t\t\tconsole.info(\n\t\t\t\t\t\t\t\t'Ow! you are already authenticated, redirecting you to home: '\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t$location.path(path.getPath('home')).replace();\n\t\t\t\t\t\t\tconsole.groupEnd();\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconsole.groupEnd();\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t\tvar checkProfileLoaded = function(event, next){\n\n\t\t\t\tif($rootScope.isLogged\n\t\t\t\t\t&&\n\t\t\t\t\t!usersService.isProfileLoaded()\n\t\t\t\t){\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t'$routeChangeStart on hold due to user profile is not loaded',\n\t\t\t\t\t\tnext\n\t\t\t\t\t);\n\t\t\t\t\t// event.preventDefault();\n\t\t\t\t\tconsole.groupEnd();\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tvar checkPermissions = function(event, next, viewConfig){\n\n\t\t\t\tif($rootScope.isLogged){\n\n\t\t\t\t\tvar hasUserViewPermission = true;\n\t\t\t\t\tvar permissionDescription = '';\n\n\t\t\t\t\tif(viewConfig && viewConfig.configPath.permissions){\n\n\t\t\t\t\t\thasUserViewPermission = permission.permissionStatus(\n\t\t\t\t\t\t\tviewConfig.configPath.permissions\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tpermissionDescription = permission.getDescription(viewConfig.configPath.permissions)\n\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\tviewConfig.configPath.permissionDescription\n\t\t\t\t\t\t;\n\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'request permission: ' + viewConfig.configPath.permissions\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'view do not requets any permission'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'permission status: ' + hasUserViewPermission\n\t\t\t\t\t);\n\n\t\t\t\t\tif(hasUserViewPermission !== true){\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t$location.path(path.getPath('home')).replace();\n\t\t\t\t\t\tconsole.groupEnd();\n\n\t\t\t\t\t\tif(hasUserViewPermission === false){\n\t\t\t\t\t\t\ttoastrFactory.warn({\n\t\t\t\t\t\t\t\ttitle: 'Desculpe, voc no tem permisso para '\n\t\t\t\t\t\t\t\t\t+ permissionDescription\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttoastrFactory.error({\n\t\t\t\t\t\t\t\ttitle: 'Desculpe, a funcionalidade '\n\t\t\t\t\t\t\t\t\t+ permissionDescription + ' est momentaneamente desligada'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconsole.groupEnd();\n\n\t\t\t\treturn true;\n\n\t\t\t};\n\n\t\t\tvar isPathLogout = function(event){\n\n\t\t\t\tif((new RegExp('^(' + path.getPath('logout') + ')'))\n\t\t\t\t\t.test($location.$$path + '/')\n\t\t\t\t){\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t$rootScope.$broadcast('logout', {\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\tgoToAnaproLogin: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t\tvar analyticsPageTrack = function(next){\n\n\t\t\t\tconsole.log(next);\n\n\t\t\t\tif(next.$$route && next.$$route.originalPath){\n\t\t\t\t\tanalyticsService.pageTrack(next);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t//watch for route changes\n\t\t\t$rootScope.$on('$routeChangeStart', function(event, next){\n\n\t\t\t\tvar viewConfig = next.$$route;\n\n\t\t\t\tconsole.group('Route Change Listener');\n\n\t\t\t\tanalyticsPageTrack(next);\n\n\t\t\t\tif(next.$$route){\n\t\t\t\t\tconsole.log(next.$$route.originalPath);\n\t\t\t\t}\n\n\t\t\t\tif(isPathLogout(event)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetUserIsLogged();\n\n\t\t\t\tif(viewRequireLogin(event, next, viewConfig)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(checkProfileLoaded(event, next)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!checkPermissions(event, next, viewConfig)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconsole.groupEnd();\n\n\t\t\t});\n\n\t\t});\n\n})();\n","\n/* eslint-disable */\n\n(function(){\n\n\t////////////////////////////////////////////////////////////////////////////////////////\n\t// Anapro Functions\n\t\twindow.AF = window.AF || {};\n\t////////////////////////////////////////////////////////////////////////////////////////\n\n $(document).on('show','.accordion', function(e){\n\t\t\t //$('.accordion-heading i').toggleClass(' ');\n\t\t\t $(e.target).prev('.accordion-heading').addClass('accordion-opened');\n\t });\n\n $(document).on('hide','.accordion', function(e){\n\t$(this).find('.accordion-heading').not($(e.target)).removeClass('accordion-opened');\n\t\t\t\t//$('.accordion-heading i').toggleClass('fa-chevron-right fa-chevron-down');\n\t\t});\n\n $(function(){\n\t$('.carousel').carousel({\n\t\tinterval: 0\n\t});\n\n\t$('.carousel').on('slid.bs.carousel', function(){\n\t\tvar carouselAltText = $(this).find('[data-carousel-selected-alt]');\n\t\tif(carouselAltText.length > 0){\n\t\t\tcarouselAltText.html($(this).find('.item.active img').attr('alt'));\n\t\t}\n\t});\n\n\t$('[data-carousel-selected-alt]').each(function(){\n\t\t$(this).parents('.carousel').trigger('slid.bs.carousel');\n\t});\n\n\tif($(\"#txtEditor\").Editor){\n\t\t$(\"#txtEditor\").Editor();\n\t}\n\n\t\t //popover\n\t\t$('[rel=popover]').popover({\n\t\t\thtml: true,\n\t\t\ttrigger: 'hover',\n\t\t\tplacement: 'top',\n\t\t\tcontent: function(){return '<img src=\"'+$(this).data('img') + '\" />' + ' ' + $(this).data('txt');}\n\t\t});\n\n\t\t$('[rel=popover]').on('mouseover', function(){\n\t\t\t$('.popover')\n\t\t\t\t.removeClass('green')\n\t\t\t\t.removeClass('red')\n\t\t\t\t.addClass($(this).data('color'));\n\t\t});\n\n\n\t\t////////////////////////////////////////////////////////////////////////////////////////\n\t\t// Bootstrap TAB Behavior //\n\t\t////////////////////////////////////////////////////////////////////////////////////////\n\t\t$(document)\n\t\t\t.delegate(\n\t\t\t\t'[data-toggle=\"tab\"]',\n\t\t\t\t'click',\n\t\t\t\tfunction(e){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$(this).tab('show');\n\t\t\t\t\t$(this).closest('.nav-tabs')\n\t\t\t\t\t\t.find('[data-toggle=\"tab\"]').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t}\n\t\t\t);\n\n\t\t////////////////////////////////////////////////////////////////////////////////////////\n\t\t// Bootstrap Weird TAB Behavior //\n\t\t// by MCorrea //\n\t\t////////////////////////////////////////////////////////////////////////////////////////\n\t\t$(document).delegate('[data-keepopen-collapse]','click', function(e){\n\t\t\tif($(this).data('dismiss') == undefined){\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\n\t\t\tvar button = $(this);\n\n\t\t\tif(button.parent().hasClass('active')){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar parentId = button.data('parent');\n\n\t\t\tif(parentId != undefined){\n\t\t\t\tbutton.closest(parentId).find('[data-parent=\"'+ parentId +'\"]').each(function(){\n\t\t\t\t\tvar panelId = $(this).data('target');\n\t\t\t\t\t$(this).parent().removeClass('active');\n\t\t\t\t\t$(panelId).removeClass('in');\n\t\t\t\t});\n\n\t\t\t\tbutton.parent().addClass('active');\n\t\t\t\t$(button.data('target')).addClass('in');\n\t\t\t}\n\t\t});\n\t\t////////////////////////////////////////////////////////////////////////////////////////\n\n\t\t$('[data-collapsed-text]').on('click', function(){\n\t\t\tvar btn = $(this);\n\t\t\twindow.setTimeout(function(){\n\t\t\t\tif(btn.data('expanded-text') == undefined){\n\t\t\t\t\tbtn.data('expanded-text', btn.text());\n\t\t\t\t}\n\n\t\t\t\tvar expandedText = btn.data('expanded-text');\n\t\t\t\tvar collapsedText = btn.data('collapsed-text');\n\t\t\t\tif(btn.hasClass('collapsed')){\n\t\t\t\t\tbtn.text(expandedText);\n\t\t\t\t}else{\n\t\t\t\t\tbtn.text(collapsedText);\n\t\t\t\t}\n\t\t\t}, 200);\n\t\t});\n\n\t\t\tvar sliders = $('[data-input-slider]');\n\n\t\t\tif(sliders.slider){\n\t\t\t\tsliders.slider();\n\t\t\t\tsliders.on('slide', function(ev){\n\t\t\t\t\t\tvar id = $(this).data('input-slider');\n\t\t\t\t\t\tvar sufix = $(this).data('slider-value-sufix');\n\n\t\t\t\t\t\t$('[data-input-slider-min=\"'+ id +'\"]').val(ev.value[0]);\n\t\t\t\t\t\t$('[data-input-slider-max=\"'+ id +'\"]').val(ev.value[1]);\n\n\t\t\t\t\t\tvar valueText = ev.value[0] + sufix + ' - ' + ev.value[1] + sufix;\n\t\t\t\t\t\t$('[data-input-slider-html=\"'+ id +'\"]').html(': ' + valueText);\n\t\t\t\t\t});\n\t\t\t}\n\t});\n\n\t$(function(){\n\t\t\tvar filtroTriggers = $('[data-filtro-container-trigger]');\n\n\t\t\tfiltroTriggers.on('click', function(){\n\t\t\t\t\tvar id = $(this).data('filtro-container-trigger');\n\t\t\t\t\tvar parentId = $(this).closest('[data-filtro]').data('filtro');\n\n\t\t\t\t\t$('[data-filtro=\"'+ parentId +'\"]').find('[data-filtro-container-trigger]').removeClass('active');\n\t\t\t\t\t$('[data-filtro=\"'+ parentId +'\"]').find('[data-filtro-container-trigger=\"'+ id +'\"]').addClass('active');\n\n\t\t\t\t\t$('[data-filtro=\"'+ parentId +'\"]').find('[data-filtro-container]').removeClass('in');\n\t\t\t\t\t$('[data-filtro=\"'+ parentId +'\"]').find('[data-filtro-container=\"'+ id +'\"]').addClass('in');\n\t\t\t\t});\n\n\t\t\t$('[data-filtro]').each(function(){\n\t\t\t\t$(this).find('[data-filtro-container-trigger]:first').trigger('click');\n\t\t\t});\n\n\t\t//////////////\n\t\t// Applied globally on all textareas with the \"autoExpand\" class\n\n\t\t(function(){\n\n\t\t\tvar textAreaAutoExpand = function(event){\n\n\t\t\t\tvar minRows = this.getAttribute('data-min-rows')|0, rows;\n\n\t\t\t\tthis.rows = minRows;\n\t\t\t\trows = Math.floor(this.scrollHeight / 20.5);\n\n\t\t\t\t$(this).css({\n\t\t\t\t\theight: this.scrollHeight + 'px'\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$(document)\n\t\t\t\t.on('input.autoExpand focus', 'textarea.autoExpand', textAreaAutoExpand)\n\t\t\t;\n\n\t\t})();\n\n\t\t// !!!! DO NOT USE DataTable JQuery Plugin over Angular !!!!\n\t\t// if($('.dataTable').DataTable){\n\t\t// \t$('.dataTable').DataTable();\n\t\t// }\n\n\t\t$('[data-agenda-task]').on('click', function(){\n\t\t\tvar agenda = $(this).closest('[data-agenda]');\n\t\t\tvar col = $(this).closest('.col');\n\t\t\tvar task = $(this).data('agenda-task');\n\n\t\t\t$(agenda).find('[data-agenda-task]').closest('.col').removeClass('selected');\n\t\t\t$(agenda).find('[data-agenda-task]').closest('.col').css('margin-bottom', \"\");\n\t\t\tcol.addClass('selected');\n\n\t\t\tagenda.find('[data-agenda-taskview]').removeClass('in');\n\t\t\tagenda.find('[data-agenda-taskview=\"'+ task +'\"]').addClass('in');\n\n\t\t\tvar taskViewHeight = col.find('.task-view').height();\n\t\t\tcol.css('margin-bottom', taskViewHeight - 20);\n\t\t});\n\n\t\t$('[data-agenda] [data-agenda-task-close]').on('click',function(){\n\t\t\t$(this).closest('.col').removeClass('selected');\n\t\t\t$(this).closest('.col').css('margin-bottom', \"\");\n\t\t});\n\n\t\t////////////////////////////////////////////////////////////////////////////////////////\n\t\t// Bootstrap Dropdown //\n\t\t////////////////////////////////////////////////////////////////////////////////////////\n\t\t// previne o menu de fechar ao clicar dentro\n\t\t// $('.dropdown-menu.dropdown-menu-keepopen').on(\"click.bs.dropdown\", function(e){ e.stopPropagation(); });\n\t\t// replaced by delegate\n\t\t\t$(document).delegate(\n\t\t\t\t'.dropdown-menu.dropdown-menu-keepopen',\n\t\t\t\t'click',\n\t\t\t\tfunction(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t$.fn.hideParentDropdown = function(target){\n\n\t\t\t\tvar elemet = $(target)\n\t\t\t\t\t.closest('.btn-group.open')\n\t\t\t\t\t.removeClass('open')\n\t\t\t\t\t.find('dropdown-menu');\n\n\t\t\t\treturn elemet;\n\t\t\t};\n\t\t////////////////////////////////////////////////////////////////////////////////////////\n\n\t\t//habilitando navegao no carossel por swipe, apenas para mobile\n\t\t$('.carousel.only-mobile .item').on('swipe', function(e){\n\t\t\tvar item = $(this);\n\t\t\tvar x1 = e.swipestart.coords[0];\n\t\t\tvar x2 = e.swipestop.coords[0];\n\n\t\t\tif(x1 >= x2){\n\t\t\t\titem.closest('.carousel').find('[data-slide=\"next\"]').trigger('click');\n\t\t\t}\n\t\t\telse{\n\t\t\t\titem.closest('.carousel').find('[data-slide=\"prev\"]').trigger('click');\n\t\t\t}\n\t\t});\n\n\t\tif($('.datepicker').datepicker){\n\t\t\t$('.datepicker').datepicker({\n\t\t\t\tlanguage: \"pt-BR\",\n\t\t\t\tautoclose: true,\n\t\t\t\tformat: \"dd/mm/yyyy\"\n\t\t\t});\n\t\t}\n\n\t\tChat.Config();\n\t\tOverContent.Config();\n\t\tEditField.Config();\n\t});\n\n\tvar Chat = function(){\n\t\treturn {\n\t\t\tId: '',\n\n\t\t\tConfig: function(){\n\t\t\t\t$('[data-chat-contatos-open]').on('click', function(){\n\t\t\t\t\tvar aberto = $(this).data('chat-contatos-open');\n\t\t\t\t\tif(aberto == undefined)\n\t\t\t\t\t\taberto = false;\n\n\t\t\t\t\tif(aberto == true){\n\t\t\t\t\t\tChat.Contato.Fechar();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tChat.Contato.Abrir();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$('[data-chat-open]').on('click', function(){\n\t\t\t\t\tvar aberto = $(this).data('chat-open');\n\t\t\t\t\tif(aberto == undefined)\n\t\t\t\t\t\taberto = false;\n\n\t\t\t\t\tif(aberto){\n\t\t\t\t\t\tChat.Mensagens.Fechar();\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tChat.Mensagens.Abrir();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$('[data-chat-finish]').on('click', function(){\n\t\t\t\t\tChat.Finish();\n\t\t\t\t});\n\n\t\t\t\t$('[data-chat-start]').on('click', function(){\n\t\t\t\t\tvar id = $(this).data('chat-start');\n\t\t\t\t\tChat.Start(id);\n\t\t\t\t});\n\t\t\t},\n\t\t\tStart: function(id){\n\t\t\t\tChat.Finish();\n\n\t\t\t\tChat.Id = id;\n\n\t\t\t\tChat.Contato.Fechar(0);\n\t\t\t\tChat.Mensagens.Fechar(0);\n\t\t\t\t$('[data-chat=\"' + id + '\"]').show();\n\t\t\t},\n\t\t\tFinish: function(){\n\t\t\t\t$('[data-chat]').hide();\n\t\t\t},\n\t\t\tMensagens:{\n\t\t\t\tAbrir : function(time){\n\t\t\t\t\tif(time == undefined)\n\t\t\t\t\t\ttime = 100;\n\n\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-messages]').show(time, function(){\n\t\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-open]').data('chat-open', true);\n\t\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-open]').addClass('open');\n\t\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-contatos-list]').show(0);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tFechar : function(time){\n\t\t\t\t\tif(time == undefined)\n\t\t\t\t\t\ttime = 100;\n\n\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-contatos-list]').hide(0, function(){\n\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-messages]').hide(time, function(){\n\t\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-open]').data('chat-open', false);\n\t\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-open]').removeClass('open');\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tContato:{\n\t\t\t\tAbrir : function(time){\n\t\t\t\t\tif(time == undefined)\n\t\t\t\t\t\ttime = 100;\n\n\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-contatos-list]').animate({\n\t\t\t\t\t\twidth:'100%'\n\t\t\t\t\t}, time, function(){\n\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-contatos-open]').data('chat-contatos-open', true);\n\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-contatos-open]').addClass('open');\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tFechar : function(time){\n\t\t\t\t\tif(time == undefined)\n\t\t\t\t\t\ttime = 100;\n\n\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-contatos-list]').animate({\n\t\t\t\t\t\twidth:0\n\t\t\t\t\t}, time, function(){\n\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-contatos-open]').data('chat-contatos-open', false);\n\t\t\t\t\t\t$('[data-chat=\"' + Chat.Id + '\"] [data-chat-contatos-open]').removeClass('open');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}();\n\n\t// [todo] remove this kind of modal behavior which cause too much cpu usage\n\tvar OverContent = function(){\n\t\treturn {\n\t\t\tConfig: function(){\n\t\t\t\t$('[data-overcontent-button]').on('click', function(){\n\t\t\t\t\t$('[data-overcontent]').hide();\n\n\t\t\t\t\tvar overcontent = $('[data-overcontent=\"'+ $(this).data('overcontent-button') +'\"]');\n\t\t\t\t\tovercontent.find('.overcontent-container').css('height', '0px');\n\t\t\t\t\tovercontent.show(function(){\n\t\t\t\t\t\tvar overcontentContainer = overcontent.find('.overcontent-container');\n\t\t\t\t\t\tovercontentContainer.animate({\n\t\t\t\t\t\t\theight: '100%'\n\t\t\t\t\t\t}, 300, function(){\n\t\t\t\t\t\t\t$('body').css('overflow', 'hidden');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t$('[data-overcontent-close]').on('click', function(){\n\t\t\t\t\tvar overcontent = $(this).closest('[data-overcontent]');\n\t\t\t\t\tovercontent.find('.overcontent-container').animate({\n\t\t\t\t\t\t\theight: '0px'\n\t\t\t\t\t\t}, 300, function(){\n\t\t\t\t\t\t\tovercontent.hide();\n\t\t\t\t\t\t\t$('body').css('overflow', 'auto');\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}();\n\n\tvar EditField = function(){\n\t\treturn {\n\t\t\tConfig: function(){\n\t\t\t\t$('[data-edit-form]').hide();\n\t\t\t\t$('[data-edit-button]').on('click', function(){\n\t\t\t\t\tvar editContainer = $(this).closest('[data-edit]');\n\t\t\t\t\teditContainer.find('[data-edit-view]').hide();\n\t\t\t\t\teditContainer.find('[data-edit-form]').show();\n\t\t\t\t});\n\n\t\t\t\t$('[data-edit-confirm]').on('click', function(){\n\t\t\t\t\tvar editContainer = $(this).closest('[data-edit]');\n\t\t\t\t\teditContainer.find('[data-edit-view]').show();\n\t\t\t\t\teditContainer.find('[data-edit-form]').hide();\n\n\t\t\t\t\t//TODO implementar persistencia do dado\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}();\n\n\twindow['Chat'] = Chat;\n\n})()\n\n/* eslint-enable */\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.audio',[])\n\n\t.factory(\n\n\t\t'audioFactory',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$timeout,\n\t\t\tmainController,\n\t\t\tbase64,\n\t\t\ttoastrFactory,\n\t\t\tdesktopNotificationsFactory\n\t\t){\n\n\t\t\tvar audioIsReady = false;\n\t\t\tvar audioMutedToastNotification;\n\t\t\tvar resumeAfterInteractionList = [];\n\n\t\t\tvar playPromiseSuccess = function(){\n\n\t\t\t\tconsole.log(\n\t\t\t\t\t'Audio is enabled',\n\t\t\t\t\taudioMutedToastNotification\n\t\t\t\t);\n\n\t\t\t\tdocument.title = document.title.replace(//g, '');\n\n\t\t\t\taudioIsReady = true;\n\n\t\t\t\tif(audioMutedToastNotification){\n\t\t\t\t\taudioMutedToastNotification.scope.close();\n\t\t\t\t\taudioMutedToastNotification = null;\n\t\t\t\t\t$rootScope.$digest();\n\t\t\t\t}\n\n\t\t\t\tdesktopNotificationsFactory.closeById('audioDisabled');\n\n\t\t\t\trunResumeAfterInteraction();\n\n\t\t\t};\n\n\t\t\tvar runResumeAfterInteraction = function(){\n\t\t\t\tresumeAfterInteractionList.map(function(func){\n\t\t\t\t\tfunc();\n\t\t\t\t});\n\t\t\t\tresumeAfterInteractionList = [];\n\t\t\t};\n\n\t\t\tvar playPromiseError = function(error, resumeAfterInteraction){\n\n\t\t\t\tconsole.error('audio is disabled', error);\n\n\t\t\t\tif(document.title.indexOf('') < 0){\n\t\t\t\t\tdocument.title += '';\n\t\t\t\t}\n\n\t\t\t\tif(typeof resumeAfterInteraction == 'function'){\n\t\t\t\t\tresumeAfterInteractionList.push(resumeAfterInteraction);\n\t\t\t\t}\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\tif(!audioMutedToastNotification){\n\t\t\t\t\t\taudioMutedToastNotification = toastrFactory.info({\n\t\t\t\t\t\t\ttitle: 'O udio esta desligado.',\n\t\t\t\t\t\t\tmessage: 'Clique aqui para ligar.',\n\t\t\t\t\t\t\tautoDismiss: false,\n\t\t\t\t\t\t\tcloseButton: false,\n\t\t\t\t\t\t\ticonClass: 'toast-volume-mute',\n\t\t\t\t\t\t\ttapToDismiss: false,\n\t\t\t\t\t\t\tonTap: function(){\n\t\t\t\t\t\t\t\tplay('system');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!document.hasFocus()){\n\n\t\t\t\t\t\tdesktopNotificationsFactory.send({\n\t\t\t\t\t\t\ttag: 'audioDisabled',\n\t\t\t\t\t\t\ttitle: 'Anapro udio desligado.',\n\t\t\t\t\t\t\tbody: 'Clique aqui para ligar.',\n\t\t\t\t\t\t\ticon: '/assets/imgs/icons/volume-muted-desktop-notification.png',\n\t\t\t\t\t\t\trequireInteraction: true,\n\t\t\t\t\t\t\tcallback: function(){\n\t\t\t\t\t\t\t\tplay('system');\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tonshow: function(){\n\t\t\t\t\t\t\t\tif(audioIsReady){\n\t\t\t\t\t\t\t\t\tthis.close();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar play = function(name, resumeAfterInteraction){\n\n\t\t\t\tvar sound = base64.getFilesType('sounds')[name];\n\n\t\t\t\tif(!sound){\n\n\t\t\t\t\tconsole.warn('Sorry, the audio ' + name + ' do not exists within base64 source');\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar audio = new Audio(sound);\n\t\t\t\tvar audioPromise = audio.play();\n\n\t\t\t\tif(audioPromise && mainController.getDevice() == 'desktop'){\n\t\t\t\t\taudioPromise\n\t\t\t\t\t.then(playPromiseSuccess)\n\t\t\t\t\t.catch(\n\t\t\t\t\t\tfunction(error){\n\t\t\t\t\t\t\tplayPromiseError(error, resumeAfterInteraction);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn audio;\n\n\t\t\t};\n\n\t\t\t$timeout(function(){\n\t\t\t\tif(base64.getFilesType('sounds')['system']){\n\t\t\t\t\tvar soundSystem = play('system');\n\t\t\t\t\tsoundSystem.muted = true;\n\t\t\t\t}\n\t\t\t}, 5000);\n\n\t\t\tvar factory = {\n\t\t\t\tplay: play\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.auth-cookie',[])\n\n\t.factory(\n\n\t\t'authCookieFactory',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$cookies,\n\t\t\tapiToken,\n\t\t\turls\n\t\t){\n\n\t\t\tvar cookieObj = {\n\t\t\t\tname: 'mvl3',\n\t\t\t\tuser: (function(){\n\n\t\t\t\t\tvar name = 'keyIns';\n\t\t\t\t\tvar regexp = new RegExp(name + '=((.*?)(&|$))');\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tmatch: regexp\n\t\t\t\t\t};\n\n\t\t\t\t})(),\n\t\t\t\tproperties: {\n\t\t\t\t\tdomain: '.anapro.com.br',\n\t\t\t\t\tpath: '/'\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar loginUrl = '//login.anapro.com.br/web/pages/login/anapro.aspx';\n\t\t\tvar goUrl = (\n\t\t\t\t/^https/.test(urls.app)\n\t\t\t\t\t?\n\t\t\t\t\t\t'https'\n\t\t\t\t\t:\n\t\t\t\t\t\t'http'\n\t\t\t)\n\t\t\t\t+ '%3a%2f%2fcrm.anapro.com.br%2fwebcrm%2fpages%2flogin%2fdefault.aspx';\n\n\t\t\tvar urlAnaproLogin = [\n\t\t\t\tloginUrl,\n\t\t\t\t'?sys=SUPERCRM',\n\t\t\t\t'&returnUrlAnapro=' + urls.app,\n\t\t\t\t'&goUrl=' + goUrl,\n\t\t\t\t'&img=http%3a%2f%2fcrm.anapro.com.br%2fwebcrm%2fcontasistema%2fPadrao%2fimagens%2flogo01.jpg&exit=1',\n\t\t\t\t'&msg=Por+favor%2c+para+acessar+o+sistema+digite+seu+email+e+senha+cadastrado.+Caso+ainda+no+seja+cadastrado+entre+em+contato+com+o+seu+gerente.',\n\t\t\t\t'&g=6a6b7614-805f-43d6-811f-23a71efb2fe2'\n\t\t\t].join('');\n\n\t\t\tvar get = function(){\n\t\t\t\treturn $cookies.get(cookieObj.name);\n\t\t\t};\n\n\t\t\tvar goToAnaproLogin = function(){\n\t\t\t\twindow.location.replace(urlAnaproLogin);\n\t\t\t};\n\n\t\t\tvar isSameUser = function(token){\n\n\t\t\t\tif(cookieObj.user.match.test(token)\n\t\t\t\t\t&& cookieObj.user.match.test($cookies.get(cookieObj.name))\n\t\t\t\t){\n\n\t\t\t\t\tvar currentUser = token.match(cookieObj.user.match)[2];\n\t\t\t\t\tvar newUser = $cookies.get(cookieObj.name)\n\t\t\t\t\t\t.match(cookieObj.user.match)[2];\n\n\t\t\t\t\treturn currentUser == newUser;\n\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar clear = function(){\n\n\t\t\t\t$cookies.remove(\n\t\t\t\t\tcookieObj.name,\n\t\t\t\t\tcookieObj.properties\n\t\t\t\t);\n\n\t\t\t\t// goToAnaproLogin();\n\t\t\t};\n\n\t\t\tvar checkCookie = function(){\n\n\t\t\t\tvar hasCookieChangedToOtherUser = false;\n\t\t\t\tvar cacheToken = apiToken.getCache();\n\t\t\t\tvar token = cacheToken.get('token') || {};\n\t\t\t\ttoken = token.token || null;\n\n\t\t\t\tif(!$cookies.get(cookieObj.name)){\n\n\t\t\t\t\t// goToAnaproLogin();\n\n\t\t\t\t}else if(token != $cookies.get(cookieObj.name)){\n\n\t\t\t\t\tif(isSameUser(token)){\n\n\t\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t\t'Token Cookie has been changed however the user is the same, so ',\n\t\t\t\t\t\t\t'just update the token!'].join('')\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t$rootScope.$broadcast('tokenCookieHasBeenChangedButUserIsTheSame');\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'Token Cookie has been changed and was detected it is an other',\n\t\t\t\t\t\t\t\t' user, so app is redirecting to home'\n\t\t\t\t\t\t\t].join(''),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcurrentLocalStorageToken: token,\n\t\t\t\t\t\t\t\tnewTokenCookie: $cookies.get(cookieObj.name)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t$rootScope.$broadcast('tokenCookieHasBeenChanged');\n\n\t\t\t\t\t\thasCookieChangedToOtherUser = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn hasCookieChangedToOtherUser;\n\n\t\t\t};\n\n\t\t\tvar factory;\n\n\t\t\tvar noop = function(){\n\t\t\t\tconsole.log('factories.auth-cookie.noop()');\n\t\t\t};\n\n\t\t\tif(window.APIFAKE){\n\t\t\t\tfactory = {\n\t\t\t\t\tget: noop,\n\t\t\t\t\tcheckCookie: noop,\n\t\t\t\t\tclear: noop,\n\t\t\t\t\tgoToAnaproLogin: noop\n\t\t\t\t};\n\t\t\t}else{\n\t\t\t\tfactory = {\n\t\t\t\t\tget: get,\n\t\t\t\t\tcheckCookie: checkCookie,\n\t\t\t\t\tclear: clear,\n\t\t\t\t\tgoToAnaproLogin: goToAnaproLogin\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.beamer',[])\n\n\t.factory(\n\n\t\t'beamerFactory',\n\n\t\tfunction(\n\t\t\tusersService\n\t\t){\n\n\t\t\tvar filters = [];\n\n\t\t\tvar getFilters = function(){\n\t\t\t\treturn filters.join(';');\n\t\t\t};\n\n\t\t\tvar setFilters = function(data){\n\n\t\t\t\tif(usersService.isAdm()){\n\t\t\t\t\tfilters.push('adm');\n\t\t\t\t}\n\n\t\t\t\tfilters.push(data.extraInfo.contaSistemaVendasUrl);\n\n\t\t\t};\n\n\t\t\tvar setConfig = function(attrs){\n\n\t\t\t\tif(!window.beamer_config){\n\t\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\t\tsetFilters(response.data);\n\n\t\t\t\t\t\t\twindow['beamer_config'] = {\n\t\t\t\t\t\t\t\tproduct_id : 'PgCiLFgn5949',\n\t\t\t\t\t\t\t\tselector: '#beamer-button',\n\t\t\t\t\t\t\t\tlazy: true,\n\t\t\t\t\t\t\t\tlanguage: 'PT_BR',\n\t\t\t\t\t\t\t\tfilters: getFilters(),\n\t\t\t\t\t\t\t\tuser_id: response.data.id,\n\t\t\t\t\t\t\t\tuser_firstname: response.data.fields.usuario.usuarioNome,\n\t\t\t\t\t\t\t\tuser_lastname:  response.data.fields.usuario.usuarioApelido,\n\t\t\t\t\t\t\t\tuser_email:  response.data.fields.usuario.usuarioEmail,\n\t\t\t\t\t\t\t\tcallback: function(){\n\n\t\t\t\t\t\t\t\t\t// remove beamer selector when add on footer\n\t\t\t\t\t\t\t\t\t$('#beamerSelector').remove();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconsole.log('factories.beamer.setConfig()');\n\t\t\t\t\t\t\tconsole.table(window.beamer_config);\n\n\t\t\t\t\t\t\tattrs.success();\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}else{\n\n\t\t\t\t\tattrs.success();\n\n\t\t\t\t\twindow['beamer_config']['selector'] = '#beamer-button';\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar beamerInit = function(){\n\n\t\t\t\tif($('#beamer-button').is(':visible')){\n\t\t\t\t\tBeamer.init();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar init = function(){\n\t\t\t\tsetConfig({\n\t\t\t\t\tsuccess: beamerInit\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar factory = {\n\t\t\t\tinit: init\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.desktop-notifications',[])\n\n\t.constant('notificationSupported', !!window.Notification)\n\n\t.factory(\n\t\t'desktopNotificationsFactory',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$timeout,\n\t\t\tnotificationSupported,\n\t\t\ttoastrFactory\n\t\t){\n\n\t\t\tvar toast;\n\n\t\t\tvar notificationsById = {};\n\n\t\t\tvar initialPermission;\n\n\t\t\tif(notificationSupported){\n\t\t\t\tinitialPermission = Notification.permission;\n\t\t\t}\n\n\t\t\tvar helpURL;\n\t\t\tvar helpURLs = {\n\t\t\t\tChrome: {\n\t\t\t\t\ttest: /Google/.test(navigator.vendor),\n\t\t\t\t\turl: 'https://support.google.com/chrome/answer/114662?hl=pt-BR',\n\t\t\t\t},\n\t\t\t\tFirefox: {\n\t\t\t\t\ttest: /Firefox/.test(navigator.userAgent),\n\t\t\t\t\turl: 'https://support.mozilla.org/pt-BR/kb/notificacoes-web-push-firefox',\n\t\t\t\t},\n\t\t\t\tSafari: {\n\t\t\t\t\ttest: /Apple/.test(navigator.vendor),\n\t\t\t\t\turl: 'https://support.apple.com/pt-br/guide/safari/sfri40734/mac',\n\t\t\t\t},\n\t\t\t\tEdge: {\n\t\t\t\t\ttest: /Microsoft/.test(navigator.vendor),\n\t\t\t\t\turl: 'https://microsoftedgetips.microsoft.com/pt-br/3/45?source=f1'\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tObject.keys(helpURLs).map(function(key){\n\t\t\t\tif(helpURLs[key].test){\n\t\t\t\t\thelpURL = helpURLs[key].url;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar showToast = function(){\n\n\t\t\t\tif(document.title.indexOf('') < 0){\n\t\t\t\t\tdocument.title += '';\n\t\t\t\t}\n\n\t\t\t\tvar message;\n\n\t\t\t\tif(Notification.permission == 'default'){\n\t\t\t\t\tmessage = 'Clique aqui para ativar.<br /><br />Depois clique em permitir na mensagem que apareceu no seu navegador.';\n\t\t\t\t}else{\n\t\t\t\t\tmessage = 'Voc bloqueou as notificaes.<br/><br/>Clique aqui para saber como permitir o Anapro App disparar notificaes.';\n\t\t\t\t}\n\n\t\t\t\tif(toast){\n\t\t\t\t\ttoast.scope.close();\n\t\t\t\t\ttoast = null;\n\t\t\t\t}\n\n\t\t\t\ttoast = toastrFactory.info({\n\t\t\t\t\ttitle: 'As suas notificaes esto desligadas!',\n\t\t\t\t\tmessage: message,\n\t\t\t\t\tautoDismiss: false,\n\t\t\t\t\ttapToDismiss: false,\n\t\t\t\t\tcloseButton: false,\n\t\t\t\t\tallowHtml: true,\n\t\t\t\t\ticonClass: 'notifications-disabled',\n\t\t\t\t\tonTap: function(){\n\t\t\t\t\t\tif(Notification.permission == 'default'){\n\t\t\t\t\t\t\thasPermission();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\twindow.open(helpURL);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar checkPermission = function(permission){\n\n\t\t\t\tvar permissionValue = permission || Notification.permission;\n\n\t\t\t\tif(permissionValue !== 'granted' && !toast){\n\t\t\t\t\tshowToast();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar hasPermission = function(callback){\n\n\t\t\t\tif(!notificationSupported){\n\t\t\t\t\tconsole.log('Browser does not support Web API Notifications');\n\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tcheckPermission();\n\n\t\t\t\tif(Notification.permission === 'granted'){\n\t\t\t\t\tif(callback){\n\t\t\t\t\t\treturn callback();\n\t\t\t\t\t}\n\t\t\t\t}else if(Notification.permission !== 'denied'){\n\t\t\t\t\tNotification.requestPermission(function(){\n\n\t\t\t\t\t\tvar permission = Notification.permission;\n\n\t\t\t\t\t\tcheckPermission(permission);\n\n\t\t\t\t\t\tif(permission === 'granted'){\n\n\t\t\t\t\t\t\tif(toast){\n\t\t\t\t\t\t\t\tdocument.title = document.title.replace(//g, '');\n\t\t\t\t\t\t\t\ttoast.scope.close();\n\t\t\t\t\t\t\t\t$rootScope.$digest();\n\t\t\t\t\t\t\t\ttoast = null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(callback){\n\t\t\t\t\t\t\t\treturn callback();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}else if(initialPermission == 'default' && permission == 'denied'){\n\t\t\t\t\t\t\tshowToast();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar newNotification = function(attrs){\n\n\t\t\t\tvar notification = new Notification(attrs.title, attrs);\n\n\t\t\t\tif(attrs.onshow){\n\t\t\t\t\tnotification.onshow = attrs.onshow;\n\t\t\t\t}\n\n\t\t\t\tif(attrs.tag){\n\t\t\t\t\tnotificationsById[attrs.tag] = notification;\n\t\t\t\t}\n\n\t\t\t\tnotification.onclick = function(){\n\n\t\t\t\t\twindow.focus();\n\n\t\t\t\t\tif(attrs.callback){\n\t\t\t\t\t\tattrs.callback();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.close();\n\n\t\t\t\t};\n\n\t\t\t\treturn notification;\n\t\t\t};\n\n\t\t\tvar send = function(attrs){\n\n\t\t\t\treturn hasPermission(function(){\n\t\t\t\t\treturn newNotification(attrs);\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar noop = function(){\n\t\t\t\tconsole.log('desktop-notifications.noop()');\n\t\t\t};\n\n\t\t\tvar getById = function(id){\n\t\t\t\treturn notificationsById[id];\n\t\t\t};\n\n\t\t\tvar closeById = function(id){\n\n\t\t\t\tif(notificationsById[id] && notificationsById[id].close){\n\t\t\t\t\tnotificationsById[id].close();\n\t\t\t\t\tnotificationsById[id] = null;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar factory = {\n\t\t\t\tgetById: getById,\n\t\t\t\tcloseById: closeById,\n\t\t\t\tsend: notificationSupported ? send : noop,\n\t\t\t\thasPermission: hasPermission\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.destroy',[])\n\n\t.factory(\n\n\t\t'destroyFactory',\n\n\t\tfunction(){\n\n\t\t\tvar cleanUp = function(obj){\n\n\t\t\t\tObject.keys(obj).map(function(key){\n\t\t\t\t\tif(obj[key]){\n\t\t\t\t\t\tif(obj[key].constructor.name == 'Object'){\n\t\t\t\t\t\t\tcleanUp(obj[key]);\n\t\t\t\t\t\t}else if(obj[key].constructor.name == 'Array'){\n\t\t\t\t\t\t\tobj[key].splice(0);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tobj[key] = null;\n\t\t\t\t\t\t\tdelete obj[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(obj.constructor.name == 'Array'){\n\t\t\t\t\tobj.splice(0);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar destroyListener = function(attrs){\n\n\t\t\t\tattrs.scope.$on(\n\t\t\t\t\t'$destroy', function(){\n\n\t\t\t\t\t\tattrs.objects.map(cleanUp);\n\n\t\t\t\t\t\tcleanUp(attrs);\n\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\treturn destroyListener;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.error-message',[\n\t\t'factories.error-message.config'\n\t])\n\n\t.factory(\n\n\t\t'errorMessage',\n\n\t\tfunction(){\n\n\t\t\tvar getErrorType = function(status){\n\n\t\t\t\tvar type;\n\n\t\t\t\tif(!navigator.onLine){\n\t\t\t\t\treturn 'offline';\n\t\t\t\t}\n\n\t\t\t\tswitch(status) {\n\n\t\t\t\t\tcase -1:\n\t\t\t\t\t\ttype = 'offline';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 401:\n\t\t\t\t\t\ttype = 'requestUserAuthentication';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 403:\n\t\t\t\t\t\ttype = 'forbidden';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 400:\n\t\t\t\t\tcase 404:\n\t\t\t\t\tcase 422:\n\t\t\t\t\t\ttype = 'payloadError';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 500:\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ttype = 'serverError';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\treturn type;\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tgetErrorType: getErrorType\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.favico', [])\n\n\t\t.factory(\n\n\t\t\t'favicoFactory',\n\n\t\t\tfunction(\n\t\t\t){\n\n\t\t\t\tvar bgColors = {\n\t\t\t\t\tclients: '#ff5a5f',\n\t\t\t\t\tchat: '#348e6d'\n\t\t\t\t};\n\n\t\t\t\tvar favicons = [];\n\n\t\t\t\tvar links = document.querySelectorAll('head link[rel=icon]');\n\n\t\t\t\tfor(var i=0; i<links.length; i++){\n\n\t\t\t\t\tvar image = new Image();\n\t\t\t\t\timage.src = angular.element(links[i]).attr('href');\n\n\t\t\t\t\tfavicons.push({\n\t\t\t\t\t\telement: links[0],\n\t\t\t\t\t\timage: image\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tvar getFavico = function(favicon, totalClients){\n\n\t\t\t\t\tvar bgColor = totalClients.chat\n\t\t\t\t\t\t? bgColors.chat\n\t\t\t\t\t\t: bgColors.clients;\n\n\t\t\t\t\tif(favicon.favico){\n\t\t\t\t\t\tfavicon.favico.reset();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar favicoObj = new Favico({\n\t\t\t\t\t\tanimation:'none',\n\t\t\t\t\t\tbgColor: bgColor,\n\t\t\t\t\t\telement: favicon.element,\n\t\t\t\t\t\timage: favicon.image\n\t\t\t\t\t});\n\n\t\t\t\t\tif(totalClients.chat){\n\t\t\t\t\t\tfavicoObj.badge(totalClients.chat);\n\t\t\t\t\t}else if(totalClients.clients){\n\t\t\t\t\t\tfavicoObj.badge(totalClients.clients);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn favicoObj;\n\n\t\t\t\t};\n\n\t\t\t\tvar set = function(totalClients){\n\t\t\t\t\tfavicons.map(function(favicon){\n\t\t\t\t\t\tfavicon.favico = getFavico(favicon, totalClients);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tset: set\n\t\t\t\t};\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.http-interceptor', [])\n\n\t.factory(\n\n\t\t'httpInterceptor',\n\n\t\tfunction(\n\t\t\t$q,\n\t\t\t$rootScope,\n\t\t\t$location,\n\t\t\tauthCookieFactory,\n\t\t\turls,\n\t\t\terrorMessage,\n\t\t\tdefaultErrorMessages\n\t\t){\n\n\t\t\tvar matchApiHost = new RegExp(urls.apiHost);\n\n\t\t\tvar mergeFriendlyMessage = function(response, type){\n\n\t\t\t\tif(matchApiHost.test(response.config.url)){\n\n\t\t\t\t\tvar friendlyMessageObj = {};\n\n\t\t\t\t\tresponse.data = response.data || {};\n\n\t\t\t\t\tfriendlyMessageObj[type] = response.data.friendlyMessage || {};\n\n\t\t\t\t\t// normalize\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\tresponse.config,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttoastrMessages: {}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tif(response.config.toastrMessages[type] !== null){\n\t\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t\tresponse.config,\n\t\t\t\t\t\t\tresponse.data.friendlyMessage\n\t\t\t\t\t\t\t\t? {toastrMessages: friendlyMessageObj}\n\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete response.data.friendlyMessage;\n\n\t\t\t\t\tdispatchToastrBroadcast(response,type);\n\t\t\t\t\tsetResponseConfigErrorMessage(response, type);\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar dispatchToastrBroadcast = function(response, type){\n\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttype != 'success'\n\t\t\t\t\t\t&&\n\t\t\t\t\t\tresponse.config.toastrMessages[type] !== null\n\t\t\t\t\t\t&&\n\t\t\t\t\t\t!(response.config.toastrMessages[type] || {}).onlyErrorMessage\n\t\t\t\t\t)\n\t\t\t\t\t||\n\t\t\t\t\ttype == 'success' && response.config.toastrMessages.success\n\t\t\t\t){\n\t\t\t\t\t$rootScope.$broadcast(\n\t\t\t\t\t\t'factories.toastr.' + type,\n\t\t\t\t\t\tresponse\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar setResponseConfigErrorMessage = function(response, type){\n\n\t\t\t\tif(type != 'success'){\n\n\t\t\t\t\tvar errorMessage = angular.merge(\n\t\t\t\t\t\tdefaultErrorMessages[type] || {},\n\t\t\t\t\t\tresponse.config.toastrMessages[type] || {}\n\t\t\t\t\t);\n\n\t\t\t\t\tresponse.config.errorMessage = errorMessage;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\treturn {\n\n\t\t\t\trequest: function(config){\n\n\t\t\t\t\tif(matchApiHost.test(config.url)){\n\n\t\t\t\t\t\tvar hasCookieChangedToOtherUser = authCookieFactory.checkCookie();\n\n\t\t\t\t\t\tif(hasCookieChangedToOtherUser){\n\t\t\t\t\t\t\treturn $q.reject(config);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn config;\n\t\t\t\t},\n\n\t\t\t\tresponse: function(response){\n\n\t\t\t\t\tmergeFriendlyMessage(response, 'success');\n\n\t\t\t\t\treturn response;\n\t\t\t\t},\n\n\t\t\t\tresponseError: function(response){\n\n\t\t\t\t\tconsole.log('http-interceptor.responseError');\n\t\t\t\t\tconsole.log(response);\n\n\t\t\t\t\tvar errorType = errorMessage.getErrorType(response.status);\n\n\t\t\t\t\tif(response.status == 401){\n\n\t\t\t\t\t\t$rootScope.$broadcast(\n\t\t\t\t\t\t\t'requestUserAuthentication',\n\t\t\t\t\t\t\tresponse\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tmergeFriendlyMessage(response, errorType);\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn $q.reject(response);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.moment',[])\n\n\t.factory(\n\n\t\t'momentFactory',\n\n\t\tfunction(){\n\n\t\t\t// duration time threshold\n\t\t\tmoment.relativeTimeThreshold('s', 60);\n\t\t\tmoment.relativeTimeThreshold('m', 60);\n\t\t\tmoment.relativeTimeThreshold('h', 24);\n\t\t\tmoment.relativeTimeThreshold('d', 30);\n\t\t\tmoment.relativeTimeThreshold('M', 12);\n\n\t\t\tvar humanizeUnitsSequence = [\n\t\t\t\t'years',\n\t\t\t\t'months',\n\t\t\t\t'days',\n\t\t\t\t'hours',\n\t\t\t\t'minutes'\n\t\t\t];\n\n\t\t\tvar getMomentHumanize = function(momentObj, sequence, size){\n\n\t\t\t\tif(humanizeUnitsSequence[sequence] && size > 0){\n\n\t\t\t\t\tif(momentObj._data[humanizeUnitsSequence[sequence]] > 0){\n\n\t\t\t\t\t\tvar humanize = moment.duration(\n\t\t\t\t\t\t\tmomentObj._data[humanizeUnitsSequence[sequence]],\n\t\t\t\t\t\t\thumanizeUnitsSequence[sequence]\n\t\t\t\t\t\t).locale('pt-br').humanize();\n\n\t\t\t\t\t\tvar nextSequence = getMomentHumanize(momentObj, sequence + 1, --size);\n\n\t\t\t\t\t\treturn humanize + (nextSequence ? ' e ' + nextSequence : '');\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\treturn getMomentHumanize(momentObj, sequence + 1, size);\n\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\n\t\t\t\t\treturn '';\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar getDuration = function(length, unit){\n\n\t\t\t\tvar duration = moment.duration(length, unit);\n\n\t\t\t\tduration.humanize = getMomentHumanize(duration, 0, 2);\n\n\t\t\t\treturn duration;\n\n\t\t\t};\n\n\t\t\tvar factory = {\n\t\t\t\tgetDuration: getDuration\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.toastr',[])\n\n\t.factory(\n\n\t\t'toastrFactory',\n\n\t\tfunction($rootScope, toastr, defaultErrorMessages){\n\n\t\t\tvar success = function(attrs){\n\t\t\t\treturn toastr.success(\n\t\t\t\t\tattrs.message,\n\t\t\t\t\tattrs.title,\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tautoDismiss: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tattrs,\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\ttypeof attrs.autoDismiss != 'undefined' && !attrs.autoDismiss\n\t\t\t\t\t\t\t? {timeOut: 0, closeButton: true}\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar error = function(attrs){\n\t\t\t\treturn toastr.error(\n\t\t\t\t\tattrs.message,\n\t\t\t\t\tattrs.title,\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimeOut: 0,\n\t\t\t\t\t\t\tautoDismiss: false,\n\t\t\t\t\t\t\tcloseButton: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tattrs\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar warn = function(attrs){\n\t\t\t\treturn toastr.warning(\n\t\t\t\t\tattrs.message,\n\t\t\t\t\tattrs.title,\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttimeOut: 0,\n\t\t\t\t\t\t\tautoDismiss: false,\n\t\t\t\t\t\t\tcloseButton: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tattrs,\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tattrs.autoDismiss\n\t\t\t\t\t\t\t? {timeOut: 5000, closeButton: false}\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar info = function(attrs){\n\t\t\t\treturn toastr.info(\n\t\t\t\t\tattrs.message,\n\t\t\t\t\tattrs.title,\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tautoDismiss: true,\n\t\t\t\t\t\t\tcloseButton: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tattrs,\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\ttypeof attrs.autoDismiss != 'undefined' && !attrs.autoDismiss\n\t\t\t\t\t\t\t? {timeOut: 0}\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar setOptionsBeforeShow = function(response, type){\n\n\t\t\t\tvar configToastrMessage = response.config.toastrMessages[type];\n\n\t\t\t\tif(configToastrMessage && configToastrMessage.setOptions){\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\tconfigToastrMessage,\n\t\t\t\t\t\tconfigToastrMessage.setOptions(response.data)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t// factories.toastr.success\n\t\t\t$rootScope.$on('factories.toastr.success', function(\n\t\t\t\tevent,\n\t\t\t\tresponse\n\t\t\t){\n\n\t\t\t\tresponse.config.toastrMessages = response.config.toastrMessages || {};\n\n\t\t\t\tsetOptionsBeforeShow(response, 'success');\n\n\t\t\t\tsuccess(\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tdefaultErrorMessages.success,\n\t\t\t\t\t\tresponse.config.toastrMessages.success || {}\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t});\n\n\t\t\t// factories.toastr.forbidden\n\t\t\t$rootScope.$on('factories.toastr.forbidden', function(\n\t\t\t\tevent,\n\t\t\t\tresponse\n\t\t\t){\n\n\t\t\t\tresponse.config.toastrMessages = response.config.toastrMessages || {};\n\n\t\t\t\tsetOptionsBeforeShow(response, 'forbidden');\n\n\t\t\t\terror(\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tdefaultErrorMessages.forbidden,\n\t\t\t\t\t\tresponse.config.toastrMessages.forbidden || {}\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t});\n\n\t\t\t// factories.toastr.payloadError\n\t\t\t$rootScope.$on('factories.toastr.payloadError', function(\n\t\t\t\tevent,\n\t\t\t\tresponse\n\t\t\t){\n\n\t\t\t\tresponse.config.toastrMessages = response.config.toastrMessages || {};\n\n\t\t\t\tsetOptionsBeforeShow(response, 'payloadError');\n\n\t\t\t\twarn(\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tdefaultErrorMessages.payloadError,\n\t\t\t\t\t\tresponse.config.toastrMessages.payloadError || {}\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t});\n\n\t\t\t// factories.toastr.serverError\n\t\t\t$rootScope.$on('factories.toastr.serverError', function(\n\t\t\t\tevent,\n\t\t\t\tresponse\n\t\t\t){\n\n\t\t\t\tresponse.config.toastrMessages = response.config.toastrMessages || {};\n\n\t\t\t\tsetOptionsBeforeShow(response, 'serverError');\n\n\t\t\t\terror(\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tdefaultErrorMessages.serverError,\n\t\t\t\t\t\tresponse.config.toastrMessages.serverError || {}\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t});\n\n\t\t\t// factories.toastr.offLine\n\t\t\t$rootScope.$on('factories.toastr.offline', function(\n\t\t\t\tevent,\n\t\t\t\tresponse\n\t\t\t){\n\n\t\t\t\tresponse.config.toastrMessages = response.config.toastrMessages || {};\n\n\t\t\t\tsetOptionsBeforeShow(response, 'offline');\n\n\t\t\t\terror(\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tdefaultErrorMessages.offline\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t});\n\n\t\t\tvar factory = {\n\t\t\t\tsuccess: success,\n\t\t\t\terror: error,\n\t\t\t\twarn: warn,\n\t\t\t\tinfo: info\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\r\n'use strict';\r\n\r\n(function(){\r\n\r\n\tangular.module('factories.user-status',[])\r\n\r\n\t.constant('pendingProcessingUserStatus', 'pendingProcessingServiceChannel')\r\n\t.constant('userStatusBroadcastName', 'factories.user-status.broadcast')\r\n\t.constant('userStatusLabels', {\r\n\t\tchat: 'Chat',\r\n\t\tothers: 'Outros',\r\n\t\tphone: 'Telefonia'\r\n\t})\r\n\t.constant('userStatusValuesProperties', {\r\n\t\tenabled: {\r\n\t\t\tstatus: 'isAllowed',\r\n\t\t\tlabel: 'Permitido'\r\n\t\t},\r\n\t\tdisabled: {\r\n\t\t\tstatus: 'notAllowed',\r\n\t\t\tlabel: 'inativo'\r\n\t\t},\r\n\t\toffline: {\r\n\t\t\tstatus: 'offline',\r\n\t\t\tlabel: 'Offline'\r\n\t\t},\r\n\t\tonline: {\r\n\t\t\tstatus: 'online',\r\n\t\t\tlabel: 'Online'\r\n\t\t},\r\n\t\tpaused: {\r\n\t\t\tstatus: 'pause',\r\n\t\t\tlabel: 'Pausado'\r\n\t\t}\r\n\t})\r\n\t.constant('userQueueStatusProperties', {\r\n\t\tOnline: {\r\n\t\t\tlabel: 'Online',\r\n\t\t\ticon: 'thumb-up'\r\n\t\t},\r\n\t\tPausa: {\r\n\t\t\tlabel: 'Pausa',\r\n\t\t\ticon: 'pause-button-circle-filled'\r\n\t\t},\r\n\t\tNaoResponde: {\r\n\t\t\tlabel: 'Sem conexo',\r\n\t\t\ticon: 'cloud-error-filled'\r\n\t\t}\r\n\t})\r\n\r\n\t.run(function(\r\n\t\tnotificationCenterFactory,\r\n\t\tuserStatusFactory,\r\n\t\tpendingProcessingUserStatus,\r\n\t\tfirebaseCollections\r\n\t){\r\n\r\n\t\tnotificationCenterFactory.registerToGetNotifications({\r\n\t\t\tcollection: [\r\n\t\t\t\tfirebaseCollections.pendingProcessing\r\n\t\t\t],\r\n\t\t\tservice: userStatusFactory,\r\n\t\t\ttypes: [\r\n\t\t\t\tpendingProcessingUserStatus\r\n\t\t\t]\r\n\t\t});\r\n\r\n\t})\r\n\r\n\t.factory(\r\n\r\n\t\t'userStatusFactory',\r\n\r\n\t\tfunction(\r\n\t\t\t$rootScope,\r\n\t\t\t$timeout,\r\n\t\t\t$filter,\r\n\t\t\tmainController,\r\n\t\t\tpermission,\r\n\t\t\tpendingProcessingUserStatus,\r\n\t\t\tuserStatusBroadcastName,\r\n\t\t\tusersStatusService,\r\n\t\t\tuserStatusValuesProperties\r\n\t\t){\r\n\r\n\t\t\tvar valuePropertieByStatus = {};\r\n\t\t\tObject.keys(userStatusValuesProperties).map(function(key){\r\n\t\t\t\tvaluePropertieByStatus[userStatusValuesProperties[key].status] = userStatusValuesProperties[key].label;\r\n\t\t\t});\r\n\r\n\t\t\tvar availableChannels = [];\r\n\r\n\t\t\tif(mainController.getDevice() == 'desktop'){\r\n\t\t\t\tavailableChannels = availableChannels.concat([\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: 'channelChat',\r\n\t\t\t\t\t\tchannel: 'chat',\r\n\t\t\t\t\t\tpermission: 'chat_atender',\r\n\t\t\t\t\t\tpermissionPositionInQueue: 'chat_visualizar_ordem_fila',\r\n\t\t\t\t\t\tpermissionHandlerPositionInQueue: 'chat_mudar_ordem_fila',\r\n\t\t\t\t\t\thasPausedStatus: true,\r\n\t\t\t\t\t\tcanUserChange: true\r\n\t\t\t\t\t}\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\r\n\t\t\tavailableChannels = availableChannels.concat([\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: 'channelOthers',\r\n\t\t\t\t\tchannel: 'others',\r\n\t\t\t\t\tpermission: null,\r\n\t\t\t\t\tcanUserChange: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: 'channelActiveOffer',\r\n\t\t\t\t\tchannel: 'activeOffer',\r\n\t\t\t\t\tpermission: null,\r\n\t\t\t\t\tcanUserChange: false\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tkey: 'channelPhone',\r\n\t\t\t\t\tchannel: 'phone',\r\n\t\t\t\t\tpermission: null,\r\n\t\t\t\t\tcanUserChange: true,\r\n\t\t\t\t\tadditionalOption: 'telefoneNumeroFull',\r\n\t\t\t\t\tcustomValueLabel: function(){\r\n\r\n\t\t\t\t\t\tvar channelServiceData = getChannelServiceData(this.channel);\r\n\r\n\t\t\t\t\t\tif(channelServiceData[this.additionalOption]){\r\n\t\t\t\t\t\t\treturn $filter('mask')(\r\n\t\t\t\t\t\t\t\tchannelServiceData[this.additionalOption],\r\n\t\t\t\t\t\t\t\t'tel'\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn getValuePropertieByStatus(channels[this.channel]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]);\r\n\r\n\t\t\tvar channelsServiceData = {};\r\n\t\t\tvar channels = {};\r\n\t\t\tvar channelsByName = {};\r\n\t\t\tvar channelsByKey = {};\r\n\t\t\tvar channelsNextPosition = {};\r\n\t\t\tvar statuses = {\r\n\t\t\t\tnoChannelsAvailable: true,\r\n\t\t\t\tchannels: channels,\r\n\t\t\t\toverall: false\r\n\t\t\t};\r\n\r\n\t\t\tvar isEnabled = function(name){\r\n\t\t\t\tvar key = channelsByName[name].key;\r\n\r\n\t\t\t\treturn channelsServiceData[key][userStatusValuesProperties.enabled.status];\r\n\t\t\t};\r\n\r\n\t\t\tvar isDisabled = function(name){\r\n\t\t\t\treturn channels[name] == userStatusValuesProperties.disabled.status;\r\n\t\t\t};\r\n\r\n\t\t\tvar isOnline = function(name){\r\n\t\t\t\treturn channels[name] == userStatusValuesProperties.online.status;\r\n\t\t\t};\r\n\r\n\t\t\tvar isOffline = function(name){\r\n\t\t\t\treturn channels[name] == userStatusValuesProperties.offline.status;\r\n\t\t\t};\r\n\r\n\t\t\tvar isPaused = function(name){\r\n\t\t\t\treturn channels[name] == userStatusValuesProperties.paused.status;\r\n\t\t\t};\r\n\r\n\t\t\tvar canUserChange = function(name){\r\n\t\t\t\treturn channelsByName[name].canUserChange;\r\n\t\t\t};\r\n\r\n\t\t\tvar canBePaused = function(name){\r\n\t\t\t\treturn channelsByName[name].hasPausedStatus;\r\n\t\t\t};\r\n\r\n\t\t\tvar getUserStatusFromService = function(){\r\n\t\t\t\tusersStatusService.getCurrentUser({\r\n\t\t\t\t\tsuccess: function(response){\r\n\t\t\t\t\t\tcreateChannels();\r\n\t\t\t\t\t\tsetChannels(response.data.fields.channel);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tvar getValuePropertieByStatus = function(status){\r\n\t\t\t\treturn valuePropertieByStatus[status];\r\n\t\t\t};\r\n\r\n\t\t\tvar getChannelValueLabel = function(channel){\r\n\r\n\t\t\t\tvar label;\r\n\t\t\t\tvar channelProperties = getChannelProperties(channel);\r\n\r\n\t\t\t\tif(channelProperties.customValueLabel){\r\n\t\t\t\t\tlabel = channelProperties.customValueLabel();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlabel = getValuePropertieByStatus(channels[channel]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn label;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar createChannelByPermission = function(channel, permissionKey){\r\n\r\n\t\t\t\tif(!permissionKey || permission.checkPermissions(permissionKey)){\r\n\t\t\t\t\t// channels[channel] = cache.get(channel) || false;\r\n\t\t\t\t\tchannels[channel] = userStatusValuesProperties.offline.status;\r\n\t\t\t\t\tstatuses.noChannelsAvailable = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar createChannels = function(){\r\n\r\n\t\t\t\tavailableChannels.map(function(channel){\r\n\r\n\t\t\t\t\tcreateChannelByPermission(channel.channel, channel.permission);\r\n\r\n\t\t\t\t\tif(typeof channels[channel.channel] != undefined){\r\n\t\t\t\t\t\tchannelsByKey[channel.key] = channel.channel;\r\n\t\t\t\t\t\tchannelsByName[channel.channel] = channel;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar getOverall = function(){\r\n\r\n\t\t\t\tvar status = false;\r\n\r\n\t\t\t\tfor(var key in channels){\r\n\t\t\t\t\tif(isOnline(key) && canUserChange(key)){\r\n\t\t\t\t\t\tstatus = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn status;\r\n\t\t\t};\r\n\r\n\t\t\tvar broadcastStatus = function(){\r\n\t\t\t\t$rootScope.$broadcast(userStatusBroadcastName, get());\r\n\t\t\t};\r\n\r\n\t\t\tvar getChannelServiceData = function(channel){\r\n\t\t\t\treturn channelsServiceData[channelsByName[channel].key];\r\n\t\t\t};\r\n\r\n\t\t\tvar getChannelProperties = function(channel){\r\n\t\t\t\treturn channelsByName[channel];\r\n\t\t\t};\r\n\r\n\t\t\tvar getChannelsByKey = function(key){\r\n\t\t\t\treturn channelsByKey[key];\r\n\t\t\t};\r\n\r\n\t\t\tvar get = function(){\r\n\r\n\t\t\t\tstatuses.overall = getOverall();\r\n\r\n\t\t\t\treturn statuses;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar channelServicePatch = function(channel, status, additionalOption){\r\n\r\n\t\t\t\tvar channelParam = {};\r\n\t\t\t\tchannelParam[channelsByName[channel].key] = {\r\n\t\t\t\t\tstatus: status\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(additionalOption){\r\n\t\t\t\t\tangular.merge(channelParam[channelsByName[channel].key], additionalOption);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar revertChannelServiceData = angular.copy(\r\n\t\t\t\t\tchannelsServiceData[channelsByName[channel].key]\r\n\t\t\t\t);\r\n\r\n\t\t\t\tusersStatusService.patchCurrentUser({\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tchannel: channelParam\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(response){\r\n\t\t\t\t\t\tsetChannels(response.data.fields.channel);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(){\r\n\t\t\t\t\t\tchannels[channel] = userStatusValuesProperties.offline.status;\r\n\t\t\t\t\t\tchannelsServiceData[channelsByName[channel].key] = revertChannelServiceData;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar set = function(channel, status, additionalOption){\r\n\r\n\t\t\t\tif(typeof channels[channel] !== 'undefined' && canUserChange(channel)){\r\n\t\t\t\t\t// cache.put(channel, status);\r\n\t\t\t\t\tchannelServicePatch(channel, status, additionalOption);\r\n\t\t\t\t\tchannels[channel] = status;\r\n\r\n\t\t\t\t\tif(additionalOption){\r\n\t\t\t\t\t\tangular.merge(getChannelServiceData(channel), additionalOption);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar setChannels = function(dataChannels){\r\n\r\n\t\t\t\tObject.keys(dataChannels).map(function(key){\r\n\r\n\t\t\t\t\tchannelsServiceData[key] = dataChannels[key];\r\n\r\n\t\t\t\t\tif(typeof channels[channelsByKey[key]] != 'undefined'){\r\n\r\n\t\t\t\t\t\tchannels[channelsByKey[key]]\r\n\t\t\t\t\t\t\t= dataChannels[key][userStatusValuesProperties.enabled.status]\r\n\t\t\t\t\t\t\t? dataChannels[key].status\r\n\t\t\t\t\t\t\t: userStatusValuesProperties.disabled.status;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconsole.log('factories.user-status.setChannels()', channels, channelsServiceData);\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar normalizeCollection = function(collection){\r\n\r\n\t\t\t\tcollection[pendingProcessingUserStatus]\r\n\t\t\t\t\t= collection[pendingProcessingUserStatus] || {};\r\n\r\n\t\t\t\tangular.merge(\r\n\t\t\t\t\tcollection[pendingProcessingUserStatus],\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfields: {\r\n\t\t\t\t\t\t\tchannel: {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar getNextPositionInQueues = function(channel){\r\n\r\n\t\t\t\tif(isOnline(channel) || isPaused(channel)){\r\n\t\t\t\t\treturn channelsNextPosition[channel];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn null;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar setNextPositionInQueues = function(channel, nextPosition){\r\n\t\t\t\tchannelsNextPosition[channel] = nextPosition;\r\n\t\t\t};\r\n\r\n\t\t\tvar dispatch = function(collection){\r\n\r\n\t\t\t\tconsole.log(['factories.user-status.dispatch()', collection]);\r\n\r\n\t\t\t\tcollection = collection || {};\r\n\r\n\t\t\t\tnormalizeCollection(collection);\r\n\r\n\t\t\t\tvar dataChannels = collection[pendingProcessingUserStatus].fields.channel;\r\n\r\n\t\t\t\tsetChannels(dataChannels);\r\n\r\n\t\t\t\tbroadcastStatus();\r\n\r\n\t\t\t};\r\n\r\n\t\t\tgetUserStatusFromService();\r\n\r\n\t\t\tvar factory = {\r\n\t\t\t\tget: get,\r\n\t\t\t\tset: set,\r\n\t\t\t\tgetChannelsByKey: getChannelsByKey,\r\n\t\t\t\tgetChannelValueLabel: getChannelValueLabel,\r\n\t\t\t\tgetChannelServiceData: getChannelServiceData,\r\n\t\t\t\tgetChannelProperties: getChannelProperties,\r\n\t\t\t\tisEnabled: isEnabled,\r\n\t\t\t\tisDisabled: isDisabled,\r\n\t\t\t\tisOnline: isOnline,\r\n\t\t\t\tisOffline: isOffline,\r\n\t\t\t\tisPaused: isPaused,\r\n\t\t\t\tcanBePaused: canBePaused,\r\n\t\t\t\tcanUserChange: canUserChange,\r\n\t\t\t\tgetNextPositionInQueues: getNextPositionInQueues,\r\n\t\t\t\tsetNextPositionInQueues: setNextPositionInQueues,\r\n\t\t\t\tdispatch: dispatch\r\n\t\t\t};\r\n\r\n\t\t\treturn factory;\r\n\t\t}\r\n\t);\r\n\r\n})();\r\n","'use strict';\n\n(function(){\n\tangular.module('ngMask')\n\t\t.filter('mask', ['MaskService', function(MaskService){\n\t\t\treturn function(value, pMask){\n\n\t\t\t\tvar regex;\n\n\t\t\t\tswitch(pMask){\n\t\t\t\t\tcase 'cpf':\n\t\t\t\t\t\tregex = '999.999.999-99'; break;\n\t\t\t\t\tcase 'cnpj':\n\t\t\t\t\t\tregex = '99.999.999/9999-99'; break;\n\t\t\t\t\tcase 'cep':\n\t\t\t\t\t\tregex = '99.999-999'; break;\n\t\t\t\t\tcase 'tel':\n\n\t\t\t\t\t\tif(value.length == 8 || value.length == 9){\n\t\t\t\t\t\t\tregex = '9?9999-9999'; //Sem DDD\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tregex = '(99) 9?9999-9999'; //Com DDD\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'date':\n\t\t\t\t\t\tregex = '39/19/2999'; break;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tregex = pMask; break;\n\t\t\t\t}\n\n\t\t\t\tvar maskService = MaskService.create();\n\n\t\t\t\tmaskService.generateRegex({\n\t\t\t\t\tmask: regex\n\t\t\t\t});\n\n\t\t\t\t//var options = maskService.getOptions();\n\t\t\t\tvar viewValue = maskService.getViewValue(value);\n\n\t\t\t\t//Valor com os divisores da mascara\n\t\t\t\tvar viewValueWithDivisors = viewValue.withDivisors(true);\n\n\t\t\t\t//Valor sem os divisores da mascara\n\t\t\t\t//var viewValueWithoutDivisors = viewValue.withoutDivisors(true);\n\n\t\t\t\treturn viewValueWithDivisors;\n\t\t\t};\n\t\t}]);\n})();\n","\n'use strict';\n\n(function(){\n\n\t// custom and VERY complex address field\n\t// do not touch it before talk to roberto@anapro.com\n\n\tvar formatter = function(newValue){\n\t\tif(newValue[0]){\n\t\t\tdelete newValue[0];\n\t\t}\n\n\t\treturn newValue;\n\t};\n\n\tangular.module('anapro.formly.address-input', [])\n\n\t.config(function(formlyConfigProvider){\n\n\t\tvar controller = function($rootScope, $scope, $http, $q, $timeout, $tooltip, urls){\n\n\t\t\t$rootScope, $scope, $http, $q, urls;\n\n\t\t\t$scope.loading = false;\n\n\t\t\t// tooltip\n\t\t\t$timeout(function(){\n\n\t\t\t\tif($scope.options.ngModelElAttrs && $scope.options.ngModelElAttrs['bs-tooltip']){\n\t\t\t\t\t$tooltip(\n\t\t\t\t\t\t$scope.addressForm.$$parentForm.$$element,\n\t\t\t\t\t\t$scope.options.data.tooltip\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t},0);\n\n\t\t\tvar properties = {\n\t\t\t\tstreet: 'enderecoLogradouro',\n\t\t\t\tnumber: 'enderecoNumero',\n\t\t\t\tneighborhoodId: 'enderecoBairroId',\n\t\t\t\tneighborhood: 'enderecoBairroNome',\n\t\t\t\tstate: 'enderecoUF',\n\t\t\t\tcityId: 'enderecoCidadeId',\n\t\t\t\tcity: 'enderecoCidadeNome',\n\t\t\t\tzipcode: 'enderecoCEP',\n\t\t\t\tstreet2: 'enderecoComplemento',\n\t\t\t\tinfo: 'enderecoObs'\n\t\t\t};\n\n\t\t\tif($scope.options.data.properties){\n\t\t\t\tangular.extend(properties, $scope.options.data.properties);\n\t\t\t}\n\n\t\t\tvar defaultValue = angular.copy($scope.options.defaultValue || {});\n\n\t\t\t$scope.addressModel;\n\t\t\t$scope.addressForm;\n\t\t\t$scope.addressFormOptions;\n\n\t\t\t$scope.options.formatters = [formatter];\n\n\t\t\tvar model;\n\n\t\t\tif($scope.options.key){\n\t\t\t\t$scope.addressModel = $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || {};\n\t\t\t}else{\n\t\t\t\t$scope.addressModel = $scope.model = $scope.model || {};\n\t\t\t}\n\n\t\t\tmodel = $scope.addressModel;\n\n\t\t\tif(defaultValue[properties.street] && !model[properties.street]){\n\t\t\t\tangular.extend(model, defaultValue);\n\t\t\t}\n\n\t\t\t$scope.getPropertie = function(propertie){\n\t\t\t\treturn $scope.addressModel[properties[propertie]];\n\t\t\t};\n\n\t\t\tformatter(model);\n\n\t\t\tif($scope.to.required && $scope.to.label){\n\t\t\t\t$scope.to.label = $scope.to.label + '*';\n\t\t\t}\n\n\t\t\t$scope.options.resetModel = function(){\n\t\t\t\t$scope.addressFormOptions.resetModel();\n\t\t\t};\n\n\t\t\tvar setFullAddress = function(data){\n\n\t\t\t\tvar fields = data.fields || {};\n\n\t\t\t\tmodel[properties.street] = fields.localidadeLogradouro;\n\t\t\t\tmodel[properties.neighborhoodId] = fields.localidadeBairroId;\n\t\t\t\tmodel[properties.neighborhood] = fields.localidadeBairroNome;\n\t\t\t\tmodel[properties.state] = fields.localidadeUF;\n\t\t\t\tmodel[properties.cityId] = fields.localidadeCidadeId;\n\t\t\t\tmodel[properties.city] = fields.localidadeCidadeNome;\n\n\t\t\t\t$scope.loading = false;\n\n\t\t\t};\n\n\t\t\t$scope.formAddressOptions = {};\n\n\t\t\tvar getCEP = function($modelValue){\n\n\t\t\t\tif($modelValue){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\treturn $http({\n\t\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t\t+ urls.apiPaths.utilsCEP\n\t\t\t\t\t\t\t+ '/'\n\t\t\t\t\t\t\t+ $modelValue,\n\t\t\t\t\t\tmethod: 'get',\n\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\tpayloadError: null\n\t\t\t\t\t\t}\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tsetFullAddress(response.data);\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\tsetFullAddress({});\n\n\t\t\t\t\t\t\treturn $q.reject();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t}else{\n\t\t\t\t\treturn $q.reject();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar setModelEmptyWhenZipcodeIsBlankAndNotRequired = function(){\n\n\t\t\t\tObject.keys($scope.addressModel).map(function(key){\n\t\t\t\t\tdelete $scope.addressModel[key];\n\t\t\t\t});\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tdelete $scope.addressModel[properties.zipcode];\n\t\t\t\t},0);\n\n\t\t\t};\n\n\t\t\t$scope.fields = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'zipcode',\n\t\t\t\t\tkey: properties.zipcode,\n\t\t\t\t\t// defaultValue: defaultValue[properties.zipcode],\n\t\t\t\t\tngModelAttrs: {\n\t\t\t\t\t\tautocomplete: {\n\t\t\t\t\t\t\tattribute: 'autocomplete'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex-xs': '40',\n\t\t\t\t\t\t'flex-gt-xs': '20'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\tautocomplete: false,\n\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\trequired: $scope.to.required || false,\n\t\t\t\t\t\tplaceholder: 'CEP',\n\t\t\t\t\t\tmask: '99999-999'\n\t\t\t\t\t},\n\t\t\t\t\tmodelOptions: {\n\t\t\t\t\t\tdebounce: 200\n\t\t\t\t\t},\n\t\t\t\t\tasyncValidators: {\n\t\t\t\t\t\tcep: {\n\t\t\t\t\t\t\texpression: function($viewValue, $modelValue, scope){\n\n\t\t\t\t\t\t\t\t$viewValue, $modelValue, scope;\n\n\t\t\t\t\t\t\t\tif(!$modelValue && !scope.options.templateOptions.required){\n\n\t\t\t\t\t\t\t\t\tsetModelEmptyWhenZipcodeIsBlankAndNotRequired();\n\n\t\t\t\t\t\t\t\t\treturn $q.resolve();\n\n\t\t\t\t\t\t\t\t}else if(scope.fc && scope.fc.$error.mask){\n\t\t\t\t\t\t\t\t\tsetFullAddress({});\n\n\t\t\t\t\t\t\t\t\treturn $q.reject();\n\n\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\tif(!model[properties.street]\n\t\t\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t\t\tmodel[properties.zipcode] != $modelValue\n\t\t\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\t\t\treturn getCEP($modelValue);\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\treturn $q.resolve();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tkey: properties.number,\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex-xs': '25',\n\t\t\t\t\t\t'flex-gt-xs': '15'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\tmaxlength: 15,\n\t\t\t\t\t\tplaceholder: $rootScope.mainController.device == 'desktop'\n\t\t\t\t\t\t\t? 'Nmero'\n\t\t\t\t\t\t\t: 'N'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tkey: properties.street2,\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex-xs': '30',\n\t\t\t\t\t\t'flex-gt-xs': '25'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\tplaceholder: 'Complemento'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tkey: properties.info,\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex-xs': '100',\n\t\t\t\t\t\t'flex-gt-xs': '35'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\tplaceholder: 'Observao'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\n\t\t\t$scope.zipcode = $scope.fields[0];\n\n\t\t};\n\n\t\tformlyConfigProvider.setType([\n\t\t\t{\n\t\t\t\tname: 'zipcode',\n\t\t\t\textends: 'input',\n\t\t\t\tdefaultOptions: {\n\t\t\t\t\tngModelAttrs: {\n\t\t\t\t\t\tmask: {\n\t\t\t\t\t\t\tattribute: 'mask'\n\t\t\t\t\t\t},\n\t\t\t\t\t\trestrict: {\n\t\t\t\t\t\t\tattribute: 'restrict'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclean: {\n\t\t\t\t\t\t\tattribute: 'clean'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\trestrict: 'reject',\n\t\t\t\t\t\tclean: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'address',\n\t\t\t\ttemplateUrl: 'formly-templates/address.html',\n\t\t\t\tcontroller: controller,\n\t\t\t\tdefaultOptions: {\n\t\t\t\t\tvalidation: {\n\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\trequired: '\"Endereo  obrigatrio\"',\n\t\t\t\t\t\t\tmask: '\"CEP Invlido\"',\n\t\t\t\t\t\t\tcep: '\"CEP no existe\"'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t]);\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.date-input', [])\n\n\t.run(function(formlyConfig, mainController, $filter, anaproFormlyFactory){\n\n\t\tvar device = mainController.getDevice(),\n\t\t\tparseDate = anaproFormlyFactory.parseDate,\n\t\t\tformatterDate = anaproFormlyFactory.formatterDate;\n\n\t\tvar controller = function($scope, $timeout){\n\n\t\t\t$scope.options.ngModelElAttrs = $scope.options.ngModelElAttrs || {};\n\n\t\t\tif(device == 'desktop' && $scope.options.templateOptions.type == 'month'){\n\t\t\t\t$scope.options.templateOptions.type = 'text';\n\t\t\t\t$scope.options.ngModelElAttrs['data-min-view'] = '1';\n\t\t\t\t$scope.options.ngModelElAttrs['data-date-format'] = 'MM/yyyy';\n\t\t\t}\n\n\t\t\t$scope.options.resetModel = function(){\n\n\t\t\t\tif(/text|date|month/.test($scope.options.templateOptions.type)){\n\t\t\t\t\t$scope.options.parsers = [parseDate];\n\t\t\t\t\t$scope.options.formatters = [formatterDate];\n\t\t\t\t\t$scope.model[$scope.options.key] = null;\n\t\t\t\t}\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tif($scope.options.defaultValue){\n\t\t\t\t\t\t$scope.model[$scope.options.key] =\n\t\t\t\t\t\t$filter('date')(\n\t\t\t\t\t\t\t$scope.options.defaultValue,\n\t\t\t\t\t\t\t$scope.options.templateOptions.dateFormat\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},0);\n\n\t\t\t};\n\n\t\t\tparseDate, formatterDate;\n\n\t\t\t$scope.options.resetModel();\n\n\t\t\t$scope.iconClick = function($event){\n\t\t\t\t$($event.target).closest('.form-input-extras').find('input').focus();\n\t\t\t};\n\n\t\t};\n\n\t\tformlyConfig.setType({\n\t\t\tname: 'anaproDate',\n\t\t\textends: 'input',\n\t\t\tcontroller: controller,\n\t\t\tdefaultOptions: {\n\t\t\t\tngModelAttrs: {\n\t\t\t\t\toff: {\n\t\t\t\t\t\tvalue: 'autocomplete'\n\t\t\t\t\t},\n\t\t\t\t\tdatePicker: {\n\t\t\t\t\t\tattribute: 'bs-datepicker'\n\t\t\t\t\t},\n\t\t\t\t\tautoclose: {\n\t\t\t\t\t\tattribute: 'autoclose'\n\t\t\t\t\t},\n\t\t\t\t\tdateFormat: {\n\t\t\t\t\t\tattribute: 'data-model-Date-Format'\n\t\t\t\t\t},\n\t\t\t\t\tdateType: {\n\t\t\t\t\t\tattribute: 'data-date-type'\n\t\t\t\t\t},\n\t\t\t\t\tmin: {\n\t\t\t\t\t\tattribute: 'data-min-date'\n\t\t\t\t\t},\n\t\t\t\t\tmax: {\n\t\t\t\t\t\tattribute: 'data-max-date'\n\t\t\t\t\t},\n\t\t\t\t\tdatePickerOnHide: {\n\t\t\t\t\t\tattribute: 'bs-on-hide'\n\t\t\t\t\t},\n\t\t\t\t\tdatePickerOnBeforeHide:{\n\t\t\t\t\t\tattribute: 'bs-on-before-hide'\n\t\t\t\t\t},\n\t\t\t\t\tdatePickerOnBeforeShow:{\n\t\t\t\t\t\tattribute: 'bs-on-before-show'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttemplateOptions: (function(){\n\n\t\t\t\t\tvar to = {\n\t\t\t\t\t\ttype: 'date'\n\t\t\t\t\t};\n\n\t\t\t\t\tif(device == 'desktop'){\n\t\t\t\t\t\tto = {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tdateType: 'string',\n\t\t\t\t\t\t\tdatePicker: true,\n\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tangular.extend(to,{dateFormat: 'yyyy-MM-ddTHH:mm:ss'});\n\n\t\t\t\t\treturn to;\n\t\t\t\t})(),\n\t\t\t\tvalidators: {\n\t\t\t\t\tmax: {\n\t\t\t\t\t\texpression: function(viewValue, modelValue, scope){\n\t\t\t\t\t\t\tviewValue, modelValue, scope;\n\n\t\t\t\t\t\t\tif(!scope.options.templateOptions.max || !modelValue){\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar max = new Date(scope.options.templateOptions.max);\n\t\t\t\t\t\t\tvar value = new Date(modelValue);\n\n\t\t\t\t\t\t\treturn value.getTime() <= max.getTime();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmin: {\n\t\t\t\t\t\texpression: function(viewValue, modelValue, scope){\n\t\t\t\t\t\t\tviewValue, modelValue, scope;\n\n\t\t\t\t\t\t\tif(!scope.options.templateOptions.min || !modelValue){\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar min = new Date(scope.options.templateOptions.min);\n\t\t\t\t\t\t\tvar value = new Date(modelValue);\n\n\t\t\t\t\t\t\treturn value.getTime() >= min.getTime();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tvalidation: {\n\t\t\t\t\tmessages: {\n\t\t\t\t\t\tmax: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\tvar maxDate = anaproFormlyFactory.getDateFromString(scope.to.max);\n\n\t\t\t\t\t\t\treturn scope.to.label\n\t\t\t\t\t\t\t\t+ ' precisa ser menor ou igual que '\n\t\t\t\t\t\t\t\t+ maxDate.getDate() + '/'\n\t\t\t\t\t\t\t\t+ (maxDate.getMonth() + 1) + '/'\n\t\t\t\t\t\t\t\t+ maxDate.getFullYear();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmin: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\tvar minDate = anaproFormlyFactory.getDateFromString(scope.to.min);\n\n\t\t\t\t\t\t\treturn scope.to.label\n\t\t\t\t\t\t\t\t+ ' precisa ser maior ou igual que '\n\t\t\t\t\t\t\t\t+ minDate.getDate() + '/'\n\t\t\t\t\t\t\t\t+ (minDate.getMonth() + 1) + '/'\n\t\t\t\t\t\t\t\t+ minDate.getFullYear();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.datetime-input', [])\n\n\t.run(function(formlyConfig, mainController, $filter, anaproFormlyFactory){\n\n\t\tvar device = mainController.getDevice(),\n\t\t\tparseDate = anaproFormlyFactory.parseDate,\n\t\t\tformatterDate = anaproFormlyFactory.formatterDate;\n\n\t\tvar controller = function($scope, $timeout){\n\n\t\t\tif(device == 'desktop'){\n\t\t\t\t$scope.dateTimeForm = null;\n\t\t\t\t$scope.dateTimeFields = [\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: $scope.options.key,\n\t\t\t\t\t\ttype: 'anaproDate',\n\t\t\t\t\t\tdefaultValue: anaproFormlyFactory.getDateFromString($scope.options.defaultValue),\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\ticon: 'calendar',\n\t\t\t\t\t\t\tdateFormat: $scope.options.templateOptions.dateFormat,\n\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'flex': '5'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplate: '<div></div>'\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: $scope.options.key,\n\t\t\t\t\t\ttype: 'anaproTime',\n\t\t\t\t\t\tdefaultValue: anaproFormlyFactory.getDateFromString($scope.options.defaultValue),\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\ticon: 'clock',\n\t\t\t\t\t\t\tdateFormat: $scope.options.templateOptions.dateFormat,\n\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t}\n\n\t\t\t$scope.options.resetModel = function(){\n\n\t\t\t\tif($scope.options.templateOptions.type == 'datetime-local'){\n\t\t\t\t\t$scope.options.parsers = [parseDate];\n\t\t\t\t\t$scope.options.formatters = [formatterDate];\n\t\t\t\t\t$scope.model[$scope.options.key] = null;\n\t\t\t\t}\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$scope.model[$scope.options.key] =\n\t\t\t\t\t\t$filter('date')(\n\t\t\t\t\t\t\tanaproFormlyFactory.getDateFromString($scope.options.defaultValue),\n\t\t\t\t\t\t\t$scope.options.templateOptions.dateFormat\n\t\t\t\t\t\t);\n\t\t\t\t},0);\n\n\t\t\t};\n\n\t\t\t$scope.options.resetModel();\n\n\t\t};\n\n\t\tvar field = {\n\t\t\tname: 'anaproDateTime',\n\t\t\textends: 'input',\n\t\t\tcontroller: controller,\n\t\t\tdefaultOptions: {\n\t\t\t\ttemplateOptions: {\n\t\t\t\t\tdateFormat: 'yyyy-MM-ddTHH:mm:ss'\n\t\t\t\t},\n\t\t\t\tvalidators: {\n\t\t\t\t\tmax: {\n\t\t\t\t\t\texpression: function(viewValue, modelValue, scope){\n\t\t\t\t\t\t\tif(!scope.options.templateOptions.max || !modelValue){\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar max = anaproFormlyFactory.getDateFromString(scope.options.templateOptions.max);\n\t\t\t\t\t\t\tvar value = anaproFormlyFactory.getDateFromString(modelValue);\n\n\t\t\t\t\t\t\treturn value.getTime() <= max.getTime();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmin: {\n\t\t\t\t\t\texpression: function(viewValue, modelValue, scope){\n\t\t\t\t\t\t\tif(!scope.options.templateOptions.min || !modelValue){\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar min = anaproFormlyFactory.getDateFromString(scope.options.templateOptions.min);\n\t\t\t\t\t\t\tvar value = anaproFormlyFactory.getDateFromString(modelValue);\n\n\t\t\t\t\t\t\treturn value.getTime() >= min.getTime();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tvalidation: {\n\t\t\t\t\tmessages: {\n\t\t\t\t\t\tmax: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\tvar maxDate = anaproFormlyFactory.getDateFromString(scope.to.max);\n\n\t\t\t\t\t\t\treturn scope.to.label\n\t\t\t\t\t\t\t\t+ ' precisa ser menor ou igual que '\n\t\t\t\t\t\t\t\t+ $filter('date')(\n\t\t\t\t\t\t\t\t\tmaxDate,\n\t\t\t\t\t\t\t\t\t'dd/MM/yy HH:mm'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmin: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\tvar minDate = anaproFormlyFactory.getDateFromString(scope.to.min);\n\n\t\t\t\t\t\t\treturn scope.to.label\n\t\t\t\t\t\t\t\t+ ' precisa ser maior ou igual que '\n\t\t\t\t\t\t\t\t+ $filter('date')(\n\t\t\t\t\t\t\t\t\tminDate,\n\t\t\t\t\t\t\t\t\t'dd/MM/yy HH:mm'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif(device == 'desktop'){\n\t\t\tfield.templateUrl = 'formly-templates/datetime-input.html';\n\t\t}else{\n\t\t\tfield.defaultOptions.templateOptions.type = 'datetime-local';\n\t\t}\n\n\t\tformlyConfig.setType(field);\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.multi-input', [])\n\n\t.config(function(formlyConfigProvider){\n\n\t\tvar controller = function($scope, $timeout){\n\n\t\t\tvar isReady = false;\n\n\t\t\t$timeout(function(){\n\t\t\t\tisReady = true;\n\t\t\t});\n\n\t\t\tvar isArrayOfValues = $scope.options.data.isArrayOfValues;\n\n\t\t\tvar keepKey = $scope.options.data.keepOnRemoveWhenContainsKey;\n\n\t\t\tvar defaultValue = angular.copy($scope.options.defaultValue || []);\n\n\t\t\tvar originalDefaultValue = angular.copy(defaultValue);\n\n\t\t\tvar multiTypesFields = $scope.options.data.fieldsByType || null;\n\n\t\t\tif(defaultValue){\n\t\t\t\t$scope.model[$scope.options.key] = angular.copy(defaultValue);\n\t\t\t}\n\n\t\t\tvar getDefaultValue = function(){\n\t\t\t\tif(isReady){\n\t\t\t\t\treturn defaultValue;\n\t\t\t\t}else{\n\t\t\t\t\treturn originalDefaultValue;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.form.multiInputForms = {};\n\t\t\t$scope.options.multiInputFields = [];\n\n\t\t\t// sync child multiInputForms $submitted propertie same of its parent form\n\t\t\t// please, be very carefully when change this code\n\t\t\tvar setMultiInputForms = function(form){\n\n\t\t\t\tvar multiInputForms = form.multiInputForms[$scope.options.key];\n\t\t\t\tvar forms = Object.keys(multiInputForms || {});\n\n\t\t\t\tforms.map(function(index){\n\n\t\t\t\t\tmultiInputForms[index].$submitted = true;\n\n\t\t\t\t\tif(multiInputForms[index].multiInputForms){\n\t\t\t\t\t\tsetMultiInputForms(multiInputForms[index]);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar submitListenerMultiinputs = function(){\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tsetMultiInputForms($scope.form);\n\t\t\t\t},0);\n\t\t\t};\n\n\t\t\tif(!isArrayOfValues){\n\t\t\t\tangular.element($scope.form.$$element).on(\n\t\t\t\t\t'submit',\n\t\t\t\t\tsubmitListenerMultiinputs\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// end sync submitted\n\n\t\t\tvar model = $scope.model[$scope.options.key];\n\n\t\t\t$scope.modelMultiinput = model;\n\n\t\t\t// please, if you need change anything here talk to roberto@anapro before\n\t\t\t// This reset will delete the model and multi input forms\n\t\t\t// Then, it will create model based on a copy of defaultValue\n\t\t\t$scope.options.resetModel = function(){\n\t\t\t\tdelete $scope.form.multiInputForms[$scope.options.key];\n\t\t\t\t$scope.options.fields.splice(0, $scope.options.fields.length);\n\t\t\t\tsetAndCleanUPModel(originalDefaultValue);\n\t\t\t};\n\n\t\t\tvar setAndCleanUPModel = function(value){\n\n\t\t\t\tdefaultValue = angular.copy(value);\n\n\t\t\t\t// $scope.options.fields.splice(0, $scope.options.fields.length);\n\n\t\t\t\tmodel.splice(0, model.length);\n\n\t\t\t\tdelete $scope.form.multiInputForms[$scope.options.key];\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tdefaultValue.map(function(item){\n\t\t\t\t\t\tmodel.push(item);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t// old resetModel reseting by fields\n\t\t\t// $scope.options.resetModel = function(){\n\n\t\t\t// \tif(model.constructor == Array\n\t\t\t// \t\t&& model.length\n\t\t\t// \t\t&& $scope.options.fields.length > defaultValue.length\n\t\t\t// \t){\n\t\t\t// \t\tmodel.splice(defaultValue.length, model.length);\n\t\t\t// \t\t$scope.options.fields.splice(defaultValue.length, model.length);\n\t\t\t// \t}\n\n\t\t\t// \t$scope.options.fields.map(function(fields, index){\n\t\t\t// \t\tif(model[index]){\n\t\t\t// \t\t\tanaproFormlyFactory.resetModel(\n\t\t\t// \t\t\t\tfields,\n\t\t\t// \t\t\t\tmodel[index]\n\t\t\t// \t\t\t);\n\t\t\t// \t\t}\n\t\t\t// \t});\n\n\t\t\t// };\n\n\t\t\t$scope.options.fields = [];\n\n\t\t\tvar setFieldsDefaultValue = function(fields, defaultValueModel){\n\t\t\t\tfields.map(function(field){\n\t\t\t\t\tif(field){\n\t\t\t\t\t\tif(!field.key || !isNaN(field.key)){\n\t\t\t\t\t\t\tfield.defaultValue = defaultValueModel;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tfield.defaultValue = defaultValueModel[field.key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar multiTypesSelectOptions = [];\n\n\t\t\tif(multiTypesFields){\n\t\t\t\tObject.keys(multiTypesFields).map(function(key){\n\t\t\t\t\tmultiTypesSelectOptions.push({\n\t\t\t\t\t\tname: multiTypesFields[key][0].templateOptions.optionLabel || key,\n\t\t\t\t\t\tvalue: key\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar getMultiTypesSelectUniqueValidator = {\n\t\t\t\texpression: function(viewValue, modelValue){\n\n\t\t\t\t\tif(!$scope.options.data.fieldTypeKeyUnique){\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar value = $scope.model[$scope.options.key];\n\t\t\t\t\tvar fieldType = $scope.options.data.fieldTypeKey;\n\t\t\t\t\tvar typesCount = 0;\n\n\t\t\t\t\tvalue.map(function(item){\n\t\t\t\t\t\tif(item[fieldType] == modelValue){\n\t\t\t\t\t\t\ttypesCount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn typesCount < 2;\n\t\t\t\t},\n\t\t\t\tmessage: function(viewValue){\n\n\t\t\t\t\tvar desc = viewValue;\n\n\t\t\t\t\tif(multiTypesFields[viewValue][0] && multiTypesFields[viewValue][0].templateOptions){\n\t\t\t\t\t\tdesc = multiTypesFields[viewValue][0].templateOptions.optionLabel || desc;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ' permitido apenas um ' + desc + '.';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getMultiTypesSelect = function(key, index, fieldsBasedOnModel){\n\n\t\t\t\treturn {\n\t\t\t\t\tkey: key,\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\tclassName: 'multi-type-select',\n\t\t\t\t\tngModelElAttrs: fieldsBasedOnModel[0].ngModelElAttrs,\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tnotNull: true,\n\t\t\t\t\t\toptions: multiTypesSelectOptions,\n\t\t\t\t\t\tonChange: function(){\n\n\t\t\t\t\t\t\t$scope.options.multiInputFields[index].splice(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t$scope.options.multiInputFields[index].length\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tvar fields = getMultiTypeFieldsBasedOnModel(index);\n\n\t\t\t\t\t\t\tangular.extend(\n\t\t\t\t\t\t\t\t$scope.options.multiInputFields[index],\n\t\t\t\t\t\t\t\tfields\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\texpressionProperties: fieldsBasedOnModel[0].expressionProperties,\n\t\t\t\t\tvalidators: {\n\t\t\t\t\t\tgetMultiTypesSelectUniqueValidator: getMultiTypesSelectUniqueValidator\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tvar getMultiTypesFieldBasedOnModelValue = function(fieldType, value){\n\n\t\t\t\tvar field = angular.copy(multiTypesFields[value[fieldType]]);\n\n\t\t\t\tif(!field){\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn field;\n\t\t\t};\n\n\t\t\tvar getMultiTypeFieldsBasedOnModel = function(index){\n\n\t\t\t\tvar value = $scope.model[$scope.options.key][index];\n\t\t\t\tvar fieldType = $scope.options.data.fieldTypeKey;\n\t\t\t\tvar fieldsBasedOnModel = getMultiTypesFieldBasedOnModelValue(fieldType, value);\n\t\t\t\tvar fields = [\n\t\t\t\t\tgetMultiTypesSelect(\n\t\t\t\t\t\tfieldType,\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\tfieldsBasedOnModel\n\t\t\t\t\t)\n\t\t\t\t];\n\n\t\t\t\tif(fieldsBasedOnModel){\n\t\t\t\t\tfields = fields.concat(fieldsBasedOnModel);\n\t\t\t\t}else{\n\t\t\t\t\tfields = [];\n\t\t\t\t}\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tfields[0].formControl.$touched = true;\n\t\t\t\t\tfields[0].formControl.$untouched = false;\n\t\t\t\t});\n\n\t\t\t\treturn fields;\n\n\t\t\t};\n\n\t\t\t$scope.hasMatchFields = function(index){\n\n\t\t\t\t// is not a multi types fields\n\t\t\t\tif(!multiTypesFields){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tvar value = $scope.model[$scope.options.key][index];\n\t\t\t\tvar fieldType = $scope.options.data.fieldTypeKey;\n\n\t\t\t\treturn !!multiTypesFields[value[fieldType]];\n\n\t\t\t};\n\n\t\t\t$scope.getFields = function(index){\n\n\t\t\t\tif(!isArrayOfValues){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$scope.options.data.multiInputForms =\n\t\t\t\t\t\t\t$scope.form.multiInputForms[$scope.options.key];\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tvar value = getDefaultValue();\n\t\t\t\tvar fields = $scope.options.fields[index];\n\n\t\t\t\tif(!fields){\n\n\t\t\t\t\tif(multiTypesFields){\n\t\t\t\t\t\tfields = getMultiTypeFieldsBasedOnModel(index);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tfields = angular.copy($scope.options.data.fields);\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.options.fields.push(fields);\n\n\t\t\t\t}\n\n\t\t\t\tif(value && value.length){\n\n\t\t\t\t\tvar defaultValueModel = value[$scope.options.fields.length-1];\n\n\t\t\t\t\tif(defaultValueModel){\n\t\t\t\t\t\tsetFieldsDefaultValue(\n\t\t\t\t\t\t\tfields,\n\t\t\t\t\t\t\tdefaultValueModel,\n\t\t\t\t\t\t\t$scope.options.fields.length-1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn fields;\n\n\t\t\t};\n\n\t\t\t$scope.add = function(event){\n\n\t\t\t\tvar target = event.target;\n\n\t\t\t\tvar model = $scope.model[$scope.options.key];\n\n\t\t\t\tif(!model || model.constructor != Array){\n\t\t\t\t\tmodel = $scope.model[$scope.options.key] = [];\n\t\t\t\t}\n\n\t\t\t\tvar newModel = isArrayOfValues\n\t\t\t\t\t? ''\n\t\t\t\t\t: {};\n\n\t\t\t\tif(multiTypesFields){\n\t\t\t\t\tnewModel[$scope.options.data.fieldTypeKey] = multiTypesSelectOptions[0].value;\n\t\t\t\t}\n\n\t\t\t\tmodel.push(newModel);\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\tvar input = $(target)\n\t\t\t\t\t\t.closest('.formly-field-multiinput')\n\t\t\t\t\t\t.find('ng-form, formly-field').last()\n\t\t\t\t\t\t.find('input:not([type=hidden])')[0];\n\n\t\t\t\t\tif(input){\n\t\t\t\t\t\tinput.focus();\n\t\t\t\t\t}\n\n\t\t\t\t},0);\n\n\t\t\t};\n\n\t\t\t$scope.remove = function(index, item){\n\n\t\t\t\tif(isArrayOfValues){\n\n\t\t\t\t\tmodel.splice(index, 1);\n\n\t\t\t\t\tsetAndCleanUPModel(model);\n\n\t\t\t\t}else{\n\n\t\t\t\t\tif(item[keepKey]){\n\n\t\t\t\t\t\tObject.keys(item).map(function(key){\n\t\t\t\t\t\t\tif(key != keepKey){\n\t\t\t\t\t\t\t\tdelete item[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tdelete $scope.form.multiInputForms[$scope.options.key][index];\n\t\t\t\t\t\t$scope.options.fields.splice(index, 1);\n\n\t\t\t\t\t\tmodel.splice(index, 1);\n\n\t\t\t\t\t\tsetAndCleanUPModel(model);\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.isRemoved = function(item){\n\t\t\t\treturn typeof item != 'undefined'\n\t\t\t\t\t&& item.constructor.name == 'Object'\n\t\t\t\t\t&& Object.keys(item).length === 1\n\t\t\t\t\t&& Object.keys(item)[0] == keepKey;\n\t\t\t};\n\n\t\t};\n\n\t\tformlyConfigProvider.setType({\n\t\t\tname: 'multiinput',\n\t\t\ttemplateUrl: 'formly-templates/multi-input.html',\n\t\t\t//extends: 'input',\n\t\t\t// defaultOptions: {\n\t\t\t// \tnoFormControl: false,\n\t\t\t// },\n\t\t\tcontroller: controller\n\t\t});\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.select-buttons', [])\n\n\t.run(function(formlyConfig){\n\n\t\tvar controller = function($scope){\n\n\t\t\tvar setModel = function(option){\n\n\t\t\t\tif(\n\t\t\t\t\t$scope.model[$scope.options.key] == option.value\n\t\t\t\t\t&&\n\t\t\t\t\t!$scope.to.required\n\t\t\t\t){\n\t\t\t\t\tdelete $scope.model[$scope.options.key];\n\t\t\t\t}else{\n\t\t\t\t\t$scope.model[$scope.options.key] = option.value;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.select = function(option){\n\n\t\t\t\tsetModel(option);\n\n\t\t\t\tif($scope.options.data && $scope.options.data.onChange){\n\t\t\t\t\t$scope.options.data.onChange($scope.options, option.value);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t};\n\n\t\tformlyConfig.setType({\n\t\t\tname: 'anaproSelectButtons',\n\t\t\ttemplateUrl: 'formly-templates/select-buttons.html',\n\t\t\textends: 'input',\n\t\t\tcontroller: controller\n\t\t});\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.switch', [])\n\n\t.run(function(\n\t\tformlyConfig\n\t){\n\n\t\tvar controller = function($scope){\n\n\t\t\t$scope.onclick = function(event){\n\t\t\t\tif($scope.options.data && typeof $scope.options.data.onclick == 'function'){\n\t\t\t\t\t$scope.options.data.onclick(event, $scope.options);\n\t\t\t\t}\n\t\t\t};\n\n\t\t};\n\n\t\tformlyConfig.setType({\n\t\t\tname: 'anaproSwitch',\n\t\t\ttemplateUrl: 'formly-templates/switch.html',\n\t\t\tdefaultOptions: {\n\t\t\t\tngModelAttrs: {\n\t\t\t\t\tcustomTrueValue: {\n\t\t\t\t\t\tattribute: 'ng-true-value'\n\t\t\t\t\t},\n\t\t\t\t\tcustomFalseValue: {\n\t\t\t\t\t\tattribute: 'ng-false-value'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontroller: controller\n\t\t});\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.time-input', [])\n\n\t.run(function(formlyConfig, mainController, $filter, anaproFormlyFactory){\n\n\t\tvar device = mainController.getDevice(),\n\t\t\tparseDate = anaproFormlyFactory.parseDate,\n\t\t\tformatterDate = anaproFormlyFactory.formatterDate,\n\t\t\ttimeISOFromString = anaproFormlyFactory.timeISOFromString;\n\n\t\tvar controller = function($scope, $timeout){\n\n\t\t\t$scope.options.resetModel = function(){\n\t\t\t\tif($scope.options.templateOptions.type == 'time'){\n\t\t\t\t\t$scope.options.parsers = [parseDate];\n\t\t\t\t\t$scope.options.formatters = [formatterDate];\n\t\t\t\t}\n\n\t\t\t\t$scope.model[$scope.options.key] = null;\n\n\t\t\t\tvar defaultValue = timeISOFromString($scope.options.defaultValue);\n\n\t\t\t\tif(defaultValue){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$scope.model[$scope.options.key] =\n\t\t\t\t\t\t\t$filter('date')(\n\t\t\t\t\t\t\t\ttimeISOFromString($scope.options.defaultValue),\n\t\t\t\t\t\t\t\t$scope.options.templateOptions.dateFormat\n\t\t\t\t\t\t\t);\n\t\t\t\t\t},0);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.options.resetModel();\n\n\t\t\t$scope.iconClick = function($event){\n\t\t\t\t$($event.target).closest('.form-input-extras').find('input').focus();\n\t\t\t};\n\n\t\t};\n\n\t\tformlyConfig.setType({\n\t\t\tname: 'anaproTime',\n\t\t\textends: 'input',\n\t\t\tcontroller: controller,\n\t\t\tdefaultOptions: {\n\t\t\t\tngModelAttrs: {\n\t\t\t\t\toff: {\n\t\t\t\t\t\tvalue: 'autocomplete'\n\t\t\t\t\t},\n\t\t\t\t\tdatePicker: {\n\t\t\t\t\t\tattribute: 'bs-timepicker'\n\t\t\t\t\t},\n\t\t\t\t\tautoclose: {\n\t\t\t\t\t\tattribute: 'autoclose'\n\t\t\t\t\t},\n\t\t\t\t\tdateFormat: {\n\t\t\t\t\t\tattribute: 'data-model-Time-Format'\n\t\t\t\t\t},\n\t\t\t\t\tdateType: {\n\t\t\t\t\t\tattribute: 'data-time-type'\n\t\t\t\t\t},\n\t\t\t\t\tmin: {\n\t\t\t\t\t\tattribute: device == 'mobile' ? 'min' : 'data-min-time'\n\t\t\t\t\t},\n\t\t\t\t\tmax: {\n\t\t\t\t\t\tattribute: device == 'mobile' ? 'max' : 'data-max-time'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttemplateOptions: (function(){\n\t\t\t\t\tvar to = {\n\t\t\t\t\t\ttype: 'time'\n\t\t\t\t\t};\n\n\t\t\t\t\tif(device == 'desktop'){\n\t\t\t\t\t\tto = {\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tdateType: 'string',\n\t\t\t\t\t\t\tdatePicker: true,\n\t\t\t\t\t\t\tautoclose: true,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tangular.extend(to,{dateFormat: 'yyyy-MM-ddTHH:mm:ss'});\n\n\t\t\t\t\treturn to;\n\t\t\t\t})(),\n\t\t\t\tvalidators: (function(){\n\n\t\t\t\t\tvar timeValidator = {};\n\n\t\t\t\t\t// if(device == 'mobile'){\n\t\t\t\t\ttimeValidator = {\n\t\t\t\t\t\tmax: {\n\t\t\t\t\t\t\texpression: function(viewValue, modelValue, scope){\n\t\t\t\t\t\t\t\tviewValue, modelValue, scope;\n\n\t\t\t\t\t\t\t\tif(!scope.options.templateOptions.max){\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif(!modelValue){\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar value = timeISOFromString(modelValue);\n\t\t\t\t\t\t\t\tvar max = timeISOFromString(scope.options.templateOptions.max, value);\n\n\t\t\t\t\t\t\t\treturn value.getTime() <= max.getTime();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmin: {\n\t\t\t\t\t\t\texpression: function(viewValue, modelValue, scope){\n\t\t\t\t\t\t\t\tviewValue, modelValue, scope;\n\n\t\t\t\t\t\t\t\tif(!scope.options.templateOptions.min){\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif(!modelValue){\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar value = timeISOFromString(modelValue);\n\t\t\t\t\t\t\t\tvar min = timeISOFromString(scope.options.templateOptions.min, value);\n\n\t\t\t\t\t\t\t\treturn value.getTime() >= min.getTime();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t// }\n\n\t\t\t\t\treturn timeValidator;\n\t\t\t\t})(),\n\t\t\t\tvalidation: {\n\t\t\t\t\tmessages: {\n\t\t\t\t\t\tmax: function(viewValue, modelValue, scope){\n\t\t\t\t\t\t\treturn scope.to.label\n\t\t\t\t\t\t\t\t+ ' precisa ser menor que '\n\t\t\t\t\t\t\t\t+ scope.to.max;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmin: function(viewValue, modelValue, scope){\n\t\t\t\t\t\t\treturn scope.to.label\n\t\t\t\t\t\t\t\t+ ' precisa ser maior que '\n\t\t\t\t\t\t\t\t+ scope.to.min;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdate: function(){\n\t\t\t\t\t\t\treturn 'Horrio invlido';\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttime: function(){\n\t\t\t\t\t\t\treturn 'Horrio invlido';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.factory-async-options', [])\n\t\t.factory('anaproFormlyFactoryAsyncOptions',\n\n\t\t\tfunction(\n\t\t\t\tutilsService,\n\t\t\t\tutilsStatesService,\n\t\t\t\tfollowupService\n\t\t\t){\n\n\t\t\t\tvar asyncResources = {\n\n\t\t\t\t\tutilsOccupations: {\n\t\t\t\t\t\tget: utilsService.getOccupations,\n\t\t\t\t\t\tsuccess: function(field, data){\n\n\t\t\t\t\t\t\tdata.data.map(function(item){\n\t\t\t\t\t\t\t\tfield.templateOptions.options.push({\n\t\t\t\t\t\t\t\t\tvalue: item.fields.profissaoIdGuid,\n\t\t\t\t\t\t\t\t\tname: item.fields.profissaoNome\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tutilsStates: {\n\t\t\t\t\t\tget: utilsService.getStates,\n\t\t\t\t\t\tsuccess: function(field, data){\n\n\t\t\t\t\t\t\tdata.data.map(function(item){\n\t\t\t\t\t\t\t\tfield.templateOptions.options.push({\n\t\t\t\t\t\t\t\t\tvalue: item.fields.localidadeUF,\n\t\t\t\t\t\t\t\t\tname: utilsStatesService[item.fields.localidadeUF]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tfollowupsSubTypes: {\n\t\t\t\t\t\tget: followupService.getSubTypes,\n\t\t\t\t\t\tsuccess: function(field, data){\n\n\t\t\t\t\t\t\tdata.data.map(function(item){\n\t\t\t\t\t\t\t\tfield.templateOptions.options.push({\n\t\t\t\t\t\t\t\t\tvalue: item.fields.interacaoTipoSubIdGuid,\n\t\t\t\t\t\t\t\t\tname: item.fields.interacaoTipoSubValor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar preSuccess = function(){\n\t\t\t\t\tthis.scope.loading = true;\n\t\t\t\t};\n\n\t\t\t\tvar postSuccess = function(){\n\n\t\t\t\t\tif(this.attrs.success){\n\t\t\t\t\t\tthis.attrs.success();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.scope.loading = false;\n\t\t\t\t};\n\n\t\t\t\tvar getAsyncOptions = function(){\n\n\t\t\t\t\tvar instance = this;\n\t\t\t\t\tvar async = this.scope.options.data.async;\n\n\t\t\t\t\tvar resource = async.resource,\n\t\t\t\t\t\tsuccess = async.success || asyncResources[resource].success;\n\n\t\t\t\t\tif(asyncResources[resource]){\n\n\t\t\t\t\t\tpreSuccess.apply(instance);\n\n\t\t\t\t\t\tasyncResources[resource].get({\n\t\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\t\tsuccess(instance.scope.options, response.data);\n\t\t\t\t\t\t\t\tpostSuccess.apply(instance);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar getInstance = function(scope){\n\t\t\t\t\treturn (function(scope){\n\n\t\t\t\t\t\tvar init = function(attrs){\n\n\t\t\t\t\t\t\tinstance.attrs = attrs || {};\n\n\t\t\t\t\t\t\tscope.loading = false;\n\t\t\t\t\t\t\tscope.options.templateOptions.options = scope.options.templateOptions.options || [];\n\n\t\t\t\t\t\t\tif(scope.options.data.async){\n\t\t\t\t\t\t\t\tgetAsyncOptions.apply(instance);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar instance = {\n\t\t\t\t\t\t\tinit: init,\n\t\t\t\t\t\t\tscope: scope\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn instance;\n\n\t\t\t\t\t})(scope);\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\t\t\t\t\tgetInstance: getInstance\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t}\n\t\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.factory', [])\n\t\t.factory('anaproFormlyFactory',\n\n\t\t\tfunction(\n\t\t\t\t$filter\n\t\t\t){\n\n\t\t\t\t// default field type converter\n\t\t\t\tvar fieldTypes = {\n\t\t\t\t\t'email': 'anaproEmail',\n\t\t\t\t\t'date': 'anaproDate',\n\t\t\t\t\t'time': 'anaproTime',\n\t\t\t\t\t'datetime': 'anaproDateTime',\n\t\t\t\t\t'boolean': 'anaproCheckbox',\n\t\t\t\t\t'multiselect': 'anaproMultiCheckbox'\n\t\t\t\t};\n\n\t\t\t\tvar fieldTypeMaker = {\n\n\t\t\t\t\ttext: function(field){\n\t\t\t\t\t\treturn angular.extend(\n\t\t\t\t\t\t\tfield,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\t\t\ttemplateOptions: angular.extend(\n\t\t\t\t\t\t\t\t\tfield.templateOptions,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\tminlength: field.templateOptions.minLength || null,\n\t\t\t\t\t\t\t\t\t\tmaxlength: field.templateOptions.maxLength || null\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\n\t\t\t\t\tnumberInput: function(field){\n\n\t\t\t\t\t\tfield = angular.extend(\n\t\t\t\t\t\t\tfield,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'numberInput'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif(field.templateOptions.money){\n\t\t\t\t\t\t\tfield.validation = {\n\t\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\t\tmax: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\t\t\t\tnewValue, oldValue;\n\n\t\t\t\t\t\t\t\t\t\treturn 'Valor mximo permitido  '\n\t\t\t\t\t\t\t\t\t\t\t+ $filter('currency')(scope.to.maxValue, 'R$ ');\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tmin: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\t\t\t\tnewValue, oldValue;\n\n\t\t\t\t\t\t\t\t\t\treturn 'Valor mnimo permitido  '\n\t\t\t\t\t\t\t\t\t\t\t+ $filter('currency')(scope.to.minValue, 'R$ ');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}else if(field.templateOptions.decimals){\n\t\t\t\t\t\t\tfield.validation = {\n\t\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\t\tmax: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\t\t\t\tnewValue, oldValue;\n\n\t\t\t\t\t\t\t\t\t\treturn 'Valor mximo permitido  '\n\t\t\t\t\t\t\t\t\t\t\t+ $filter('number')(scope.to.maxValue, scope.to.decimals);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tmin: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\t\t\t\tnewValue, oldValue;\n\n\t\t\t\t\t\t\t\t\t\treturn 'Valor mnimo permitido  '\n\t\t\t\t\t\t\t\t\t\t\t+ $filter('number')(scope.to.minValue, scope.to.decimals);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tfield.templateOptions.decimals = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn field;\n\t\t\t\t\t},\n\n\t\t\t\t\tmaskedInput: function(field){\n\t\t\t\t\t\treturn angular.extend(\n\t\t\t\t\t\t\tfield,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\ttemplateOptions: angular.extend(\n\t\t\t\t\t\t\t\t\tfield.templateOptions,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'text'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\n\t\t\t\t\tselect: function(field){\n\n\t\t\t\t\t\tif(field.templateOptions.options.length > 20){\n\t\t\t\t\t\t\tfield.type = 'nya-select';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn field;\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar replacePropertyFieldByKey = function(field){\n\t\t\t\t\tfield.key = field.field;\n\t\t\t\t\tdelete field.field;\n\t\t\t\t};\n\n\t\t\t\tvar moveOptionsToTemplateOptions = function(field){\n\t\t\t\t\tfield.templateOptions = field.templateOptions || {};\n\n\t\t\t\t\tif(field.options){\n\t\t\t\t\t\tfield.templateOptions.options = field.options;\n\t\t\t\t\t\tdelete field.options;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar mergeFieldsByKey = function(field, options){\n\t\t\t\t\tfield.templateOptions = field.templateOptions || {};\n\n\t\t\t\t\tif(options.merge && options.merge[field.key]){\n\t\t\t\t\t\tfield = angular.merge(\n\t\t\t\t\t\t\tfield,\n\t\t\t\t\t\t\toptions.merge[field.key]\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar createFormlyFieldType = function(field){\n\t\t\t\t\tif(field.templateOptions &&\n\t\t\t\t\t\t/mask|cnpj|cpf/\n\t\t\t\t\t\t\t.test(Object.keys(field.templateOptions)\n\t\t\t\t\t\t\t.join(',').toLowerCase())\n\t\t\t\t\t){\n\t\t\t\t\t\treturn fieldTypeMaker['maskedInput'](field);\n\t\t\t\t\t}else if(/integer|decimals/.test(field.type)){\n\t\t\t\t\t\treturn fieldTypeMaker['numberInput'](field);\n\t\t\t\t\t}else if(fieldTypeMaker[field.type]){\n\t\t\t\t\t\treturn fieldTypeMaker[field.type](field);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn field;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar createFormlyFieldsFromAPI = function(\n\t\t\t\t\tapiFields,\n\t\t\t\t\tformlyFields,\n\t\t\t\t\toptions\n\t\t\t\t){\n\n\t\t\t\t\toptions = options || {};\n\n\t\t\t\t\tapiFields.map(function(field){\n\t\t\t\t\t\treplacePropertyFieldByKey(field);\n\t\t\t\t\t\tmoveOptionsToTemplateOptions(field);\n\t\t\t\t\t\tmergeFieldsByKey(field, options);\n\t\t\t\t\t\tfield.type = fieldTypes[field.type.toLowerCase()] || field.type;\n\t\t\t\t\t\tfield = createFormlyFieldType(field) || field;\n\t\t\t\t\t\tformlyFields.push(field);\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tvar resetModel = function(fields, model){\n\t\t\t\t\tfor(var i=0; i<fields.length; i++){\n\n\t\t\t\t\t\tvar fieldModel = fields[i].model || model;\n\t\t\t\t\t\tvar defaultValue = fields[i].defaultValue;\n\n\t\t\t\t\t\tif(typeof fields[i].key != 'undefined' && defaultValue\n\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\tfieldModel[fields[i].key]\n\t\t\t\t\t\t){\n\n\t\t\t\t\t\t\tif(fields[i].type == 'anaproCheckbox'){\n\t\t\t\t\t\t\t\tdelete fieldModel[fields[i].key];\n\n\t\t\t\t\t\t\t}else if(fields[i].type == 'anaproMultiCheckbox'){\n\t\t\t\t\t\t\t\tfieldModel[fields[i]['key']] = [];\n\n\t\t\t\t\t\t\t}else if(fields[i].fieldGroup){\n\t\t\t\t\t\t\t\tresetModel(fields[i], fieldModel[fields[i]['key']]);\n\t\t\t\t\t\t\t\tdelete fieldModel[fields[i]['key']];\n\n\t\t\t\t\t\t\t}else if(\n\t\t\t\t\t\t\t\tdefaultValue\n\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t/multiinput|address/.test(fields[i].type)\n\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t/anaproDate|anaproTime|anaproDateTime/.test(fields[i].type)\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\tfields[i].resetModel();\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tdelete fieldModel[fields[i].key];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// var getFormattedModel = function(fields, model){\n\t\t\t\t// \tvar formattedModel = angular.copy(model);\n\n\t\t\t\t// \tfor(var i=0; i<fields.length; i++){\n\n\t\t\t\t// \t\tvar field = fields[i];\n\t\t\t\t// \t\tvar fieldModel = fields[i].model || formattedModel;\n\n\t\t\t\t// \t\tif(fieldModel[fields[i].key]){\n\n\t\t\t\t// \t\t\tif(fields[i].data && fields[i].data.getFormattedValue){\n\n\t\t\t\t// \t\t\t\tformattedModel[field.key] = fields[i].data.getFormattedValue();\n\n\t\t\t\t// \t\t\t}else if(fields[i].fieldGroup){\n\n\t\t\t\t// \t\t\t\tformattedModel[fields[i].key] = getFormattedModel(\n\t\t\t\t// \t\t\t\t\tfields[i].fieldGroup,\n\t\t\t\t// \t\t\t\t\tformattedModel[fields[i].key]\n\t\t\t\t// \t\t\t\t);\n\n\t\t\t\t// \t\t\t\tif(fields[i].data && fields[i].data.merge){\n\t\t\t\t// \t\t\t\t\tangular.merge(\n\t\t\t\t// \t\t\t\t\t\tformattedModel,\n\t\t\t\t// \t\t\t\t\t\tformattedModel[fields[i].key]\n\t\t\t\t// \t\t\t\t\t);\n\t\t\t\t// \t\t\t\t\tdelete formattedModel[fields[i].key];\n\t\t\t\t// \t\t\t\t}\n\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t}\n\n\t\t\t\t// \t}\n\n\t\t\t\t// \treturn formattedModel;\n\t\t\t\t// };\n\n\t\t\t\tvar groupOptionsByExpression = function(fields, key, expression){\n\n\t\t\t\t\tvar options;\n\n\t\t\t\t\tfields.map(function(item){\n\t\t\t\t\t\tif(item.field == key){\n\t\t\t\t\t\t\toptions = item.options;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif(options){\n\t\t\t\t\t\toptions.map(function(item){\n\t\t\t\t\t\t\tif(expression.test(item.name)){\n\t\t\t\t\t\t\t\titem.group = item.name.match(expression)[1];\n\t\t\t\t\t\t\t\titem.name = item.name.replace(expression,'');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn options;\n\t\t\t\t};\n\n\t\t\t\tvar parseDate = function(newValue, oldValue, scope){\n\t\t\t\t\treturn $filter('date')(newValue,scope.options.templateOptions.dateFormat);\n\t\t\t\t};\n\n\t\t\t\tvar formatterDate = function(newValue){\n\n\t\t\t\t\tif(!newValue){\n\t\t\t\t\t\treturn newValue;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new Date(\n\t\t\t\t\t\tnewValue +\n\t\t\t\t\t\t\t(!/T(\\d\\d:?){3}/.test(newValue)\n\t\t\t\t\t\t\t\t? 'T00:00:00'\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tvar getDateFromString = function(dateString){\n\n\t\t\t\t\tif(!dateString){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}else if(dateString.constructor.name == 'Date'){\n\t\t\t\t\t\treturn dateString;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar d = dateString.split(/\\D/);\n\n\t\t\t\t\t\treturn new Date(\n\t\t\t\t\t\t\td[0],\n\t\t\t\t\t\t\td[1]-1,\n\t\t\t\t\t\t\td[2],\n\t\t\t\t\t\t\td[3] || 0,\n\t\t\t\t\t\t\td[4] || 0,\n\t\t\t\t\t\t\td[5] || 0\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar timeISOFromString = function(val, baseDate){\n\n\t\t\t\t\tif(!val){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar valDate = new Date(val);\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif(!isNaN(valDate.getTime())){\n\t\t\t\t\t\treturn valDate;\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tmatch = val.match(/(..):(..)(:(..))?/);\n\n\t\t\t\t\t\tif(baseDate\n\t\t\t\t\t\t\t&& baseDate.constructor.name == 'Date'\n\t\t\t\t\t\t\t&& !isNaN(baseDate.getTime())\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\treturn new Date(\n\t\t\t\t\t\t\t\tbaseDate.getFullYear(),\n\t\t\t\t\t\t\t\tbaseDate.getMonth(),\n\t\t\t\t\t\t\t\tbaseDate.getDate(),\n\t\t\t\t\t\t\t\tmatch[1],match[2],match[4] || '00','000'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treturn new Date(1970,1,1,match[1],match[2],match[4] || '00','000');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar setFieldsOrder = function(fields, order){\n\n\t\t\t\t\tvar orderedFields = [];\n\n\t\t\t\t\tfor(var index=0; index<fields.length; index++){\n\n\t\t\t\t\t\tvar newFieldIndex = order.indexOf(fields[index].key);\n\n\t\t\t\t\t\tif(newFieldIndex >= 0){\n\t\t\t\t\t\t\torderedFields[newFieldIndex] = fields.splice(index, 1)[0];\n\t\t\t\t\t\t\tindex--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor(var i = orderedFields.length; i--; i>=0){\n\n\t\t\t\t\t\tif(orderedFields[i]){\n\t\t\t\t\t\t\tfields.splice(0, 0, orderedFields[i]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\t\t\t\t\tcreateFormlyFieldsFromAPI: createFormlyFieldsFromAPI,\n\t\t\t\t\tresetModel: resetModel,\n\t\t\t\t\t// getFormattedModel: getFormattedModel,\n\t\t\t\t\tgroupOptionsByExpression: groupOptionsByExpression,\n\t\t\t\t\tparseDate: parseDate,\n\t\t\t\t\tformatterDate: formatterDate,\n\t\t\t\t\ttimeISOFromString: timeISOFromString,\n\t\t\t\t\tgetDateFromString: getDateFromString,\n\t\t\t\t\tsetFieldsOrder: setFieldsOrder\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t}\n\t\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly', [\n\t\t'formly',\n\t\t'formlyBootstrap',\n\t\t'anapro.formly.examples',\n\t\t'anapro.formly.factory',\n\t\t'anapro.formly.factory-async-options',\n\t\t'anapro.formly.multi-input',\n\t\t'anapro.formly.address-input',\n\t\t'anapro.formly.date-input',\n\t\t'anapro.formly.time-input',\n\t\t'anapro.formly.datetime-input',\n\t\t'anapro.formly.select-buttons',\n\t\t'anapro.formly.nya-select',\n\t\t'anapro.formly.select-async',\n\t\t'anapro.formly.switch'\n\t]);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.nya-select', [])\n\n\t.run(function($interpolate, $sce, formlyConfig, nyaBsConfig){\n\n\t\tangular.merge(nyaBsConfig, {\n\t\t\tdefaultNoneSelection: 'Nada selecionado',\n\t\t\tnoSearchResult: 'Nenhum resultado foi encontrado',\n\t\t\tnumberItemSelected: '%d selecionado(s)',\n\t\t\tselectAll: 'Todos',\n\t\t\tdeselectAll: 'Descelecionar todos'\n\t\t});\n\n\t\tvar controller = function(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\tanaproFormlyFactoryAsyncOptions\n\t\t){\n\n\t\t\t$scope.options.data = $scope.options.data || {};\n\t\t\t$scope.optionsLimit = 20;\n\t\t\t$scope.showSearchBoxHint = false;\n\n\t\t\t// WORKAROUND delete array model when it is not multiple type\n\t\t\t// if(\n\t\t\t// \t!$scope.options.data.multiple\n\t\t\t// \t&&\n\t\t\t// \t$scope.model[$scope.options.key]\n\t\t\t// \t&&\n\t\t\t// \t$scope.model[$scope.options.key].constructor.name == 'Array'\n\t\t\t// ){\n\t\t\t// \tdelete $scope.model[$scope.options.key];\n\t\t\t// }\n\n\t\t\tvar isAllOptionsSelected = false;\n\n\t\t\tvar init = function(){\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$($scope.fc.$$element).find('.dropdown-toggle').on(\n\t\t\t\t\t\t'blur',\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t$scope.$digest();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\t$($scope.fc.$$element).find('.bs-searchbox input').on(\n\t\t\t\t\t\t'keyup',\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t$scope.$digest();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tif($scope.options.data.multiple){\n\n\t\t\t\t\t\tvar element = $($scope.options.formControl.$$element[0]).find('.bs-select-all');\n\n\t\t\t\t\t\tvar buttonOK = $('<button type=\"button\" class=\"bs-select-ok btn btn-default\">Ok</button>');\n\n\t\t\t\t\t\tbuttonOK.on(\n\t\t\t\t\t\t\t'click',\n\t\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t\t$($($scope.fc.$$element)).removeClass('open');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t$($scope.options.formControl.$$element[0])\n\t\t\t\t\t\t\t\t.find('.bs-actionsbox .btn-group')\n\t\t\t\t\t\t\t\t.append(buttonOK);\n\n\t\t\t\t\t\t$(element).unbind('click');\n\n\t\t\t\t\t\t$(element).click(function(event){\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\ttoggleSelectAll();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar toggleSelectAll = function(){\n\t\t\t\tvar model = $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\n\n\t\t\t\tif(!isAllOptionsSelected){\n\t\t\t\t\t$scope.options.templateOptions.options.map(function(item){\n\t\t\t\t\t\tif(model.indexOf(item.value) < 0){\n\t\t\t\t\t\t\tmodel.push(item.value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tmodel.splice(0, model.length);\n\t\t\t\t}\n\n\t\t\t\tisAllOptionsSelected = !isAllOptionsSelected;\n\t\t\t};\n\n\t\t\t$scope.isAllOptionsSelected = function(){\n\t\t\t\treturn isAllOptionsSelected;\n\t\t\t};\n\n\t\t\tvar asyncOptionsSuccess = function(){\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tangular.element(\n\t\t\t\t\t\t$scope.options.formControl.$$element[0].querySelector('input')\n\t\t\t\t\t)\n\t\t\t\t\t.attr('autocomplete', 'false');\n\t\t\t\t},0);\n\t\t\t};\n\n\t\t\tvar interpolateCustomDesc = function(obj){\n\t\t\t\treturn $interpolate(\n\t\t\t\t\t$scope.options.data.customDesc\n\t\t\t\t)(obj);\n\t\t\t};\n\n\t\t\tvar setCustomDescTemplate = function(obj){\n\n\t\t\t\tvar template = interpolateCustomDesc(obj);\n\n\t\t\t\tobj.customDescOnlyText = template\n\t\t\t\t\t.replace(/<.*?>/g,' ')\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n\n\t\t\t\tobj.customDescTemplate = $sce.trustAsHtml(\n\t\t\t\t\ttemplate\n\t\t\t\t\t+ '<span class=\"hidden-normalized-name\">'\n\t\t\t\t\t+ obj.customDescOnlyText\n\t\t\t\t\t+ '</span>'\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.optionIsSelected = function(option){\n\n\t\t\t\tvar model = $scope.model[$scope.options.key];\n\n\t\t\t\tif(\n\t\t\t\t\tmodel\n\t\t\t\t\t&&\n\t\t\t\t\tmodel.constructor.name == 'Array'\n\t\t\t\t){\n\n\t\t\t\t\treturn model.indexOf(option.value) > -1;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t\t$scope.removeSelectedOption = function(option){\n\n\t\t\t\tvar model = angular.copy($scope.model[$scope.options.key]);\n\n\t\t\t\tmodel.splice(model.indexOf(option.value), 1);\n\n\t\t\t\t$scope.options.value(model);\n\n\t\t\t\tif(!model.length){\n\t\t\t\t\tdelete $scope.model[$scope.options.key];\n\t\t\t\t}\n\n\t\t\t\t$scope.fc.$touched = true;\n\t\t\t\t$scope.fc.$untouched = false;\n\n\t\t\t};\n\n\t\t\t$scope.getOptions = function(){\n\n\t\t\t\tvar searchBoxVal = $($scope.fc.$$element)\n\t\t\t\t\t.find('.bs-searchbox input')\n\t\t\t\t\t.val()\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t;\n\n\t\t\t\t$($scope.fc.$$element)\n\t\t\t\t\t.find('.bs-searchbox input')\n\t\t\t\t\t.attr(\n\t\t\t\t\t\t'placeholder',\n\t\t\t\t\t\t'Digite para filtrar ' + $scope.to.label\n\t\t\t\t\t);\n\n\t\t\t\tvar searchBoxValRegExp = new RegExp(\n\t\t\t\t\tsearchBoxVal.replace(/([*()\\u005B\\u005D{}.?^$])/g,'\\\\$1'),\n\t\t\t\t\t'i'\n\t\t\t\t);\n\n\t\t\t\tvar optionsLimit = 0;\n\n\t\t\t\tvar model = $scope.model[$scope.options.key];\n\n\t\t\t\tvar filteredOptions = $scope.options.templateOptions.options.filter(function(item){\n\n\t\t\t\t\titem.displayName = item.displayName || angular.copy(item.name);\n\t\t\t\t\titem.name = item.name\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.normalize('NFD')\n\t\t\t\t\t\t.replace(/[\\u0300-\\u036f]/g, '');\n\n\t\t\t\t\tif(\n\t\t\t\t\t\t(searchBoxValRegExp.test(item.customDescOnlyText || item.name) && optionsLimit < $scope.optionsLimit)\n\t\t\t\t\t\t||\n\t\t\t\t\t\tmodel && model.constructor.name == 'Array' && model.indexOf(item.value) >= 0\n\t\t\t\t\t){\n\t\t\t\t\t\toptionsLimit++;\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\t$scope.showSearchBoxHint = optionsLimit >= $scope.optionsLimit;\n\n\t\t\t\tif(filteredOptions.length){\n\t\t\t\t\t$($scope.fc.$$element).find('.no-search-result').removeClass('show');\n\t\t\t\t}\n\n\t\t\t\treturn filteredOptions;\n\n\t\t\t};\n\n\t\t\t$scope.cleanup = function($event){\n\t\t\t\t$event.stopPropagation();\n\n\t\t\t\tif($scope.model[$scope.options.key]){\n\t\t\t\t\tdelete $scope.model[$scope.options.key];\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tanaproFormlyFactoryAsyncOptions.getInstance($scope).init({\n\t\t\t\tsuccess: asyncOptionsSuccess\n\t\t\t});\n\n\t\t\tif($scope.options.data.customDesc){\n\t\t\t\t$scope.options.templateOptions.options.map(function(item){\n\t\t\t\t\tsetCustomDescTemplate(item);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tinit();\n\n\t\t};\n\n\t\tformlyConfig.setType({\n\t\t\tname: 'nya-select',\n\t\t\textends: 'input',\n\t\t\ttemplateUrl: 'formly-templates/nya-select.html',\n\t\t\tcontroller: controller,\n\t\t\tdefaultOptions: {\n\t\t\t\ttemplateManipulators: {\n\t\t\t\t\tpreWrapper: [\n\t\t\t\t\t\tfunction(template, options, scope){\n\n\t\t\t\t\t\t\tif(scope.options.data.multiple){\n\n\t\t\t\t\t\t\t\tvar x = angular.element('<div></div>').html(template);\n\n\t\t\t\t\t\t\t\tangular.element(x[0].querySelector('.nya-bs-select'))\n\t\t\t\t\t\t\t\t\t.attr('multiple', '')\n\t\t\t\t\t\t\t\t\t.attr('actions-box', 'true');\n\n\t\t\t\t\t\t\t\treturn angular.element(x).html();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn template;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly')\n\n\t.run(function(formlyValidationMessages){\n\n\t\t// other example how set error messages\n\t\t// doc: http://docs.angular-formly.com/docs/formlyvalidationmessages\n\t\t// formlyValidationMessages.messages.required = 'to.label + \" is required\"'\n\t\t// formlyValidationMessages.messages.max = '\"The max value allowed is \" + to.max'\n\t\t// formlyValidationMessages.messages.min = '\"The min value allowed is \" + to.min'\n\n\t\tformlyValidationMessages.addStringMessage('required', 'Campo obrigatrio');\n\t\tformlyValidationMessages.addStringMessage('minlength', 'Texto muito curto');\n\t\tformlyValidationMessages.addStringMessage('maxlength', 'Texto muito longo');\n\t\tformlyValidationMessages.addStringMessage('mask', 'Formato invlido');\n\t\tformlyValidationMessages.addStringMessage('cpf', 'CPF invlido');\n\t\tformlyValidationMessages.addStringMessage('cnpj', 'CNPJ invlido');\n\t\tformlyValidationMessages.addStringMessage('email', 'Email invlido');\n\t\tformlyValidationMessages.addTemplateOptionValueMessage(\n\t\t\t'min', 'minValue', 'O valor mnimo permitido  ', '', ''\n\t\t);\n\t\tformlyValidationMessages.addTemplateOptionValueMessage(\n\t\t\t'max', 'maxValue', 'O valor mximo permitido  ', '', ''\n\t\t);\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.select-async', [])\n\n\t.run(function(formlyConfig){\n\n\t\tvar controller = function($scope, anaproFormlyFactoryAsyncOptions){\n\n\t\t\t$scope.options.data = $scope.options.data || {};\n\n\t\t\tanaproFormlyFactoryAsyncOptions.getInstance($scope).init();\n\n\t\t};\n\n\t\tformlyConfig.setType({\n\t\t\tname: 'select-async',\n\t\t\textends: 'select',\n\t\t\tcontroller: controller\n\t\t});\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('provider.apiToken', [])\n\n\t\t.run(function(CacheFactory){\n\n\t\t\tCacheFactory(\n\t\t\t\t'token',\n\t\t\t\t{\n\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\tstorageMode: 'localStorage'\n\t\t\t\t}\n\t\t\t);\n\n\t\t})\n\n\t\t.provider('apiToken', function(){\n\n\t\t\tthis.$get = function(CacheFactory){\n\n\t\t\t\tthis.getCache = function(){\n\t\t\t\t\treturn CacheFactory.get('token');\n\t\t\t\t};\n\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('provider.base64', [])\n\n\t.run(function(\n\t\t$http,\n\t\t$timeout,\n\t\tbase64\n\t){\n\n\t\t$http({\n\t\t\turl: '/base64/sounds.json',\n\t\t\tmehtod: 'GET'\n\t\t}).then(\n\t\t\tfunction(response){\n\t\t\t\tbase64.putFiles('sounds', response.data);\n\t\t\t},\n\t\t\tfunction(response){\n\t\t\t\tconsole.log(response);\n\t\t\t}\n\t\t);\n\n\t})\n\n\t.provider('base64', function(){\n\n\t\tvar\n\t\t\tself = this,\n\t\t\tfiles = {};\n\n\t\tself.putFiles = function(type, data){\n\t\t\tfiles[type] = data;\n\t\t};\n\n\t\tself.getFilesType = function(type){\n\t\t\treturn files[type];\n\t\t};\n\n\t\tself.$get = function(){\n\n\t\t\treturn self;\n\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('provider.main-controller', [\n\t\t'provider.main-controller.rote-device-changed'\n\t])\n\n\t.provider('mainController', function(){\n\n\t\tvar\n\t\t\tself = this,\n\t\t\tdevice;\n\n\t\tself.setDevice = function(){\n\t\t\tdevice = document.querySelector('body').offsetWidth < 960 ?\n\t\t\t\t'mobile'\n\t\t\t\t:\n\t\t\t\t'desktop';\n\t\t};\n\n\t\tself.setDevice();\n\n\t\tself.getDevice = function(){\n\t\t\treturn device;\n\t\t};\n\n\t\tself.$get = function(mainControllerRotateDeviceChanged){\n\n\t\t\tmainControllerRotateDeviceChanged.init(self);\n\n\t\t\treturn self;\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('provider.main-controller.rote-device-changed',[])\n\n\t.provider(\n\n\t\t'mainControllerRotateDeviceChanged',\n\n\t\tfunction(){\n\n\t\t\tvar self = this;\n\n\t\t\tself.$get = function(\n\t\t\t\t$window\n\t\t\t){\n\n\t\t\t\tvar\n\t\t\t\t\tmainController,\n\t\t\t\t\tlastDevice,\n\t\t\t\t\twindowOnResizeListenerAdded = false;\n\n\t\t\t\tvar windowOnResizeListener = function(){\n\n\t\t\t\t\tlastDevice = mainController.getDevice();\n\n\t\t\t\t\tmainController.setDevice();\n\n\t\t\t\t\tif(lastDevice != mainController.getDevice()){\n\t\t\t\t\t\tangular.element($window).off('resize', windowOnResizeListener);\n\t\t\t\t\t\twindowOnResizeListenerAdded = false;\n\t\t\t\t\t\t$window.location.reload();\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tself.init = function(mainControllerProvider){\n\n\t\t\t\t\tmainController = mainControllerProvider;\n\n\t\t\t\t\tangular.element($window).on(\n\t\t\t\t\t\t'orientationchange',\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\tif(!windowOnResizeListenerAdded){\n\t\t\t\t\t\t\t\twindowOnResizeListenerAdded = true;\n\t\t\t\t\t\t\t\tangular.element($window).on('resize', windowOnResizeListener);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\treturn self;\n\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('provider.path', [])\n\n\t.provider('path', function(){\n\n\t\tvar rootScope;\n\n\t\tvar paths = {\n\n\t\t\t// keys must be same name of views\n\n\t\t\tlogout: {\n\t\t\t\tpath: '/sair/',\n\t\t\t\tlabel: 'Sair',\n\t\t\t\ticon: 'logout'\n\t\t\t},\n\n\t\t\tcalendar: {\n\t\t\t\tpath: '/agenda/',\n\t\t\t\tlabel: 'Agenda',\n\t\t\t\ticon: 'calendar2'\n\t\t\t}\n\n\t\t};\n\n\t\tvar self = this;\n\t\tself.currentKey = 'home';\n\n\t\tself.get = function(view){\n\t\t\treturn paths[view];\n\t\t};\n\n\t\tself.addPath = function(view, object){\n\t\t\tpaths[view] = object;\n\n\t\t\treturn paths[view];\n\t\t};\n\n\t\tself.getPath = function(view){\n\t\t\treturn paths[view].path;\n\t\t};\n\n\t\tself.getIcon = function(view){\n\t\t\treturn paths[view].icon;\n\t\t};\n\n\t\tself.getLabel = function(view){\n\t\t\treturn paths[view].label;\n\t\t};\n\n\t\tself.getCurrent = function(){\n\t\t\treturn paths[self.currentKey];\n\t\t};\n\n\t\tself.getCurrentViewName = function(){\n\t\t\treturn self.currentKey;\n\t\t};\n\n\t\tself.setCurrent = function(view){\n\t\t\tself.currentKey = view || 'home';\n\n\t\t\tif(rootScope.mainController.setViewAttribute){\n\t\t\t\trootScope.mainController.setViewAttribute();\n\t\t\t}\n\t\t};\n\n\t\tself.$get = function($rootScope){\n\t\t\trootScope = $rootScope;\n\n\t\t\treturn self;\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('provider.permission', [])\n\n\t.provider(\n\t\t'permission',\n\t\tfunction(){\n\n\t\t\tvar self = this;\n\n\t\t\tvar adm = false;\n\t\t\tvar permissions = [];\n\t\t\tvar config = {};\n\t\t\tvar descriptions = {};\n\n\t\t\tself.setAdm = function(){\n\t\t\t\tadm = true;\n\t\t\t};\n\n\t\t\tself.set = function(userPermissions){\n\t\t\t\tpermissions = userPermissions;\n\t\t\t};\n\n\t\t\tvar hasPermission = function(permission){\n\n\t\t\t\t// permission do not exists any where\n\t\t\t\tif(!descriptions[permission] && !config[permission]){\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t'Permission key \"' + permission + '\" do not exists, it was ignored.'\n\t\t\t\t\t);\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t// override that removes permission for everone\n\t\t\t\t}else if(isRemoved(permission)){\n\t\t\t\t\treturn false;\n\n\t\t\t\t// return permission in user profile\n\t\t\t\t}else{\n\t\t\t\t\treturn adm || permissions.indexOf(permission) >= 0 || !!config[permission];\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tself.permissionStatus = function(userPermission){\n\t\t\t\tif(isDisabled(userPermission)){\n\t\t\t\t\treturn 'disabled';\n\t\t\t\t}else{\n\t\t\t\t\treturn hasPermission(userPermission);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar isRemoved = function(userPermission){\n\t\t\t\treturn config[userPermission]\n\t\t\t\t\t&&\n\t\t\t\t\tconfig[userPermission].removed\n\t\t\t\t\t|| false\n\t\t\t\t;\n\t\t\t};\n\n\t\t\tvar isDisabled = function(userPermission){\n\t\t\t\treturn config[userPermission]\n\t\t\t\t\t&&\n\t\t\t\t\tconfig[userPermission].disabled\n\t\t\t\t\t|| false\n\t\t\t\t;\n\t\t\t};\n\n\t\t\tself.getDescription = function(userPermissions){\n\t\t\t\treturn (descriptions[userPermissions] || '').replace(/\\.$/,'');\n\t\t\t};\n\n\t\t\tself.checkPermissions = function(list){\n\n\t\t\t\tvar permissionsResult = false;\n\n\t\t\t\tvar listOR = list.split('||');\n\n\t\t\t\tfor(var i=0; i<listOR.length; i++){\n\n\t\t\t\t\tvar listAND = listOR[i].split('&&');\n\n\t\t\t\t\tif(listAND.length > 1){\n\n\t\t\t\t\t\tfor(var z=0; z<listAND.length; z++){\n\n\t\t\t\t\t\t\tpermissionsResult = self.permissionStatus(listAND[z].trim());\n\n\t\t\t\t\t\t\tif(!permissionsResult || permissionsResult == 'disabled'){\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(permissionsResult === true){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tpermissionsResult = self.permissionStatus(listOR[i].trim());\n\n\t\t\t\t\t\tif(permissionsResult === true){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn permissionsResult;\n\n\t\t\t};\n\n\t\t\tthis.$get = function(\n\t\t\t\t$rootScope,\n\t\t\t\tpermissionsDescription,\n\t\t\t\tpermissionsConfig\n\t\t\t){\n\n\t\t\t\t$rootScope.permission = self;\n\n\t\t\t\tdescriptions = permissionsDescription;\n\t\t\t\tconfig = permissionsConfig;\n\n\t\t\t\treturn self;\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","'use strict';\n\n(function(){\n\n\tangular.module('provider.urls', [])\n\n\t.provider('urls', function(\n\t\t$httpProvider\n\t){\n\n\t\tvar self = this;\n\n\t\tvar getCleanPath = function(path){\n\t\t\treturn path.replace(/^.+(\\/.+)$/,'$1');\n\t\t};\n\n\t\tself.config = {\n\t\t\tgetCleanPath: getCleanPath\n\t\t};\n\n\t\tvar addOcpApimSubscriptionKey = function(configs){\n\t\t\tif(configs.ocpApimSubscriptionKey){\n\t\t\t\t$httpProvider.defaults.headers.common['Ocp-Apim-Subscription-Key'] = configs.ocpApimSubscriptionKey;\n\t\t\t}\n\t\t};\n\n\t\tif(window.APIFAKE)\n\t\t\tself.environment = 'fake';\n\t\telse if(window.DEVELOPMENT === true)\n\t\t\tself.environment = 'development';\n\t\telse if(window.DEVELOPMENT === 1)\n\t\t\tself.environment = 'development-local';\n\t\telse\n\t\t\tself.environment = 'production';\n\n\t\tself.$get = [\n\t\t\t'URLs',\n\t\t\t'URLsFake',\n\t\t\t'URLsDevelopment',\n\t\t\t'URLsDevelopmentLocal',\n\t\t\t'URLsProduction',\n\n\t\t\tfunction(\n\t\t\t\tURLs,\n\t\t\t\tURLsFake,\n\t\t\t\tURLsDevelopment,\n\t\t\t\tURLsDevelopmentLocal,\n\t\t\t\tURLsProduction\n\t\t\t){\n\t\t\t\tvar configs;\n\n\t\t\t\tconsole.info(\n\t\t\t\t\t'%cApp Version: '\n\t\t\t\t\t\t+ window.VERSION\n\t\t\t\t\t\t+ '.'\n\t\t\t\t\t\t+ (window.DEVELOPMENT ? 'dev' : 'prod'),\n\t\t\t\t\t'background: blue; color: white; padding: 0 30px;'\n\t\t\t\t);\n\n\t\t\t\tif(window.APIFAKE){\n\t\t\t\t\tconsole.info(\n\t\t\t\t\t\t'%cDefined fake API Environment: ' + window.APIFAKE,\n\t\t\t\t\t\t'background: red; color: white; padding: 0 30px;'\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.info(\n\t\t\t\t\t\t'%cDefined Anapro API Environment: ' + self.environment,\n\t\t\t\t\t\t'background: green; color: white; padding: 0 30px;'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tswitch(self.environment.toLowerCase()){\n\t\t\t\t\tcase 'fake':\n\t\t\t\t\t\tconfigs = URLsFake;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'production':\n\t\t\t\t\t\tconfigs = URLsProduction;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'development':\n\t\t\t\t\t\tconfigs = URLsDevelopment;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'development-local':\n\t\t\t\t\t\tconfigs = URLsDevelopmentLocal;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error('Environment '\n\t\t\t\t\t\t\t+ self.getEnvironment()\n\t\t\t\t\t\t\t+ ' not available!'\n\t\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif(configs.apiPaths){\n\t\t\t\t\tconfigs.apiPaths = angular.extend(URLs.apiPaths, configs.apiPaths);\n\t\t\t\t}\n\n\t\t\t\tconfigs = angular.extend(URLs,configs);\n\n\t\t\t\tconfigs.environment = self.environment;\n\n\t\t\t\tself.config = angular.extend(self.config, configs);\n\n\t\t\t\taddOcpApimSubscriptionKey(configs);\n\n\t\t\t\treturn self.config;\n\t\t\t}];\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.auth', [])\n\n\t\t.run(function(\n\t\t\t$rootScope,\n\t\t\t$location,\n\t\t\tauthService\n\t\t){\n\n\t\t\t// Token Cookie Has Been Changed\n\t\t\t$rootScope.$on('tokenCookieHasBeenChanged', function(){\n\t\t\t\tconsole.log('tokenCookieHasBeenChanged triggered');\n\t\t\t\tauthService.cookieHasBeenChanged();\n\t\t\t\t$location.path('/').replace();\n\t\t\t});\n\n\t\t\t// Token Cookie Has Been Changed But User is the same\n\t\t\t$rootScope.$on('tokenCookieHasBeenChangedButUserIsTheSame', function(){\n\t\t\t\tconsole.log('tokenCookieHasBeenChangedButUserIsTheSame triggered');\n\t\t\t\tauthService.cookieHasBeenChangedButUserIsTheSame();\n\t\t\t});\n\n\t\t})\n\n\t\t.factory(\n\n\t\t\t'authService',\n\n\t\t\tfunction(\n\t\t\t\t$window,\n\t\t\t\t$http,\n\t\t\t\t$rootScope,\n\t\t\t\tCacheFactory,\n\t\t\t\tauthCookieFactory,\n\t\t\t\tapiToken,\n\t\t\t\tusersService,\n\t\t\t\turls,\n\t\t\t\tanalyticsService\n\t\t\t){\n\n\t\t\t\tvar cacheToken = apiToken.getCache();\n\n\t\t\t\tvar loadUserProfile = function(){\n\t\t\t\t\tif(service.token){\n\t\t\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\t\t\tgoToAnaproLogin: true,\n\t\t\t\t\t\t\tnoCache: true,\n\t\t\t\t\t\t\tsuccess: function(){\n\t\t\t\t\t\t\t\tanalyticsService.setUsername();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar logoutSuccess = function(response, attrs){\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\tservice.removeToken();\n\t\t\t\t\tCacheFactory.clearAll();\n\t\t\t\t\tauthCookieFactory.clear();\n\n\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\tattrs.success(response || {});\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar getCacheToken = function(){\n\t\t\t\t\treturn cacheToken.get('token') || undefined;\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\n\t\t\t\t\ttoken: null,\n\n\t\t\t\t\tlogoutSuccess: logoutSuccess,\n\n\t\t\t\t\tclearStorageWheLastTokenHasBeenChanged: function(){\n\n\t\t\t\t\t\tvar currentTokenCookie = authCookieFactory.get();\n\t\t\t\t\t\tvar lastTokenCookie = (getCacheToken() || {}).token;\n\n\t\t\t\t\t\tif(lastTokenCookie != currentTokenCookie){\n\t\t\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t\t\t'clearStorageWheLastTokenHasBeenChanged',\n\t\t\t\t\t\t\t\t'lastTokenCookie: ' + lastTokenCookie,\n\t\t\t\t\t\t\t\t'currentTokenCookie: ' + currentTokenCookie\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\tCacheFactory.clearAll();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\n\t\t\t\t\tgetCookie: function(){\n\n\t\t\t\t\t\tvar tokenCookie = authCookieFactory.get();\n\n\t\t\t\t\t\tif(tokenCookie){\n\n\t\t\t\t\t\t\tservice.saveToken({\n\t\t\t\t\t\t\t\ttoken: tokenCookie\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\n\t\t\t\t\tsaveToken: function(data){\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tservice.token = data;\n\t\t\t\t\t\t\tcacheToken.put('token', data);\n\t\t\t\t\t\t\tservice.addDefaultHeaderToken(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tgetToken: function(){\n\t\t\t\t\t\tservice.getCookie();\n\t\t\t\t\t\tservice.token = getCacheToken();\n\t\t\t\t\t\tservice.addDefaultHeaderToken(service.token);\n\t\t\t\t\t\tloadUserProfile();\n\t\t\t\t\t},\n\n\t\t\t\t\tremoveToken: function(){\n\t\t\t\t\t\tcacheToken.remove('token');\n\t\t\t\t\t\tservice.token = null;\n\t\t\t\t\t\tservice.addDefaultHeaderToken(undefined);\n\t\t\t\t\t},\n\n\t\t\t\t\tlogout: function(attrs){\n\n\t\t\t\t\t\tif(!service.token){\n\t\t\t\t\t\t\tlogoutSuccess(null, attrs);\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$http({\n\t\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.logout,\n\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\t\tsuccess: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\t\tlogoutSuccess(response, attrs);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\t\tconsole.error('Logout error', response);\n\t\t\t\t\t\t\t\tlogoutSuccess(response, attrs);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tusersService.clearCache();\n\n\t\t\t\t\t},\n\n\t\t\t\t\tcookieHasBeenChanged: function(){\n\t\t\t\t\t\tCacheFactory.clearAll();\n\t\t\t\t\t\tusersService.clearCache();\n\t\t\t\t\t\tservice.getCookie();\n\t\t\t\t\t\t$window.location.reload();\n\t\t\t\t\t},\n\n\t\t\t\t\tcookieHasBeenChangedButUserIsTheSame: function(){\n\t\t\t\t\t\tservice.saveToken({\n\t\t\t\t\t\t\ttoken: authCookieFactory.get()\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\n\t\t\t\t\t// add token on default request headers\n\t\t\t\t\taddDefaultHeaderToken: function(tokenObj){\n\n\t\t\t\t\t\t$http.defaults.withCredentials = true;\n\n\t\t\t\t\t\tif(tokenObj && tokenObj.token){\n\t\t\t\t\t\t\t$http.defaults.headers.common['access_token'] = tokenObj.token;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$http.defaults.headers.common['access_token'] = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\tpost: function(attrs){\n\n\t\t\t\t\t\t$http({\n\t\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.auth,\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: attrs.data\n\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\t\tservice.saveToken(response.data);\n\t\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t});\n\n})();\n\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.calendar', [])\n\n\t\t.factory(\n\n\t\t\t'calendarService',\n\n\t\t\tfunction(\n\t\t\t\t$http,\n\t\t\t\t$rootScope,\n\t\t\t\tlistFactory,\n\t\t\t\turls\n\t\t\t){\n\n\t\t\t\tvar getDefaultParams = function(){\n\n\t\t\t\t\t// [todo] replace by preferences service\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\tlimit: $rootScope.mainController.device == 'desktop' ? 30 : 5\n\t\t\t\t\t};\n\n\t\t\t\t\tparams.fields = JSON.stringify(params.fields);\n\n\t\t\t\t\treturn params;\n\n\t\t\t\t};\n\n\t\t\t\tvar get = function(attrs){\n\n\t\t\t\t\tvar params = {};\n\n\t\t\t\t\tif(!attrs.link){\n\n\t\t\t\t\t\tparams = getDefaultParams();\n\n\t\t\t\t\t\tif(attrs.params){\n\t\t\t\t\t\t\tparams = angular.extend(params, attrs.params);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattrs.link = attrs.link.replace(\n\t\t\t\t\t\t\t/.*?(\\?.*?)$/g, '' + '$1'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.calendar\n\t\t\t\t\t\t+(\n\t\t\t\t\t\t\tattrs.link\n\t\t\t\t\t\t\t? attrs.link\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t)\n\t\t\t\t\t\t,\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\tparams: params,\n\t\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar gerFilterHashLink = function(path, attrs, routeParams){\n\t\t\t\t\tvar url = path;\n\n\t\t\t\t\tif(attrs.link && routeParams){\n\t\t\t\t\t\tattrs.params =\n\t\t\t\t\t\t\tlistFactory.getAttrsFromRouteParams(routeParams).params || {};\n\t\t\t\t\t}\n\n\t\t\t\t\turl += 'filters/' + listFactory.saveAttrsAndGetHashLink(attrs);\n\n\t\t\t\t\treturn url;\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\t\t\t\t\tget: get,\n\t\t\t\t\tgerFilterHashLink: gerFilterHashLink,\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.clients',[])\n\n\t.factory(\n\n\t\t'clientsService',\n\n\t\tfunction(\n\t\t\t$http,\n\t\t\turls\n\t\t){\n\n\t\t\tvar post = function(attrs){\n\n\t\t\t\tconsole.log(attrs);\n\n\t\t\t\t// var resourceItem;\n\n\t\t\t\t// if(attrs.resource){\n\t\t\t\t// \tresourceItem =\n\t\t\t\t// \t\turls.apiPaths[attrs.resource.resource] + '/' + attrs.resource.id;\n\t\t\t\t// }else{\n\t\t\t\t// \tresourceItem = '';\n\t\t\t\t// }\n\n\t\t\t\t// $http({\n\t\t\t\t// \turl: urls.apiHost + resourceItem + urls.apiPaths.followup,\n\t\t\t\t// \tmethod: 'POST',\n\t\t\t\t// \tdata: attrs.data\n\t\t\t\t// }).then(\n\t\t\t\t// \tfunction(response){\n\t\t\t\t// \t\tif(typeof attrs.success == 'function'){\n\t\t\t\t// \t\t\tattrs.success(response);\n\t\t\t\t// \t\t}\n\t\t\t\t// \t},\n\t\t\t\t// \tfunction(response){\n\t\t\t\t// \t\tif(typeof attrs.error == 'function'){\n\t\t\t\t// \t\t\tattrs.error(response);\n\t\t\t\t// \t\t}\n\t\t\t\t// \t}\n\t\t\t\t// );\n\n\t\t\t};\n\n\t\t\tvar patchItem = function(attrs){\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost + urls.apiPaths.clients + '/' + attrs.item.id,\n\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages,\n\t\t\t\t\tdata: attrs.data\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar get = function(attrs){\n\n\t\t\t\tconsole.log(attrs);\n\n\t\t\t\t// [todo] same get of services.transactions\n\t\t\t\t// must implement list filters\n\n\t\t\t};\n\n\t\t\tvar getItem = function(attrs){\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost + urls.apiPaths.clients + '/' + attrs.id,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: attrs.params,\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar factory = {\n\t\t\t\tget: get,\n\t\t\t\tgetItem: getItem,\n\t\t\t\tpost: post,\n\t\t\t\tpatchItem: patchItem\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.followup',[])\n\n\t.constant('followupSubTypes', {\n\t\tcall: 'LIGACAO',\n\t\twhatsapp: 'WHATSAPP',\n\t\tsellsSimulation: 'NEGOCIACAOSIMULACAO',\n\t\tsellsProposal: 'NEGOCIACAOPROPOSTA',\n\t\tsellsSold: 'NEGOCIACAOVENDA',\n\t\tsellsCustom: 'NEGOCIACAOCUSTOM'\n\t})\n\n\t.run(function(CacheFactory){\n\t\tCacheFactory(\n\t\t\t'cachefollowupService',\n\t\t\t{\n\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\tstorageMode: 'localStorage'\n\t\t\t}\n\t\t);\n\t})\n\n\t.factory(\n\n\t\t'followupService',\n\n\t\tfunction(\n\t\t\t$http,\n\t\t\tCacheFactory,\n\t\t\turls\n\t\t){\n\n\t\t\tvar cache = CacheFactory.get('cachefollowupService');\n\t\t\tcache.removeAll();\n\n\t\t\tvar saveCacheFollowup = function(response){\n\t\t\t\tcache.put('followupSubTypes', response);\n\t\t\t};\n\n\t\t\tvar post = function(attrs){\n\n\t\t\t\tvar resourceItem;\n\n\t\t\t\tif(attrs.resource){\n\t\t\t\t\tresourceItem =\n\t\t\t\t\t\turls.apiPaths[attrs.resource.resource] + '/' + attrs.resource.id;\n\t\t\t\t}else{\n\t\t\t\t\tresourceItem = '';\n\t\t\t\t}\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t+ resourceItem\n\t\t\t\t\t\t+ urls.getCleanPath(urls.apiPaths.followups),\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages,\n\t\t\t\t\tdata: attrs.data,\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tmergeResource(response.data, attrs.resource);\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar mergeResource = function(item, resource){\n\t\t\t\titem.parentResources = item.parentResources || {};\n\n\t\t\t\tif(!item.parentResources[resource.resource]){\n\t\t\t\t\titem.parentResources[resource.resource] = {\n\t\t\t\t\t\tid: resource.id\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar get = function(attrs){\n\n\t\t\t\tvar resourceItem;\n\n\t\t\t\tif(attrs.resource){\n\t\t\t\t\tresourceItem =\n\t\t\t\t\t\turls.apiPaths[attrs.resource.resource] + '/' + attrs.resource.id;\n\t\t\t\t}else{\n\t\t\t\t\tresourceItem = '';\n\t\t\t\t}\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t+ resourceItem\n\t\t\t\t\t\t+ urls.getCleanPath(urls.apiPaths.followupsGroupByStatus),\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: attrs.params,\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar getSubTypes = function(attrs){\n\n\t\t\t\tvar cacheSubTypes = cache.get('followupSubTypes');\n\n\t\t\t\tif(cacheSubTypes){\n\n\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\tattrs.success(cacheSubTypes);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost + urls.apiPaths.followupsSubTypes,\n\t\t\t\t\tmethod: 'GET'\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\tsaveCacheFollowup(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar actions = function(attrs){\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost + urls.apiPaths.followups\n\t\t\t\t\t\t+ '/' + attrs.item.id\n\t\t\t\t\t\t+ urls.apiPaths.followupsActions[attrs.action],\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages,\n\t\t\t\t\tdata: attrs.data || {}\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar getInteraction = function(item){\n\t\t\t\treturn item.fields[getType(item)];\n\t\t\t};\n\n\t\t\tvar getType = function(item){\n\t\t\t\treturn Object.keys(item.fields)[0];\n\t\t\t};\n\n\t\t\tvar factory = {\n\t\t\t\tget: get,\n\t\t\t\tpost: post,\n\t\t\t\tactions: actions,\n\t\t\t\tgetSubTypes: getSubTypes,\n\t\t\t\tgetInteraction: getInteraction,\n\t\t\t\tgetType: getType\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.longpolling', [\n\t\t'services.longpolling.cacheFactory'\n\t])\n\n\t\t\t.factory(\n\t\t\t\t'longpollingService',\n\n\t\t\t\tfunction(\n\t\t\t\t\t$rootScope,\n\t\t\t\t\t$timeout,\n\t\t\t\t\turls,\n\t\t\t\t\tpath,\n\t\t\t\t\tCacheFactory,\n\t\t\t\t\tlongpollingTimer,\n\t\t\t\t\tauthService,\n\t\t\t\t\tauthCookieFactory\n\t\t\t\t){\n\n\t\t\t\t\tvar cache = CacheFactory.get('longpolling');\n\n\t\t\t\t\tvar timer;\n\n\t\t\t\t\tvar hasStarted = false;\n\n\t\t\t\t\tvar setTimer = function(){\n\t\t\t\t\t\tstop();\n\t\t\t\t\t\ttimer =\tsetTimeout(ping, longpollingTimer);\n\t\t\t\t\t};\n\n\t\t\t\t\tvar stop = function(){\n\t\t\t\t\t\thasStarted = false;\n\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t};\n\n\t\t\t\t\tvar init = function(){\n\t\t\t\t\t\tif(!hasStarted){\n\t\t\t\t\t\t\tping();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tvar success = function(\t){\n\t\t\t\t\t\tauthCookieFactory.checkCookie();\n\t\t\t\t\t\tsetTimer();\n\t\t\t\t\t};\n\n\t\t\t\t\tvar error = function(response){\n\n\t\t\t\t\t\tif(response.status == 401){\n\n\t\t\t\t\t\t\tvar payloadErrorMessage = {\n\t\t\t\t\t\t\t\ttitle: 'Acesso encerrado!'\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tvar friendlyMessageHeader =\n\t\t\t\t\t\t\t\tdecodeURIComponent(response.getResponseHeader('friendlyMessage'))\n\t\t\t\t\t\t\t\t.replace(/\\+/g,' ');\n\n\t\t\t\t\t\t\tif(friendlyMessageHeader){\n\t\t\t\t\t\t\t\tpayloadErrorMessage['message'] = friendlyMessageHeader;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$rootScope.$broadcast('requestUserAuthentication', {\n\t\t\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\t\t\t\tpayloadError: payloadErrorMessage\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsetTimer();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\twindow.error401 = error;\n\n\t\t\t\t\tvar canPing = function(){\n\n\t\t\t\t\t\tif(navigator.onLine === false){\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar lastPing = cache.get('lastPing') || 0;\n\n\t\t\t\t\t\treturn ((new Date()).getTime() - lastPing) >= longpollingTimer;\n\t\t\t\t\t};\n\n\t\t\t\t\tvar ping = function(){\n\t\t\t\t\t\thasStarted = true;\n\n\t\t\t\t\t\tif(!canPing()){\n\t\t\t\t\t\t\tsuccess();\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcache.put('lastPing', (new Date().getTime()));\n\n\t\t\t\t\t\tif(authService.token){\n\n\t\t\t\t\t\t\tvar headers = {\n\t\t\t\t\t\t\t\t'access_token': authService.token.token\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tif(urls.ocpApimSubscriptionKey){\n\t\t\t\t\t\t\t\theaders['Ocp-Apim-Subscription-Key'] = urls.ocpApimSubscriptionKey;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// using jQuery ajax in order to prevent memory leak\n\t\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\t\turl : urls.apiHost + urls.apiPaths.legacyLongPollingPresence,\n\t\t\t\t\t\t\t\tmethod: 'HEAD',\n\t\t\t\t\t\t\t\theaders: headers\n\t\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\t\tsuccess,\n\t\t\t\t\t\t\t\terror\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\terror();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\t$rootScope.$on('tokenCookieHasBeenChanged', function(){\n\t\t\t\t\t\tconsole.log('services.longpolling.$on.tokenCookieHasBeenChanged');\n\t\t\t\t\t\tinit();\n\t\t\t\t\t});\n\n\t\t\t\t\t// Token Cookie Has Been Changed But User is the same\n\t\t\t\t\t$rootScope.$on('tokenCookieHasBeenChangedButUserIsTheSame', function(){\n\t\t\t\t\t\tconsole.log('services.longpolling.$on.tokenCookieHasBeenChangedButUserIsTheSame');\n\t\t\t\t\t\tinit();\n\t\t\t\t\t});\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstop: stop,\n\t\t\t\t\t\tinit: init\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t);\n})();\n\n","\r\n'use strict';\r\n\r\n(function(){\r\n\r\n\tangular.module('services.pending-processing', [])\r\n\r\n\t.factory(\r\n\t\t'pendingProcessingService',\r\n\r\n\t\tfunction(\r\n\t\t\t$rootScope,\r\n\t\t\t$http,\r\n\t\t\turls,\r\n\t\t\tfirebaseBroadcastsNames,\r\n\t\t\tnotificationCenterFactory,\r\n\t\t\tfirebaseCollections\r\n\t\t){\r\n\r\n\t\t\tvar\r\n\t\t\t\tlastTick,\r\n\t\t\t\titemsIdByType = {\r\n\t\t\t\t\tpendingProcessingTransactionWaitingAttend: 'pendingProcessingHashKey'\r\n\t\t\t\t};\r\n\r\n\t\t\tvar normalizeDataItemsIds = function(data){\r\n\t\t\t\tObject.keys(data).map(function(key){\r\n\t\t\t\t\tif(data[key].constructor.name == 'Array' && itemsIdByType[key]){\r\n\t\t\t\t\t\tdata[key].map(function(item){\r\n\t\t\t\t\t\t\titem.id = item[itemsIdByType[key]];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t// var createEmptyArrayForTypesWhenUndefined = function(data){\r\n\t\t\t// \tObject.keys(itemsIdByType).map(function(type){\r\n\t\t\t// \t\tdata[type] = data[type] || [];\r\n\t\t\t// \t});\r\n\t\t\t// };\r\n\r\n\t\t\tvar getSuccess = function(response){\r\n\r\n\t\t\t\tstart = response.data.id;\r\n\r\n\t\t\t\tvar data = response.data.fields || {};\r\n\r\n\t\t\t\tnormalizeDataItemsIds(data);\r\n\r\n\t\t\t\t// createEmptyArrayForTypesWhenUndefined(data);\r\n\r\n\t\t\t\tnotificationCenterFactory.dispatch(\r\n\t\t\t\t\tfirebaseCollections.pendingProcessing,\r\n\t\t\t\t\tdata\r\n\t\t\t\t);\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar start = 0;\r\n\r\n\t\t\tvar get = function(data){\r\n\r\n\t\t\t\tif(data && typeof data.ticks != 'undefined'){\r\n\r\n\t\t\t\t\t$http({\r\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.servicesPendingprocessing,\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tstart: start,\r\n\t\t\t\t\t\t\tend: data.ticks\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(\r\n\t\t\t\t\t\tgetSuccess,\r\n\t\t\t\t\t\tfunction(response){\r\n\t\t\t\t\t\t\tconsole.error(response);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar init = function(){\r\n\r\n\t\t\t\t$rootScope.$on(\r\n\t\t\t\t\tfirebaseBroadcastsNames.pendenciaprocessamento,\r\n\r\n\t\t\t\t\tfunction(\r\n\t\t\t\t\t\tevent,\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t){\r\n\r\n\t\t\t\t\t\tvar dataCopied = angular.copy(data);\r\n\r\n\t\t\t\t\t\tdata = data || {};\r\n\t\t\t\t\t\tdata = angular.merge({ticks: 0}, data);\r\n\r\n\t\t\t\t\t\tif(lastTick != data.ticks){\r\n\r\n\t\t\t\t\t\t\tlastTick = data.ticks;\r\n\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'listener ' + firebaseBroadcastsNames.pendenciaprocessamento + ':',\r\n\t\t\t\t\t\t\t\tdataCopied,\r\n\t\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tget(data);\r\n\r\n\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\t\tconsole.warn(\r\n\t\t\t\t\t\t\t\t'listener ' + firebaseBroadcastsNames.pendenciaprocessamento + ' same last ticks ignored: ',\r\n\t\t\t\t\t\t\t\tdataCopied,\r\n\t\t\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t);\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar setEmptyTransactionsAwaiting = function(){\r\n\r\n\t\t\t\tnotificationCenterFactory.dispatch(\r\n\t\t\t\t\tfirebaseCollections.pendingProcessing,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpendingProcessingTransactionWaitingAttend: []\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t};\r\n\r\n\t\t\treturn {\r\n\t\t\t\tget: get,\r\n\t\t\t\tsetEmptyTransactionsAwaiting: setEmptyTransactionsAwaiting,\r\n\t\t\t\tinit: init\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t);\r\n\r\n})();\r\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.permissions', [])\n\n\t.factory(\n\n\t\t'permissionsService',\n\n\t\tfunction(\n\t\t\t$http,\n\t\t\turls,\n\t\t\tpermissionsDescription\n\t\t){\n\n\t\t\tvar setPermissionsDescription = function(permissions){\n\t\t\t\tpermissions.fields.permissionKeys.map(function(permissionItem){\n\t\t\t\t\tpermissionsDescription[permissionItem.fields.permissionKey] = permissionItem.fields.permissionKeyDescricao;\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar setDescriptions = function(response){\n\t\t\t\tvar permissions = response.data.data;\n\t\t\t\tpermissions.map(function(permissionsFields){\n\t\t\t\t\tsetPermissionsDescription(permissionsFields);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar service = {\n\n\t\t\t\tget: function(attrs){\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.permissions,\n\t\t\t\t\t\tmethod: 'GET'\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\n\t\t\t\t\t\t\tsetDescriptions(response);\n\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t// use default\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t},\n\t\t\t\tgetItem: function(attrs){\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.permissions + '/' + attrs.permissionKey,\n\t\t\t\t\t\tmethod: 'GET'\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\n\t\t\t\t\t\t\tsetPermissionsDescription(response.data);\n\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\treturn service;\n\n\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.pipelines', [])\n\n\t\t.run(function(CacheFactory){\n\n\t\t\tCacheFactory(\n\t\t\t\t'cachePipelinesService',\n\t\t\t\t{\n\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\tstorageMode: 'localStorage'\n\t\t\t\t}\n\t\t\t);\n\n\t\t})\n\n\t\t.factory(\n\n\t\t\t'pipelinesService',\n\n\t\t\tfunction(\n\t\t\t\t$http,\n\t\t\t\tCacheFactory,\n\t\t\t\turls\n\t\t\t){\n\n\t\t\t\tvar cache = CacheFactory.get('cachePipelinesService');\n\n\t\t\t\tvar saveEachPipelineOnCache = function(response){\n\n\t\t\t\t\tresponse.data.data.map(function(item){\n\n\t\t\t\t\t\tvar newResponse = angular.copy(response);\n\t\t\t\t\t\tnewResponse.data = item;\n\n\t\t\t\t\t\tcache.put(\n\t\t\t\t\t\t\t'pipelines/'\n\t\t\t\t\t\t\t+ item.fields.pipelineStage.pipelineStageIdGuid,\n\t\t\t\t\t\t\tnewResponse\n\t\t\t\t\t\t);\n\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tvar get = function(attrs){\n\n\t\t\t\t\tvar cachePipelines = cache.get('pipelines');\n\n\t\t\t\t\tif(cachePipelines){\n\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(cachePipelines);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.pipelines,\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\n\t\t\t\t\t\t\tcache.put('pipelines', response);\n\n\t\t\t\t\t\t\tsaveEachPipelineOnCache(response);\n\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar getItem = function(attrs){\n\n\t\t\t\t\tvar cachePipeline = cache.get('pipelines/' + attrs.id);\n\n\t\t\t\t\tif(cachePipeline){\n\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(cachePipeline);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.pipelines + '/' + attrs.id,\n\t\t\t\t\t\tmethod: 'GET'\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\n\t\t\t\t\t\t\tcache.put('pipelines/' + attrs.id, response);\n\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\n\t\t\t\t\tget: get,\n\t\t\t\t\tgetItem: getItem\n\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.products',[])\n\n\t// .run(function(CacheFactory){\n\t// \tCacheFactory(\n\t// \t\t'cachefollowupService',\n\t// \t\t{\n\t// \t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t// \t\t\tstorageMode: 'localStorage'\n\t// \t\t}\n\t// \t);\n\t// })\n\n\t.factory(\n\n\t\t'productsService',\n\n\t\tfunction(\n\t\t\t$http,\n\t\t\t// CacheFactory,\n\t\t\turls\n\t\t){\n\n\t\t\t// var cache = CacheFactory.get('cachefollowupService');\n\t\t\t// cache.removeAll();\n\n\t\t\t// var saveCacheFollowup = function(response){\n\t\t\t// \tcache.put('followupSubTypes', response);\n\t\t\t// };\n\n\t\t\tvar get = function(attrs){\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t+ urls.apiPaths.products,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tatendimentoIdGuid: attrs.item.id\n\t\t\t\t\t}\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar factory = {\n\t\t\t\tget: get\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.queues',[])\n\n\t.factory(\n\n\t\t'queuesService',\n\n\t\tfunction(\n\t\t\t$http,\n\t\t\turls\n\t\t){\n\n\t\t\tvar actions = function(attrs){\n\n\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t+ urls.apiPaths.queues\n\t\t\t\t\t+ (attrs.item\n\t\t\t\t\t\t\t? '/' + attrs.item.id\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t)\n\t\t\t\t\t+ urls.apiPaths.queuesActions[attrs.action],\n\t\t\t\t\tmethod: attrs.method || 'POST',\n\t\t\t\t\tdata: attrs.data || {},\n\t\t\t\t\tparams: attrs.params || {},\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar factory = {\n\t\t\t\tactions: actions\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.schedules', [])\n\n\t\t.factory(\n\n\t\t\t'schedulesService',\n\n\t\t\tfunction(\n\t\t\t\t$http,\n\t\t\t\turls\n\t\t\t){\n\n\t\t\t\tvar get = function(attrs){\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.schedules,\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\t\t\t\t\tget: get\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.transactions-report', [])\n\n\t\t.factory(\n\n\t\t\t'transactionsReportService',\n\n\t\t\tfunction(\n\t\t\t\t$http,\n\t\t\t\turls\n\t\t\t){\n\n\t\t\t\tvar service = {\n\n\t\t\t\t\tget: function(attrs){\n\n\t\t\t\t\t\t$http({\n\t\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.transactionsReport,\n\t\t\t\t\t\t\tmethod: 'GET'\n\t\t\t\t\t\t}).then(\n\t\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.transactions-summary', [])\n\n\t\t.run(function(CacheFactory){\n\n\t\t\tCacheFactory(\n\t\t\t\t'cacheNestedStages',\n\t\t\t\t{\n\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\tstorageMode: 'localStorage'\n\t\t\t\t}\n\t\t\t);\n\n\t\t})\n\n\t\t.factory(\n\n\t\t\t'transactionsSummaryService',\n\n\t\t\tfunction(\n\t\t\t\t$http,\n\t\t\t\tCacheFactory,\n\t\t\t\turls\n\t\t\t){\n\n\t\t\t\tvar cacheNestedStages = CacheFactory.get('cacheNestedStages');\n\n\t\t\t\tvar saveCacheNestedStages = function(response){\n\t\t\t\t\tcacheNestedStages.put('stages', response);\n\t\t\t\t};\n\n\t\t\t\t// translate pt-br properties into a better and friendly understanding\n\t\t\t\tvar properties = {\n\t\t\t\t\tupdated: 'resumoNegocioDtUltimaAtualizacao',\n\t\t\t\t\ttotalValue: 'resumoNegocioVolumeFinanceiroTotal',\n\t\t\t\t\ttotalCommission: 'resumoNegocioComissaoTotal',\n\t\t\t\t\tlastStageCommision: 'resumoNegocioComissaoUltimaFase',\n\t\t\t\t\ttotalTransactions: 'resumoNegocioQtdNegociosTotal',\n\t\t\t\t\tstages: {\n\t\t\t\t\t\tindex: 'resumoNegocioPipelineStageOrdem',\n\t\t\t\t\t\titems: 'resumoNegocios',\n\t\t\t\t\t\tname: 'resumoNegocioPipelineStageNome',\n\t\t\t\t\t\tnestedStages: 'resumoNegocioPipelineStageAgrupado',\n\t\t\t\t\t\ttransactions: 'resumoNegocioQtdNegocios',\n\t\t\t\t\t\tvalue: 'resumoNegocioVolumeFinanceiroValor',\n\t\t\t\t\t\tsubStages: 'subStages',\n\t\t\t\t\t\tpercentTransactions: 'resumoNegocioQtdNegociosPercent',\n\t\t\t\t\t\tvaluePercent: 'resumoNegocioVolumeFinanceiroPercent'\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar get = function(attrs){\n\n\t\t\t\t\tvar defaultParams = {\n\t\t\t\t\t\tagruparSuperGrupo: true\n\t\t\t\t\t};\n\n\t\t\t\t\tattrs.params = angular.merge(defaultParams, attrs.params);\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.transactionsSummary,\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\tparams: attrs.params,\n\t\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\n\t\t\t\t\t\t\t\tif(attrs.params.agruparSuperGrupo === false){\n\t\t\t\t\t\t\t\t\tsaveCacheNestedStages(response);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar getNestedStages = function(attrs){\n\n\t\t\t\t\tvar defaultParams = {\n\t\t\t\t\t\tagruparSuperGrupo: false\n\t\t\t\t\t};\n\n\t\t\t\t\tattrs.params = angular.merge(defaultParams, attrs.params);\n\n\t\t\t\t\tservice.get(attrs);\n\t\t\t\t};\n\n\t\t\t\tvar getCacheNestedStages = function(attrs){\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\tvar stages = cacheNestedStages.get('stages');\n\n\t\t\t\t\tif(stages && attrs.success){\n\t\t\t\t\t\tattrs.success(stages);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tservice.getNestedStages(attrs);\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\n\t\t\t\t\tproperties: properties,\n\t\t\t\t\tget: get,\n\t\t\t\t\tgetNestedStages: getNestedStages,\n\t\t\t\t\tgetCacheNestedStages: getCacheNestedStages\n\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.transactions',[])\n\n\t.factory(\n\n\t\t'transactionsService',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$http,\n\t\t\t$filter,\n\t\t\tpath,\n\t\t\turls,\n\t\t\tlistFactory,\n\t\t\tpermission\n\t\t){\n\n\t\t\tvar statuses = {\n\t\t\t\tqueue: 'AGUARDANDOATENDIMENTO',\n\t\t\t\tattended: 'ATENDIDO',\n\t\t\t\tfinished: 'ENCERRADO',\n\t\t\t\tadded: 'INCLUIDO'\n\t\t\t};\n\n\t\t\tvar statusesByFieldValue = (function(){\n\n\t\t\t\tvar obj = {};\n\n\t\t\t\tObject.keys(statuses).map(function(key){\n\t\t\t\t\tobj[statuses[key]] = key;\n\t\t\t\t});\n\n\t\t\t\treturn obj;\n\n\t\t\t})();\n\n\t\t\tvar expiresProgressThreshold = {\n\t\t\t\t33: 'ok',\n\t\t\t\t66: 'warn',\n\t\t\t\t100: 'danger'\n\t\t\t};\n\n\t\t\tvar getDefaultParams = function(){\n\n\t\t\t\t// [todo] replace by preferences service\n\t\t\t\tvar params = {\n\t\t\t\t\tfields: [\n\t\t\t\t\t\t'prospectNome',\n\t\t\t\t\t\t'usuarioNome',\n\t\t\t\t\t\t'canalNome',\n\t\t\t\t\t\t'midiaNome',\n\t\t\t\t\t\t'atendimentoDtAtendido',\n\t\t\t\t\t\t'atendimentoInteracaoUsuarioUltimaData',\n\t\t\t\t\t\t'atendimentoInteracaoUsuarioTipo',\n\t\t\t\t\t\t'atendimentoPipelineStageNome',\n\t\t\t\t\t\t'atendimentoPipelineStageIdGuid'\n\t\t\t\t\t],\n\t\t\t\t\tlimit: $rootScope.mainController.device == 'desktop' ? 15 : 5\n\t\t\t\t};\n\n\t\t\t\tparams.fields = JSON.stringify(params.fields);\n\n\t\t\t\treturn params;\n\n\t\t\t};\n\n\t\t\tvar get = function(attrs){\n\n\t\t\t\tvar params = {};\n\n\t\t\t\tif(!attrs.link){\n\n\t\t\t\t\tparams = getDefaultParams();\n\n\t\t\t\t\tif(attrs.params){\n\t\t\t\t\t\tparams = angular.extend(params, attrs.params);\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\tattrs.link = attrs.link.replace(\n\t\t\t\t\t\t/.*?(\\?.*?)$/g,\n\t\t\t\t\t\turls.apiPaths.transactions + '$1'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t+ (\n\t\t\t\t\t\tattrs.link\n\t\t\t\t\t\t\t? attrs.link\n\t\t\t\t\t\t\t: urls.apiPaths.transactions\n\t\t\t\t\t\t),\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: params,\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar getItem = function(attrs){\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost + urls.apiPaths.transactions + '/' + attrs.id,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: attrs.params,\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar patchItem = function(attrs){\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost + urls.apiPaths.transactions + '/' + attrs.item.id,\n\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\tdata: attrs.data\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar patchList = function(attrs){\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost + urls.apiPaths.transactions,\n\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\tdata: attrs.items\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar gerFilterHashLink = function(path, attrs, routeParams){\n\n\t\t\t\tvar url = path;\n\n\t\t\t\tif(attrs.link && routeParams){\n\t\t\t\t\tattrs.params =\n\t\t\t\t\t\tlistFactory.getAttrsFromRouteParams(routeParams).params || {};\n\t\t\t\t}\n\n\t\t\t\turl += 'filters/' + listFactory.saveAttrsAndGetHashLink(attrs);\n\n\t\t\t\treturn url;\n\n\t\t\t};\n\n\t\t\tvar getJSONFilterFromHref = function(href){\n\n\t\t\t\tvar json;\n\n\t\t\t\ttry{\n\t\t\t\t\tjson = JSON.parse(href.replace(/^.*?filters=(\\{.*?\\}).*?$/,'$1'));\n\t\t\t\t}catch(e){\n\t\t\t\t\tjson = null;\n\t\t\t\t}\n\n\t\t\t\treturn json;\n\n\t\t\t};\n\n\t\t\tvar actions = function(attrs){\n\n\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t+ urls.apiPaths.transactions\n\t\t\t\t\t+ (attrs.item\n\t\t\t\t\t\t\t? '/' + attrs.item.id\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t)\n\t\t\t\t\t+ urls.apiPaths.transactionsActions[attrs.action],\n\t\t\t\t\tmethod: attrs.method || 'POST',\n\t\t\t\t\tdata: attrs.data || {},\n\t\t\t\t\tparams: attrs.params || {},\n\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar getPipelines = function(attrs){\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t+ urls.apiPaths.transactions\n\t\t\t\t\t\t+ '/' + attrs.id\n\t\t\t\t\t\t+ urls.getCleanPath(urls.apiPaths.pipelines)\n\t\t\t\t\t\t+ '/' + (attrs.stageId || ''),\n\t\t\t\t\tmethod: 'GET'\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar activeOffer = function(attrs){\n\n\t\t\t\tvar params = {};\n\n\t\t\t\tif(attrs.item){\n\t\t\t\t\tparams['campanhaIdGuid'] = attrs.item.fields.campanhaIdGuid;\n\t\t\t\t}\n\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t+ urls.apiPaths.transactionsActiveOffer\n\t\t\t\t\t\t+ (attrs.item\n\t\t\t\t\t\t\t\t? '/' + attrs.item.id\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t),\n\t\t\t\t\tparams: params,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\ttoastrMessages:attrs.toastrMessages\n\n\t\t\t\t}).then(\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(response){\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar updateItem = function(item, newItem){\n\t\t\t\tangular.merge(item, newItem);\n\t\t\t};\n\n\t\t\tvar isOnQueue = function(item){\n\t\t\t\treturn item\n\t\t\t\t\t.fields\n\t\t\t\t\t.atendimento\n\t\t\t\t\t.atendimentoStatus == statuses.queue;\n\t\t\t};\n\n\t\t\tvar isFinished = function(item){\n\t\t\t\treturn item\n\t\t\t\t\t.fields\n\t\t\t\t\t.atendimento\n\t\t\t\t\t.atendimentoStatus == statuses.finished;\n\t\t\t};\n\n\t\t\tvar isActive = function(item){\n\n\t\t\t\treturn item\n\t\t\t\t\t.fields\n\t\t\t\t\t.atendimento\n\t\t\t\t\t.atendimentoStatus == statuses.attended;\n\t\t\t};\n\n\t\t\tvar canEditWhenNotActive = function(item){\n\t\t\t\treturn isActive(item) || permission.checkPermissions('atd_edit_nao_atendido') === true;\n\t\t\t};\n\n\t\t\tvar getTransactionsAwaitingLink = function(){\n\n\t\t\t\treturn gerFilterHashLink(\n\t\t\t\t\tpath.getPath('transactions'),\n\t\t\t\t\t{\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tremoveFilterWhenEmpty: true,\n\t\t\t\t\t\t\tq: '',\n\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\tatendimentoStatus: statuses.queue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar calcExpiresTimeInDays = function(item, key){\n\n\t\t\t\titem.extraInfo[key] = item.extraInfo[key] || 0;\n\n\t\t\t\tif(item.extraInfo[key] > 0){\n\t\t\t\t\treturn Math.floor(item.extraInfo[key] / 60 / 24);\n\t\t\t\t}else if(item.extraInfo[key] < 0){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn item.extraInfo[key];\n\n\t\t\t};\n\n\t\t\tvar getExpiresTimeInDays = function(item){\n\t\t\t\treturn calcExpiresTimeInDays(\n\t\t\t\t\titem,\n\t\t\t\t\t'atendimentoExpiracaoAutomaticaQtdMinutosRestantesMax'\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar getExpiresTimeConfInDays = function(item){\n\t\t\t\treturn calcExpiresTimeInDays(\n\t\t\t\t\titem,\n\t\t\t\t\t'atendimentoExpiracaoAutomaticaQtdMinutosConf'\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar getExpiresText = function(item){\n\n\t\t\t\tvar days = getExpiresTimeInDays(item);\n\n\t\t\t\treturn 'Voc pode perder esse cliente em <strong>'\n\t\t\t\t+ days\n\t\t\t\t+ ' dia'\n\t\t\t\t+ (days > 1 ? 's ' : ' ')\n\t\t\t\t+ '</strong> ('\n\t\t\t\t+ $filter('date')(\n\t\t\t\t\titem.extraInfo.atendimentoExpiracaoAutomaticaData,\n\t\t\t\t\t'dd/MM/yy HH:mm'\n\t\t\t\t)\n\t\t\t\t+ ')<br />'\n\t\t\t\t+ 'caso voc no registre um novo <strong>follow-up</strong> ou <strong>agende</strong> uma prxima<br/>'\n\t\t\t\t+ 'atividade <strong>(prximo passo)</strong>.';\n\n\t\t\t};\n\n\t\t\tvar getExpiresProgressThreshold = function(){\n\t\t\t\treturn expiresProgressThreshold;\n\t\t\t};\n\n\t\t\tvar factory = {\n\n\t\t\t\tget: get,\n\t\t\t\tgetItem: getItem,\n\t\t\t\tactions: actions,\n\t\t\t\tpatchItem: patchItem,\n\t\t\t\tpatchList: patchList,\n\t\t\t\tgetDefaultParams: getDefaultParams,\n\t\t\t\tgerFilterHashLink: gerFilterHashLink,\n\t\t\t\tgetTransactionsAwaitingLink: getTransactionsAwaitingLink,\n\t\t\t\tgetJSONFilterFromHref: getJSONFilterFromHref,\n\t\t\t\tgetPipelines: getPipelines,\n\t\t\t\tactiveOffer: activeOffer,\n\n\t\t\t\tstatuses: statuses,\n\t\t\t\tstatusesByFieldValue: statusesByFieldValue,\n\t\t\t\tupdateItem: updateItem,\n\t\t\t\tisOnQueue: isOnQueue,\n\t\t\t\tisFinished: isFinished,\n\t\t\t\tisActive: isActive,\n\t\t\t\tcanEditWhenNotActive: canEditWhenNotActive,\n\t\t\t\tgetExpiresTimeInDays: getExpiresTimeInDays,\n\t\t\t\tgetExpiresTimeConfInDays: getExpiresTimeConfInDays,\n\t\t\t\tgetExpiresText: getExpiresText,\n\t\t\t\tgetExpiresProgressThreshold: getExpiresProgressThreshold,\n\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.users', [])\n\n\t\t.factory(\n\n\t\t\t'usersService',\n\n\t\t\tfunction(\n\t\t\t\t$rootScope,\n\t\t\t\t$http,\n\t\t\t\t$timeout,\n\t\t\t\turls,\n\t\t\t\tnavigationBarFactory,\n\t\t\t\tpermission,\n\t\t\t\tpermissionsService\n\t\t\t){\n\t\t\t\tvar callbacksWhenNotLoaded = [];\n\n\t\t\t\tvar cache = null;\n\t\t\t\tvar profileLoaded = false;\n\n\t\t\t\tvar isProfileLoaded = function(registerCallbackWhenNotLoaded){\n\n\t\t\t\t\tif(!profileLoaded && typeof registerCallbackWhenNotLoaded == 'function'){\n\t\t\t\t\t\tcallbacksWhenNotLoaded.push(registerCallbackWhenNotLoaded);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn profileLoaded;\n\t\t\t\t};\n\n\t\t\t\t$rootScope.isProfileLoaded = isProfileLoaded;\n\n\t\t\t\tvar setNavigationBarLogo = function(){\n\t\t\t\t\tnavigationBarFactory.logo.set({\n\t\t\t\t\t\tcompany: cache.data.extraInfo.contaSistemaNome\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tvar runRegisteredCallbacks = function(){\n\n\t\t\t\t\tif(callbacksWhenNotLoaded.length){\n\t\t\t\t\t\tcallbacksWhenNotLoaded.map(function(func, index){\n\t\t\t\t\t\t\tif(typeof func == 'function'){\n\t\t\t\t\t\t\t\tvar registeredFunction = func;\n\t\t\t\t\t\t\t\tcallbacksWhenNotLoaded[index] = null;\n\t\t\t\t\t\t\t\tregisteredFunction();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tcallbacksWhenNotLoaded = [];\n\n\t\t\t\t};\n\n\t\t\t\tvar getUserProfileSuccess = function(attrs, response){\n\n\t\t\t\t\tprofileLoaded = true;\n\n\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t}\n\n\t\t\t\t\trunRegisteredCallbacks();\n\n\t\t\t\t\tsetNavigationBarLogo();\n\t\t\t\t};\n\n\t\t\t\tvar setUserPermissions = function(profile){\n\t\t\t\t\tif(profile.perfilUsuarioAdm){\n\t\t\t\t\t\tpermission.setAdm();\n\t\t\t\t\t}else if(profile.perfilUsuarioKeys){\n\t\t\t\t\t\tpermission.set(profile.perfilUsuarioKeys);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tpermission.set([]);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar getAllPermissionsDescription = function(attrs, response){\n\n\t\t\t\t\tpermissionsService.get({\n\t\t\t\t\t\tsuccess: function(){\n\t\t\t\t\t\t\tcache = response;\n\n\t\t\t\t\t\t\tsetUserPermissions(response\n\t\t\t\t\t\t\t\t.data\n\t\t\t\t\t\t\t\t.expand\n\t\t\t\t\t\t\t\t.userprofiles.fields.perfilUsuario\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tgetUserProfileSuccess(attrs, response);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tvar clearCache = function(){\n\t\t\t\t\tprofileLoaded = false;\n\t\t\t\t\tcache = null;\n\t\t\t\t};\n\n\t\t\t\tvar getUserProfile = function(attrs){\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\tif(attrs.noCache){\n\t\t\t\t\t\tclearCache();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(cache && !attrs.reload){\n\t\t\t\t\t\tgetUserProfileSuccess(attrs, cache);\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.userProfile,\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'_embed': 'firebase,servicechannel',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgoToAnaproLogin: attrs.goToAnaproLogin,\n\t\t\t\t\t\ttoastrMessages: attrs.toastrMessages\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tgetAllPermissionsDescription(attrs, response);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar get = function(attrs){\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.users + '/' + attrs.id,\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar getMyUser = function(attrs){\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.myUser,\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tvar patch = function(attrs){\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.users + '/' + attrs.id,\n\t\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\t\tdata: attrs.data\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar patchMyUser = function(attrs){\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.myUser,\n\t\t\t\t\t\tmethod: 'PATCH',\n\t\t\t\t\t\tdata: attrs.data\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar updateCurrentProfile = function(item){\n\t\t\t\t\t// angular.merge(cache.data.fields.usuario, item);\n\t\t\t\t\tcache.data.fields.usuario = item;\n\t\t\t\t};\n\n\t\t\t\tvar isAdm = function(){\n\t\t\t\t\treturn cache\n\t\t\t\t\t\t.data\n\t\t\t\t\t\t.expand\n\t\t\t\t\t\t.userprofiles\n\t\t\t\t\t\t.fields\n\t\t\t\t\t\t.perfilUsuario\n\t\t\t\t\t\t.perfilUsuarioAdm;\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\n\t\t\t\t\tget: get,\n\t\t\t\t\tpatch: patch,\n\t\t\t\t\tpatchMyUser: patchMyUser,\n\t\t\t\t\tgetUserProfile: getUserProfile,\n\t\t\t\t\tgetMyUser: getMyUser,\n\t\t\t\t\tisProfileLoaded: isProfileLoaded,\n\t\t\t\t\tupdateCurrentProfile: updateCurrentProfile,\n\t\t\t\t\tisAdm: isAdm,\n\t\t\t\t\tclearCache: clearCache\n\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t});\n\n})();\n","\r\n'use strict';\r\n\r\n(function(){\r\n\r\n\tangular.module('services.users.status', [])\r\n\r\n\t\t.factory(\r\n\r\n\t\t\t'usersStatusService',\r\n\r\n\t\t\tfunction(\r\n\t\t\t\t$http,\r\n\t\t\t\t$timeout,\r\n\t\t\t\tusersService,\r\n\t\t\t\turls\r\n\t\t\t){\r\n\r\n\t\t\t\tvar get = function(attrs){\r\n\r\n\t\t\t\t\tattrs = attrs || {};\r\n\r\n\t\t\t\t\t$http({\r\n\t\t\t\t\t\turl: urls.apiHost\r\n\t\t\t\t\t\t\t+ urls.apiPaths.users\r\n\t\t\t\t\t\t\t+ '/' + attrs.id\r\n\t\t\t\t\t\t\t+ urls.apiPaths.usersServiceChannel,\r\n\t\t\t\t\t\tmethod: 'GET'\r\n\t\t\t\t\t}).then(\r\n\t\t\t\t\t\tfunction(response){\r\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\r\n\t\t\t\t\t\t\t\tattrs.success(response);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(response){\r\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\r\n\t\t\t\t\t\t\t\tattrs.error(response);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar patch = function(attrs){\r\n\r\n\t\t\t\t\tattrs = attrs || {};\r\n\r\n\t\t\t\t\t$http({\r\n\t\t\t\t\t\turl: urls.apiHost\r\n\t\t\t\t\t\t\t+ urls.apiPaths.users\r\n\t\t\t\t\t\t\t+ '/' + attrs.id\r\n\t\t\t\t\t\t\t+ urls.apiPaths.usersServiceChannel,\r\n\t\t\t\t\t\tmethod: 'PATCH',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tfields: attrs.data\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).then(\r\n\t\t\t\t\t\tfunction(response){\r\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\r\n\t\t\t\t\t\t\t\tattrs.success(response);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction(response){\r\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\r\n\t\t\t\t\t\t\t\tattrs.error(response);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar getCurrentUserProfileSuccess = function(attrs, response){\r\n\r\n\t\t\t\t\tif(response.data.embed.servicechannel){\r\n\t\t\t\t\t\tattrs.success({\r\n\t\t\t\t\t\t\tdata: response.data.embed.servicechannel\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tget({\r\n\t\t\t\t\t\t\tid: response.data.id,\r\n\t\t\t\t\t\t\tsuccess: attrs.success,\r\n\t\t\t\t\t\t\terror: attrs.error\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar getCurrentUserProfile = function(attrs){\r\n\t\t\t\t\tusersService.getUserProfile({\r\n\t\t\t\t\t\tsuccess: function(response){\r\n\t\t\t\t\t\t\tgetCurrentUserProfileSuccess(attrs, response);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar getCurrentUser = function(attrs){\r\n\r\n\t\t\t\t\tattrs = attrs || {};\r\n\r\n\t\t\t\t\tif(usersService.isProfileLoaded(function(){\r\n\t\t\t\t\t\tgetCurrentUserProfile(attrs);\r\n\t\t\t\t\t})){\r\n\t\t\t\t\t\tgetCurrentUserProfile(attrs);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar patchCurrentUser = function(attrs){\r\n\r\n\t\t\t\t\tattrs = attrs || {};\r\n\r\n\t\t\t\t\tgetCurrentUserProfile({\r\n\t\t\t\t\t\tsuccess: function(response){\r\n\t\t\t\t\t\t\tpatch({\r\n\t\t\t\t\t\t\t\tid: response.data.id,\r\n\t\t\t\t\t\t\t\tdata: attrs.data,\r\n\t\t\t\t\t\t\t\tsuccess: attrs.success,\r\n\t\t\t\t\t\t\t\terror: attrs.error\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar service = {\r\n\t\t\t\t\tget: get,\r\n\t\t\t\t\tpatch: patch,\r\n\t\t\t\t\tgetCurrentUser: getCurrentUser,\r\n\t\t\t\t\tpatchCurrentUser: patchCurrentUser\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn service;\r\n\r\n\t\t\t});\r\n\r\n})();\r\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.utils-states', [])\n\n\t\t.factory(\n\n\t\t\t'utilsStatesService',\n\n\t\t\tfunction(){\n\n\t\t\t\tvar states = {\n\t\t\t\t\t'AC': 'Acre',\n\t\t\t\t\t'AL': 'Alagoas',\n\t\t\t\t\t'AM': 'Amazonas',\n\t\t\t\t\t'AP': 'Amap',\n\t\t\t\t\t'BA': 'Bahia',\n\t\t\t\t\t'CE': 'Cear',\n\t\t\t\t\t'DF': 'Distrito Federal',\n\t\t\t\t\t'ES': 'Esprito Santo',\n\t\t\t\t\t'GO': 'Gois',\n\t\t\t\t\t'MA': 'Maranho',\n\t\t\t\t\t'MG': 'Minas Gerais',\n\t\t\t\t\t'MS': 'Mato Grosso do Sul',\n\t\t\t\t\t'MT': 'Mato Grosso',\n\t\t\t\t\t'PA': 'Par',\n\t\t\t\t\t'PB': 'Paraba',\n\t\t\t\t\t'PE': 'Pernambuco',\n\t\t\t\t\t'PI': 'Piau',\n\t\t\t\t\t'PR': 'Paran',\n\t\t\t\t\t'RJ': 'Rio de Janeiro',\n\t\t\t\t\t'RN': 'Rio Grande do Norte',\n\t\t\t\t\t'RO': 'Rondnia',\n\t\t\t\t\t'RR': 'Roraima',\n\t\t\t\t\t'RS': 'Rio Grande do Sul',\n\t\t\t\t\t'SC': 'Santa Catarina',\n\t\t\t\t\t'SE': 'Sergipe',\n\t\t\t\t\t'SP': 'So Paulo',\n\t\t\t\t\t'TO': 'Tocantins'\n\t\t\t\t};\n\n\t\t\t\treturn states;\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.utils', [\n\t\t'services.utils-states'\n\t])\n\n\t\t.run(function(CacheFactory){\n\n\t\t\tCacheFactory(\n\t\t\t\t'cacheUtils',\n\t\t\t\t{\n\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\tstorageMode: 'localStorage'\n\t\t\t\t}\n\t\t\t);\n\n\t\t})\n\n\t\t.factory(\n\n\t\t\t'utilsService',\n\n\t\t\tfunction(\n\t\t\t\t$http,\n\t\t\t\t$timeout,\n\t\t\t\tCacheFactory,\n\t\t\t\turls\n\t\t\t){\n\n\t\t\t\tvar cache = CacheFactory.get('cacheUtils');\n\n\t\t\t\tvar getOccupations = function(attrs){\n\n\t\t\t\t\tvar cacheOccupations = cache.get('occupations');\n\n\t\t\t\t\tif(cacheOccupations){\n\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(cacheOccupations);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost + urls.apiPaths.utilsOccupations,\n\t\t\t\t\t\tmethod: 'GET'\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\n\t\t\t\t\t\t\tcache.put('occupations', response);\n\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar getStates = function(attrs){\n\n\t\t\t\t\tvar cacheStates = cache.get('states');\n\n\t\t\t\t\tif(cacheStates){\n\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(cacheStates);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t+ urls.apiPaths.utilsLocation.base\n\t\t\t\t\t\t+ urls.apiPaths.utilsLocation.states,\n\t\t\t\t\t\tmethod: 'GET'\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\n\t\t\t\t\t\t\tcache.put('states', response);\n\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar getCities = function(attrs){\n\n\t\t\t\t\tvar cacheCities = cache.get(attrs.params.state + '/cities');\n\n\t\t\t\t\tif(cacheCities){\n\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(cacheCities);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t\t+ urls.apiPaths.utilsLocation.base\n\t\t\t\t\t\t\t+ urls.apiPaths.utilsLocation.states\n\t\t\t\t\t\t\t+ '/' + attrs.params.state\n\t\t\t\t\t\t\t+ urls.apiPaths.utilsLocation.cities,\n\t\t\t\t\t\tmethod: 'GET'\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\n\t\t\t\t\t\t\tcache.put(attrs.params.state + '/cities', response);\n\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar getNeighborhoods = function(attrs){\n\n\t\t\t\t\tvar cacheNeighborhoods = cache.get(attrs.params.idCity + '/neighborhoods');\n\n\t\t\t\t\tif(cacheNeighborhoods){\n\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(cacheNeighborhoods);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t$http({\n\t\t\t\t\t\turl: urls.apiHost\n\t\t\t\t\t\t\t+ urls.apiPaths.utilsLocation.base\n\t\t\t\t\t\t\t+ urls.apiPaths.utilsLocation.cities\n\t\t\t\t\t\t\t+ '/' + attrs.params.idCity\n\t\t\t\t\t\t\t+ urls.apiPaths.utilsLocation.neighborhoods,\n\t\t\t\t\t\tmethod: 'GET'\n\t\t\t\t\t}).then(\n\t\t\t\t\t\tfunction(response){\n\n\t\t\t\t\t\t\tcache.put(attrs.params.idCity + '/neighborhoods', response);\n\n\t\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\t\tattrs.success(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\t\tattrs.error(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\n\t\t\t\t\tgetOccupations: getOccupations,\n\t\t\t\t\tgetStates: getStates,\n\t\t\t\t\tgetCities: getCities,\n\t\t\t\t\tgetNeighborhoods: getNeighborhoods\n\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.notification-center.dialogs',[])\n\n\t.run(function(\n\t\tnotificationCenterFactory,\n\t\tnotificationCenterDialogs,\n\t\tnotificationsContainerDialog,\n\t\tfirebaseCollections\n\t){\n\n\t\tvar types = [];\n\n\t\tnotificationsContainerDialog.getDialogTypesByPriority().map(function(item){\n\t\t\ttypes.push(item.collectionKey);\n\t\t});\n\n\t\tnotificationCenterFactory.registerToGetNotifications({\n\t\t\tcollection: [\n\t\t\t\tfirebaseCollections.pendingProcessing,\n\t\t\t\tfirebaseCollections.chat\n\t\t\t],\n\t\t\tservice: notificationCenterDialogs,\n\t\t\ttypes: types\n\t\t});\n\n\t})\n\n\t.factory(\n\t\t'notificationCenterDialogs',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$location,\n\t\t\tCacheFactory,\n\t\t\tpath,\n\t\t\t$timeout,\n\t\t\taudioFactory,\n\t\t\tfirebaseCollections,\n\t\t\tnotificationsContainerDialog,\n\t\t\tuserStatusFactory,\n\t\t\tdesktopNotificationsFactory,\n\t\t\tuserStatusBroadcastName\n\t\t){\n\n\t\t\tvar cache = CacheFactory(\n\t\t\t\t'dispatchedDialogsNotifications',\n\t\t\t\t{\n\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\tstorageMode: 'localStorage'\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tvar\n\t\t\t\tnewDialog = notificationsContainerDialog.put,\n\t\t\t\tdialogTypesByPriority = notificationsContainerDialog.getDialogTypesByPriority(),\n\t\t\t\tdispatchedNotifications = cache.get('doNotShowIdsAgain') || [], // only ids\n\t\t\t\tremovedNotificationsByAttributeWaitingForDispatch = [],\n\t\t\t\tactivedDialogs = {}, // grouped by type\n\t\t\t\tdelayFurtherSameTypeNotificationsDuration = 2 * 60 * 1000, // 2 minutes\n\t\t\t\tdelayFurtherSameTypeNotificationsPromisse,\n\t\t\t\tdataHoldingByUserStatusOffline = {},\n\n\t\t\t\tdataHoldingByChannelStatusCollectionType = {\n\t\t\t\t\t// others: [\n\t\t\t\t\t// \t'pendingProcessingTransactionWaitingAttend'\n\t\t\t\t\t// ]\n\t\t\t\t},\n\n\t\t\t\tdesktopNotificationAttrsByType = {\n\t\t\t\t\tnewLead: {\n\t\t\t\t\t\ttitle: 'Novo cliente',\n\t\t\t\t\t\tbody: 'prospectNome',\n\t\t\t\t\t\ticon: 'prospectUrlImagem',\n\t\t\t\t\t\tonclick: function(){\n\n\t\t\t\t\t\t\taudioFactory.play('system');\n\n\t\t\t\t\t\t\t$rootScope.mainController.go(path.get('transaction').withItem({\n\t\t\t\t\t\t\t\tid: this.atendimentoIdGuid\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnewChat: {\n\t\t\t\t\t\ttitle: 'Novo chat',\n\t\t\t\t\t\tbody: 'ProspectNome',\n\t\t\t\t\t\ticon: 'ProspectUrlImagem',\n\t\t\t\t\t\tonclick: function(){\n\n\t\t\t\t\t\t\taudioFactory.play('system');\n\n\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t'//'\n\t\t\t\t\t\t\t\t\t+ this.Href,\n\t\t\t\t\t\t\t\t'_blank'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\tvar cleanUpActivedDialogs = function(){\n\t\t\t\t// removed empty objects\n\t\t\t\tObject.keys(activedDialogs).map(function(key){\n\t\t\t\t\tactivedDialogs[key] = activedDialogs[key].filter(function(item){\n\t\t\t\t\t\treturn !!item.data;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tdialogTypesByPriority.map(function(item){\n\t\t\t\tactivedDialogs[item.type] = [];\n\t\t\t});\n\n\t\t\tvar removeWaitingNotificationsRemovedByAttribute = function(data){\n\n\t\t\t\tremovedNotificationsByAttributeWaitingForDispatch.map(function(notification){\n\n\t\t\t\t\tObject.keys(data).map(function(collectionKey){\n\t\t\t\t\t\tdata[collectionKey] = data[collectionKey].filter(function(dataItem){\n\t\t\t\t\t\t\tif(dataItem[notification.data.attribute] != notification.data.value){\n\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\tvar indexOf = removedNotificationsByAttributeWaitingForDispatch\n\t\t\t\t\t\t\t\t\t.indexOf(notification);\n\n\t\t\t\t\t\t\t\tif(indexOf >= 0){\n\n\t\t\t\t\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t\t\t\t\t'factories.notification-center.dialogs.removeWaitingNotificationsRemovedByAttribute()',\n\t\t\t\t\t\t\t\t\t\tangular.copy({\n\t\t\t\t\t\t\t\t\t\t\tdataItem: dataItem,\n\t\t\t\t\t\t\t\t\t\t\tnotification: notification\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t]);\n\n\t\t\t\t\t\t\t\t\tremovedNotificationsByAttributeWaitingForDispatch\n\t\t\t\t\t\t\t\t\t\t.splice(indexOf, 1);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsetDoNotShowAgain(dataItem.id, notification.doNotShowAgain);\n\n\t\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t// remove notifications from pendingProcessing that has been already dispatched\n\t\t\tvar cleanUpData = function(data){\n\n\t\t\t\tremoveWaitingNotificationsRemovedByAttribute(data);\n\n\t\t\t\tObject.keys(data).map(function(collectionKey){\n\t\t\t\t\tdata[collectionKey] = data[collectionKey].filter(function(dataItem){\n\t\t\t\t\t\treturn dispatchedNotifications.indexOf(dataItem.id) == -1;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar dispatchDesktopNotification = function(dialog){\n\n\t\t\t\tif(!document.hasFocus()){\n\n\t\t\t\t\tvar data = dialog.data;\n\t\t\t\t\tvar dialogType = notificationsContainerDialog.getDialogType(data.type);\n\t\t\t\t\tdialogType.desktopNotification = dialogType.desktopNotification || {};\n\n\t\t\t\t\tdialog.desktopNotification = desktopNotificationsFactory.send({\n\t\t\t\t\t\ttag: data.id,\n\t\t\t\t\t\ttitle: desktopNotificationAttrsByType[data.type].title,\n\t\t\t\t\t\tbody: data[desktopNotificationAttrsByType[data.type].body],\n\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\tdialogType.desktopNotification.icon\n\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\tdata[desktopNotificationAttrsByType[data.type].icon],\n\t\t\t\t\t\trequireInteraction: true,\n\t\t\t\t\t\trenotify: true,\n\t\t\t\t\t\tcallback: desktopNotificationAttrsByType[data.type].onclick.bind(data)\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar dispatchNewDialogNotification = function(nextNotification){\n\t\t\t\tif(nextNotification){\n\n\t\t\t\t\tvar dialogObj = newDialog(\n\t\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: nextNotification.dialogTypeObj.type\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tnextNotification.notification\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tactivedDialogs[nextNotification.dialogTypeObj.type].push(dialogObj);\n\n\t\t\t\t\tdispatchDesktopNotification(dialogObj);\n\n\t\t\t\t\tdispatchedNotifications.push(dialogObj.data.id);\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar selectNextGroupTypeNotificationsByPriority = function(data){\n\n\t\t\t\tvar nextGroupTypeNotificationsByPriority;\n\n\t\t\t\tfor(var i=0; i<dialogTypesByPriority.length; i++){\n\n\t\t\t\t\tvar dialogTypeObj = dialogTypesByPriority[i];\n\n\t\t\t\t\tif(dialogTypeObj.collectionKey\n\t\t\t\t\t\t&& data[dialogTypeObj.collectionKey]\n\t\t\t\t\t\t&& data[dialogTypeObj.collectionKey].length\n\t\t\t\t\t){\n\t\t\t\t\t\tnextGroupTypeNotificationsByPriority = {\n\t\t\t\t\t\t\tdialogTypeObj: dialogTypeObj,\n\t\t\t\t\t\t\titems: data[dialogTypeObj.collectionKey]\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn nextGroupTypeNotificationsByPriority;\n\n\t\t\t};\n\n\t\t\tvar hasGroupTypeNotificationsSlotsFree = function(groupTypeNotifications){\n\t\t\t\treturn (\n\t\t\t\t\tactivedDialogs[groupTypeNotifications.dialogTypeObj.type].length\n\t\t\t\t\t<\n\t\t\t\t\tgroupTypeNotifications.dialogTypeObj.limit\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar getNextPriorityNotification = function(data){\n\n\t\t\t\tvar\n\t\t\t\t\tnextGroupTypeNotificationsByPriority = selectNextGroupTypeNotificationsByPriority(data),\n\t\t\t\t\tnextNotification;\n\n\t\t\t\tif(\n\t\t\t\t\tnextGroupTypeNotificationsByPriority\n\t\t\t\t\t&&\n\t\t\t\t\thasGroupTypeNotificationsSlotsFree(nextGroupTypeNotificationsByPriority)\n\t\t\t\t){\n\n\t\t\t\t\tnextNotification = {\n\t\t\t\t\t\tdialogTypeObj: nextGroupTypeNotificationsByPriority.dialogTypeObj,\n\t\t\t\t\t\tnotification: nextGroupTypeNotificationsByPriority.items.shift()\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\treturn nextNotification;\n\n\t\t\t};\n\n\t\t\tvar delayFurtherSameTypeNotifications = function(data){\n\n\t\t\t\tvar\n\t\t\t\t\thasMoreNotifications = false,\n\t\t\t\t\tdataKeys = Object.keys(data);\n\n\t\t\t\tfor(var i=0; i<dataKeys.length; i++){\n\t\t\t\t\tif(data[dataKeys[i]].length){\n\t\t\t\t\t\thasMoreNotifications = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(hasMoreNotifications){\n\n\t\t\t\t\t$timeout.cancel(delayFurtherSameTypeNotificationsPromisse);\n\n\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t'factories.notification-center.dialogs.delayFurtherSameTypeNotifications()',\n\t\t\t\t\t\tangular.copy(data)\n\t\t\t\t\t]);\n\n\t\t\t\t\tdelayFurtherSameTypeNotificationsPromisse = $timeout(\n\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\tgetAndShowNextNotification(data);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdelayFurtherSameTypeNotificationsDuration\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar moveDataCollectionsTypeToOnHold = function(channel, data){\n\t\t\t\tdataHoldingByChannelStatusCollectionType[channel].map(function(collectionKey){\n\t\t\t\t\tif(data[collectionKey]){\n\t\t\t\t\t\tdataHoldingByUserStatusOffline[collectionKey] = data[collectionKey];\n\t\t\t\t\t\tdelete data[collectionKey];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar moveDataToOnHold = function(data){\n\n\t\t\t\tObject.keys(dataHoldingByChannelStatusCollectionType).map(function(channel){\n\t\t\t\t\tif(!userStatusFactory.isOnline(channel)){\n\t\t\t\t\t\tmoveDataCollectionsTypeToOnHold(channel, data);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(Object.keys(dataHoldingByUserStatusOffline).length){\n\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t'factories.notification-center.dialogs.moveDataCollectionsTypeToOnHold',\n\t\t\t\t\t\tangular.copy(dataHoldingByUserStatusOffline)\n\t\t\t\t\t]);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar getAndShowNextNotification = function(data){\n\n\t\t\t\tcleanUpData(data);\n\n\t\t\t\tmoveDataToOnHold(data);\n\n\t\t\t\tconsole.log([\n\t\t\t\t\t'factories.notification-center.dialogs.getAndShowNextNotification',\n\t\t\t\t\tangular.copy(data)\n\t\t\t\t]);\n\n\t\t\t\tcleanUpActivedDialogs();\n\n\t\t\t\tvar nextNotification = getNextPriorityNotification(data);\n\n\t\t\t\tdispatchNewDialogNotification(nextNotification);\n\n\t\t\t\tdelayFurtherSameTypeNotifications(data);\n\n\t\t\t};\n\n\t\t\tvar removeMissedDialogsNotifications = function(data){\n\n\t\t\t\tObject.keys(activedDialogs).map(function(type){\n\n\t\t\t\t\tvar dialogType = notificationsContainerDialog.getDialogType(type);\n\n\t\t\t\t\tvar dialogsNotFound = [];\n\n\t\t\t\t\tactivedDialogs[type].map(function(dialog){\n\n\t\t\t\t\t\tif(dialog.data && data[dialogType.collectionKey]){\n\n\t\t\t\t\t\t\tvar dialogFound = data[dialogType.collectionKey]\n\t\t\t\t\t\t\t\t.filter(function(dataItem){\n\t\t\t\t\t\t\t\t\treturn dataItem.id === dialog.data.id;\n\t\t\t\t\t\t\t\t})[0];\n\n\t\t\t\t\t\t\tif(!dialogFound){\n\t\t\t\t\t\t\t\tdialogsNotFound.push(dialog.data.id);\n\t\t\t\t\t\t\t\tconsole.warn('Dialog Notification Missed!', dialog.data);\n\t\t\t\t\t\t\t\tdialog.remove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t\tactivedDialogs[type] = activedDialogs[type].filter(function(dialog){\n\t\t\t\t\t\treturn dialog.data && dialogsNotFound.indexOf(dialog.data.id) < 0;\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar removeNotification = function(dialog){\n\n\t\t\t\tif(dialog.desktopNotification){\n\t\t\t\t\tdialog.desktopNotification.close();\n\t\t\t\t\tdelete dialog.desktopNotification;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar setDoNotShowAgain = function(id, doNotShowAgain){\n\n\t\t\t\tdispatchedNotifications.push(id);\n\n\t\t\t\tif(doNotShowAgain){\n\t\t\t\t\taddIdNotificationCache(id);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar removeById = function(id, doNotShowAgain){\n\n\t\t\t\tsetDoNotShowAgain(id, doNotShowAgain);\n\n\t\t\t\tdialogTypesByPriority.map(function(typeObj){\n\t\t\t\t\tactivedDialogs[typeObj.type].map(function(dialog){\n\t\t\t\t\t\tif(dialog && dialog.data && dialog.data.id == id){\n\n\t\t\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t\t\t'factories.notification-center.dialogs.removeById()',\n\t\t\t\t\t\t\t\tangular.copy(dialog.data)\n\t\t\t\t\t\t\t]);\n\n\t\t\t\t\t\t\tremoveNotification(dialog);\n\n\t\t\t\t\t\t\tdialog.remove();\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar removeByAttribute = function(attrs, doNotShowAgain){\n\n\t\t\t\tvar found = false;\n\n\t\t\t\tdialogTypesByPriority.map(function(typeObj){\n\t\t\t\t\tactivedDialogs[typeObj.type].map(function(dialog){\n\t\t\t\t\t\tif(dialog && dialog.data && dialog.data[attrs.attribute] == attrs.value){\n\n\t\t\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t\t\t'factories.notification-center.dialogs.removeByAttribute()',\n\t\t\t\t\t\t\t\tangular.copy(dialog.data)\n\t\t\t\t\t\t\t]);\n\n\t\t\t\t\t\t\tsetDoNotShowAgain(dialog.data.id, doNotShowAgain);\n\n\t\t\t\t\t\t\tremoveNotification(dialog);\n\n\t\t\t\t\t\t\tdialog.remove();\n\n\t\t\t\t\t\t\tfound = true;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tif(!found){\n\n\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t'factories.notification-center.dialogs.removeByAttribute().WaitingForDispatch',\n\t\t\t\t\t\tangular.copy(attrs)\n\t\t\t\t\t]);\n\n\t\t\t\t\tremovedNotificationsByAttributeWaitingForDispatch.push({\n\t\t\t\t\t\tdata: attrs,\n\t\t\t\t\t\tdoNotShowAgain: doNotShowAgain\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar addIdNotificationCache = function(id){\n\n\t\t\t\tvar ids = cache.get('doNotShowIdsAgain') || [];\n\t\t\t\tids.push(id);\n\t\t\t\tcache.put('doNotShowIdsAgain', ids);\n\n\t\t\t};\n\n\t\t\t// release all on hold data and clean it up\n\t\t\tvar releaseDataOnHold = function(){\n\n\t\t\t\tvar data = dataHoldingByUserStatusOffline;\n\t\t\t\tdataHoldingByUserStatusOffline = {};\n\n\t\t\t\tif(Object.keys(data).length){\n\n\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t'factories.notification-center.dialogs.releaseDataOnHold()',\n\t\t\t\t\t\tangular.copy(data)\n\t\t\t\t\t]);\n\n\t\t\t\t\tgetAndShowNextNotification(data);\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar groupChats = function(data){\n\n\t\t\t\tvar groupedChats = [];\n\n\t\t\t\tif(data[firebaseCollections.chat] && data[firebaseCollections.chat].length){\n\n\t\t\t\t\tvar chats = angular.copy(data[firebaseCollections.chat]);\n\n\t\t\t\t\tgroupedChats.push(chats.pop());\n\n\t\t\t\t\tchats.map(function(chat){\n\t\t\t\t\t\tgroupedChats[0].ProspectNome += ', ' + chat.ProspectNome;\n\t\t\t\t\t});\n\n\t\t\t\t\tdata[firebaseCollections.chat] = groupedChats;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar dispatch = function(data){\n\n\t\t\t\tconsole.log([\n\t\t\t\t\t'factories.notification-center.dialogs.dispatch('\n\t\t\t\t\t\t+ Object.keys(data).join(',')\n\t\t\t\t\t\t+ ')',\n\t\t\t\t\tangular.copy(data)\n\t\t\t\t]);\n\n\t\t\t\tgroupChats(data);\n\n\t\t\t\t// prevent dispatch dialog notifications twice\n\t\t\t\t$timeout.cancel(delayFurtherSameTypeNotificationsPromisse);\n\n\t\t\t\tremoveMissedDialogsNotifications(data);\n\n\t\t\t\tgetAndShowNextNotification(data);\n\n\t\t\t};\n\n\t\t\t$rootScope.$on(\n\t\t\t\tuserStatusBroadcastName,\n\t\t\t\treleaseDataOnHold\n\t\t\t);\n\n\t\t\tvar factory = {\n\t\t\t\tname: 'dialogs',\n\t\t\t\tdispatch: dispatch,\n\t\t\t\tremoveById: removeById,\n\t\t\t\tremoveByAttribute: removeByAttribute\n\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\r\n'use strict';\r\n\r\n(function(){\r\n\r\n\tangular.module('factories.notification-center',[\r\n\t\t'factories.notification-center.dialogs',\r\n\t\t'factories.notification-center.toastr',\r\n\t\t'factories.notification-center.transactions-awaiting',\r\n\t\t'factories.notification-center.transactionSumary',\r\n\t\t'factories.notification-center.position-in-queues'\r\n\t])\r\n\r\n\t.provider(\r\n\t\t'notificationCenter',\r\n\r\n\t\tfunction(){\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tself.$get = function(\r\n\t\t\t\tnotificationCenterFactory,\r\n\t\t\t\tfirebaseService,\r\n\t\t\t\tpendingProcessingService\r\n\t\t\t){\r\n\r\n\t\t\t\tself.init = function(){\r\n\t\t\t\t\tfirebaseService.init();\r\n\t\t\t\t\tpendingProcessingService.init();\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn self;\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t)\r\n\r\n\t.factory(\r\n\t\t'notificationCenterFactory',\r\n\r\n\t\tfunction(){\r\n\r\n\t\t\tvar\r\n\r\n\t\t\t\tregisteredServices = [],\r\n\r\n\t\t\t\tregisterToGetNotifications = function(register){\r\n\t\t\t\t\tif(register.service){\r\n\t\t\t\t\t\tregisteredServices.push(register);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tgenerateDataByServicesRegistered = function(collection, register, data){\r\n\r\n\t\t\t\t\tvar registerData = {};\r\n\r\n\t\t\t\t\tif(register.types.indexOf(collection) >= 0){\r\n\r\n\t\t\t\t\t\tregisterData[collection] = data;\r\n\r\n\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\tvar filteredType = Object.keys(data).filter(function(key){\r\n\t\t\t\t\t\t\treturn register.types.indexOf(key) >= 0;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tfilteredType.map(function(type){\r\n\t\t\t\t\t\t\tregisterData[type] = data[type];\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn registerData;\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tremoveNotificationById = function(id, doNotShowAgain){\r\n\t\t\t\t\tregisteredServices.map(function(register){\r\n\t\t\t\t\t\tif(register.service.removeById){\r\n\t\t\t\t\t\t\tregister.service.removeById(id, doNotShowAgain);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tremoveNotificationByAttribute = function(attrs, doNotShowAgain){\r\n\t\t\t\t\tregisteredServices.map(function(register){\r\n\t\t\t\t\t\tif(register.service.removeByAttribute){\r\n\t\t\t\t\t\t\tregister.service.removeByAttribute(attrs, doNotShowAgain);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tdispatch = function(collection, data){\r\n\r\n\t\t\t\t\tregisteredServices.map(function(register){\r\n\r\n\t\t\t\t\t\tif(register.collection.indexOf(collection) >= 0){\r\n\r\n\t\t\t\t\t\t\tvar registerData = generateDataByServicesRegistered(collection, register, data);\r\n\r\n\t\t\t\t\t\t\tif(Object.keys(registerData).length){\r\n\t\t\t\t\t\t\t\tregister.service.dispatch(registerData);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\tfactory = {\r\n\t\t\t\t\tregisterToGetNotifications: registerToGetNotifications,\r\n\t\t\t\t\tdispatch: dispatch,\r\n\t\t\t\t\tremoveNotificationById: removeNotificationById,\r\n\t\t\t\t\tremoveNotificationByAttribute: removeNotificationByAttribute\r\n\t\t\t\t};\r\n\r\n\t\t\treturn factory;\r\n\t\t}\r\n\t);\r\n\r\n})();\r\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.notification-center.position-in-queues',[])\n\n\t.run(function(\n\t\tnotificationCenterFactory,\n\t\tnotificationCenterPositionInQueues,\n\t\tfirebaseCollections\n\t){\n\n\t\tnotificationCenterFactory.registerToGetNotifications({\n\t\t\tcollection: [\n\t\t\t\tfirebaseCollections.queuesChannelChatByUser\n\t\t\t],\n\t\t\tservice: notificationCenterPositionInQueues,\n\t\t\ttypes: [\n\t\t\t\tfirebaseCollections.queuesChannelChatByUser\n\t\t\t]\n\t\t});\n\n\t})\n\n\t.factory(\n\t\t'notificationCenterPositionInQueues',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$timeout,\n\t\t\tuserStatusFactory,\n\t\t\tpermission\n\t\t){\n\n\t\t\tvar channelsKey = {\n\t\t\t\tqueuesChannelChatByUser: 'channelChat',\n\t\t\t\tqueuesChannelPhoneByUser: 'channelPhone',\n\t\t\t\tqueuesChannelOthersByUser: 'channelOthers'\n\t\t\t};\n\n\t\t\tvar queues = [];\n\t\t\tvar callbacks = [];\n\n\t\t\tvar setQueues = function(data){\n\n\t\t\t\tqueues.splice(0, queues.length);\n\n\t\t\t\tif(data){\n\t\t\t\t\tObject.keys(data).map(function(key){\n\n\t\t\t\t\t\tvar channelName = userStatusFactory.getChannelsByKey(key);\n\t\t\t\t\t\tvar channelQueue = data[key].Campanhas;\n\t\t\t\t\t\tvar channelProperties = userStatusFactory.getChannelProperties(channelName) || {};\n\n\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t!channelProperties.permissionPositionInQueue\n\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\tchannelProperties.permissionPositionInQueue\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\tpermission.checkPermissions(channelProperties.permissionPositionInQueue)\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\tchannelQueue\n\t\t\t\t\t\t){\n\n\t\t\t\t\t\t\tqueues.push({\n\t\t\t\t\t\t\t\tchannelProperties: channelProperties,\n\t\t\t\t\t\t\t\tqueues: channelQueue\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tsetPositionToChannelWhenHasOnlyOne();\n\n\t\t\t};\n\n\t\t\tvar setNextPositionInQueues = function(){\n\n\t\t\t\tqueues.map(function(channel){\n\n\t\t\t\t\tvar position = null;\n\n\t\t\t\t\tangular.merge(channel, {queues:[]});\n\n\t\t\t\t\tchannel.queues.map(function(campaign){\n\t\t\t\t\t\tangular.merge(campaign, {Canais:[]});\n\t\t\t\t\t\tcampaign.Canais.map(function(campaignChannel){\n\n\t\t\t\t\t\t\tangular.merge(campaignChannel, {Posicao: {}});\n\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\ttypeof campaignChannel.Posicao.Ordem == 'number'\n\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\tcampaignChannel.Posicao.Ordem < position\n\t\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t\tposition === null\n\t\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\tposition = campaignChannel.Posicao.Ordem;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tchannel.nextPositionInQueues = position;\n\n\t\t\t\t\tuserStatusFactory.setNextPositionInQueues(\n\t\t\t\t\t\tchannel.channelProperties.channel,\n\t\t\t\t\t\tposition\n\t\t\t\t\t);\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar setPositionToChannelWhenHasOnlyOne = function(){\n\n\t\t\t\tqueues.map(function(item){\n\t\t\t\t\tif(\n\t\t\t\t\t\titem.queues\n\t\t\t\t\t\t&&\n\t\t\t\t\t\titem.queues.length == 1\n\t\t\t\t\t\t&&\n\t\t\t\t\t\titem.queues[0].Canais.length == 1\n\t\t\t\t\t){\n\t\t\t\t\t\titem.campaignChannel = item.queues[0].Canais[0];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar dispatch = function(data){\n\n\t\t\t\t\tvar dataCopied = angular.copy(data);\n\n\t\t\t\t\tvar dataFormatted = {};\n\n\t\t\t\t\tObject.keys(data).map(function(channelQueuesKey){\n\n\t\t\t\t\t\tuserStatusFactory.setNextPositionInQueues(\n\t\t\t\t\t\t\tuserStatusFactory.getChannelsByKey(channelsKey[channelQueuesKey]),\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdataFormatted[channelsKey[channelQueuesKey]] = data[channelQueuesKey];\n\n\t\t\t\t\t});\n\n\t\t\t\t\tsetQueues(dataFormatted);\n\t\t\t\t\tsetNextPositionInQueues();\n\n\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t'factories.notification-center.notificationCenterPositionInQueues.dispatch()',\n\t\t\t\t\t\tdataCopied,\n\t\t\t\t\t\tqueues\n\t\t\t\t\t]);\n\n\t\t\t\t\trunCallbacks();\n\n\t\t\t\t\t$rootScope.$digest();\n\n\t\t\t\t},\n\n\t\t\t\tdispatchCallback = function(attrs){\n\n\t\t\t\t\tvar found = callbacks.indexOf(attrs);\n\n\t\t\t\t\tif(found < 0){\n\t\t\t\t\t\tcallbacks.push(attrs);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(attrs.success){\n\t\t\t\t\t\tattrs.success(queues);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\trunCallbacks = function(){\n\t\t\t\t\tcallbacks = callbacks.filter(function(callback){\n\t\t\t\t\t\treturn typeof callback.success == 'function';\n\t\t\t\t\t});\n\n\t\t\t\t\tcallbacks.map(function(callback){\n\t\t\t\t\t\tcallback.success(queues);\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tfactory = {\n\t\t\t\t\tdispatch: dispatch,\n\t\t\t\t\tdispatchCallback: dispatchCallback\n\t\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.notification-center.toastr',[])\n\n\t.run(function(\n\t\tnotificationCenterFactory,\n\t\tnotificationCenterToastr,\n\t\tfirebaseCollections\n\t){\n\n\t\tnotificationCenterFactory.registerToGetNotifications({\n\t\t\tcollection: [\n\t\t\t\tfirebaseCollections.systemMessages\n\t\t\t],\n\t\t\tservice: notificationCenterToastr,\n\t\t\ttypes: [\n\t\t\t\t'newsMessages',\n\t\t\t\t'systemMessages'\n\t\t\t]\n\t\t});\n\n\t})\n\n\t.factory(\n\t\t'notificationCenterToastr',\n\n\t\tfunction(\n\t\t\ttoastrFactory,\n\t\t\taudioFactory,\n\t\t\tnotificationCenterFactory,\n\t\t\tCacheFactory\n\t\t){\n\t\t\tvar\n\n\t\t\t\tcache = CacheFactory(\n\t\t\t\t\t'toastsMessagesInfo',\n\t\t\t\t\t{\n\t\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\t\tstorageMode: 'localStorage'\n\t\t\t\t\t}\n\t\t\t\t),\n\n\t\t\t\tremovedIds = cache.get('removedIds') || [],\n\t\t\t\tregisteredToasts = [],\n\t\t\t\ttoastsById = {},\n\n\t\t\t\tcreateToasts = function(messages){\n\t\t\t\t\tmessages.map(function(message){\n\n\t\t\t\t\t\taudioFactory.play('system');\n\n\t\t\t\t\t\tvar toast = toastrFactory[message.type];\n\n\t\t\t\t\t\tif(\n\t\t\t\t\t\t\ttoast\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\tregisteredToasts.indexOf(message.id) == -1\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\tremovedIds.indexOf(message.id) == -1\n\t\t\t\t\t\t){\n\n\t\t\t\t\t\t\tregisteredToasts.push(message.id);\n\n\t\t\t\t\t\t\ttoastsById[message.id] = toast({\n\t\t\t\t\t\t\t\ttitle: message.title,\n\t\t\t\t\t\t\t\tmessage: message.message,\n\t\t\t\t\t\t\t\tautoDismiss: false,\n\t\t\t\t\t\t\t\tonTap: message.onTap || null,\n\t\t\t\t\t\t\t\tonHidden: function(){\n\n\t\t\t\t\t\t\t\t\tif(message.onHidden){\n\t\t\t\t\t\t\t\t\t\tmessage.onHidden();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tremoveById(message.id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tlookForMessages = function(data){\n\n\t\t\t\t\tObject.keys(data).map(function(key){\n\t\t\t\t\t\tcreateToasts(data[key]);\n\t\t\t\t\t});\n\n\t\t\t\t},\n\n\t\t\t\tdispatch = function(data){\n\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t'factories.notification-center.toastr.dispatch('\n\t\t\t\t\t\t\t+ Object.keys(data).join(',')\n\t\t\t\t\t\t\t+ ')',\n\t\t\t\t\t\tangular.copy(data)\n\t\t\t\t\t]);\n\t\t\t\t\tlookForMessages(data);\n\t\t\t\t},\n\n\t\t\t\tremoveById = function(id){\n\n\t\t\t\t\tremovedIds.push(id);\n\n\t\t\t\t\tif(toastsById[id]){\n\t\t\t\t\t\ttoastsById[id].scope.close();\n\t\t\t\t\t\ttoastsById[id] = null;\n\t\t\t\t\t\tdelete toastsById[id];\n\t\t\t\t\t}\n\n\t\t\t\t\tcache.put('removedIds', removedIds);\n\t\t\t\t},\n\n\t\t\t\tfactory = {\n\t\t\t\t\tdispatch: dispatch,\n\t\t\t\t\tremoveById: removeById\n\t\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.notification-center.transactionSumary',[])\n\n\t.run(function(\n\t\tnotificationCenterFactory,\n\t\tnotificationCenterTransactionSumary,\n\t\tfirebaseCollections\n\t){\n\n\t\tnotificationCenterFactory.registerToGetNotifications({\n\t\t\tcollection: [\n\t\t\t\tfirebaseCollections.pendingProcessing\n\t\t\t],\n\t\t\tservice: notificationCenterTransactionSumary,\n\t\t\ttypes: [\n\t\t\t\t'pendingProcessingTransactionsSummary'\n\t\t\t]\n\t\t});\n\n\t})\n\n\t.factory(\n\t\t'notificationCenterTransactionSumary',\n\n\t\tfunction(\n\t\t\t\n\t\t){\n\t\t\tvar callbacks = [];\n\t\t\tvar result;\n\t\t\t\n\t\t\tvar dispatch = function(data){\n\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t'factories.notification-center.notificationCenterTransactionSumary.dispatch()',\n\t\t\t\t\t\tangular.copy(data)\n\t\t\t\t\t]);\t\t\t\t\t\n\t\t\t\t\tresult = data.pendingProcessingTransactionsSummary;\n\t\t\t\t\trunCallbacks();\n\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\tdispatchCallback = function(attrs){\n\t\t\t\t\t\n\t\t\t\t\tvar found = callbacks.indexOf(attrs);\n\n\t\t\t\t\tif(found < 0){\n\t\t\t\t\t\tcallbacks.push(attrs);\n\t\t\t\t\t}\n\n\t\t\t\t\tif(result){\n\t\t\t\t\t\tattrs.success(result);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\trunCallbacks = function(){\n\t\t\t\t\tcallbacks = callbacks.filter(function(callback){\n\t\t\t\t\t\treturn typeof callback.success == 'function';\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tcallbacks.map(function(callback){\n\t\t\t\t\t\tcallback.success(result);\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tfactory = {\n\t\t\t\t\tdispatch: dispatch,\n\t\t\t\t\tdispatchCallback: dispatchCallback\n\t\t\t\t};\n\n\t\t\treturn factory;\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.notification-center.transactions-awaiting',[\n\t\t'factories.favico'\n\t])\n\n\t.run(function(\n\t\tnotificationCenterFactory,\n\t\tnotificationCenterTransactionsAwaiting,\n\t\tfirebaseCollections\n\t){\n\n\t\tnotificationCenterFactory.registerToGetNotifications({\n\t\t\tcollection: [\n\t\t\t\tfirebaseCollections.pendingProcessing,\n\t\t\t\tfirebaseCollections.chat\n\t\t\t],\n\t\t\tservice: notificationCenterTransactionsAwaiting,\n\t\t\ttypes: [\n\t\t\t\t'pendingProcessingTransactionWaitingAttend',\n\t\t\t\tfirebaseCollections.chat\n\t\t\t]\n\t\t});\n\n\t})\n\n\t.factory(\n\t\t'notificationCenterTransactionsAwaiting',\n\n\t\tfunction(\n\t\t\tfirebaseCollections,\n\t\t\tfavicoFactory\n\t\t){\n\n\t\t\tvar data = {\n\t\t\t\tpendingProcessingTransactionWaitingAttend: [],\n\t\t\t};\n\t\t\tdata[firebaseCollections.chat] = [];\n\n\t\t\tvar dispatch = function(collectionKeys){\n\n\t\t\t\tconsole.log([\n\t\t\t\t\t'notificationCenterTransactionsAwaiting.dispatch('\n\t\t\t\t\t+ Object.keys(collectionKeys).join(',')\n\t\t\t\t\t+ ')',\n\t\t\t\t\tangular.copy(collectionKeys)\n\t\t\t\t]);\n\n\t\t\t\tObject.assign(data, collectionKeys);\n\n\t\t\t\tsetFavico();\n\n\t\t\t};\n\n\t\t\tvar removeByAttribute = function(attrs){\n\n\t\t\t\tObject.keys(data).map(function(collectionKey){\n\t\t\t\t\tdata[collectionKey] = data[collectionKey].filter(function(item){\n\t\t\t\t\t\treturn item[attrs.attribute] != attrs.value;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tsetFavico();\n\n\t\t\t};\n\n\t\t\tvar removeById = function(id){\n\n\t\t\t\tObject.keys(data).map(function(collectionKey){\n\t\t\t\t\tdata[collectionKey] = data[collectionKey].filter(function(item){\n\t\t\t\t\t\treturn item.id != id;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tsetFavico();\n\n\t\t\t};\n\n\t\t\tvar setFavico = function(){\n\t\t\t\tfavicoFactory.set({\n\t\t\t\t\tchat: data[firebaseCollections.chat].length,\n\t\t\t\t\tclients: data.pendingProcessingTransactionWaitingAttend.length\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar getTotalNewClients = function(){\n\t\t\t\treturn data.pendingProcessingTransactionWaitingAttend.length;\n\t\t\t};\n\n\t\t\tvar getTotalChats = function(){\n\t\t\t\treturn data[firebaseCollections.chat].length;\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tdispatch: dispatch,\n\t\t\t\tremoveByAttribute: removeByAttribute,\n\t\t\t\tremoveById: removeById,\n\t\t\t\tgetTotalNewClients: getTotalNewClients,\n\t\t\t\tgetTotalChats: getTotalChats\n\t\t\t};\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.add-client',[])\n\n\t.factory('addClientFactory',\n\t\tfunction($modal) {\n\n\t\t\tvar showModal = function(attrs) {\n\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t$modal({\n\t\t\t\t\ttemplateUrl: 'add-client/add-client-modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tcontroller: function($scope) {\n\t\t\t\t\t\t$scope.delegate = attrs.delegate;\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function() {\n\t\t\t\t\t\tconsole.log('modalAddClient hide');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tshowModal: showModal\n\t\t\t};\n\t\t})\n\n\t.controller(\n\t\t'AddClientController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$filter,\n\t\t\t$timeout,\n\t\t\tpath,\n\t\t\tanaproFormlyFactory,\n\t\t\ttransactionsService,\n\t\t\tusersService\n\t\t){\n\n\t\t\tvar userProfile;\n\n\t\t\tusersService.getUserProfile({\n\t\t\t\tsuccess: function(response){\n\t\t\t\t\tuserProfile = response.data;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.delegate = $scope.delegate || {};\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\t$scope.form = {};\n\t\t\t$scope.formOptions = {};\n\t\t\t$scope.model = {\n\t\t\t\tprospectEmails: [{}],\n\t\t\t\tprospectTelefones: [{}]\n\t\t\t};\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar submitError = function(){\n\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\tpostExecute();\n\t\t\t};\n\n\t\t\tvar delegateItemAddedCurrentUserHasNoAccess = function(item){\n\n\t\t\t\tif($scope.delegate.itemAddedCurrentUserHasNoAccess && !item.id){\n\t\t\t\t\t$scope.delegate.itemAddedCurrentUserHasNoAccess(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar delegateItemAddedToCurrentUser = function(item){\n\n\t\t\t\tif(\n\t\t\t\t\t$scope.delegate.itemAddedToCurrentUser\n\t\t\t\t\t&&\n\t\t\t\t\titem.id\n\t\t\t\t\t&&\n\t\t\t\t\titem.fields.atendimento\n\t\t\t\t\t\t.atendimentoUsuarioContaSistemaIdGuid == userProfile.id\n\t\t\t\t){\n\t\t\t\t\t$scope.delegate.itemAddedToCurrentUser(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar delegateItemAddedToOtherUser = function(item){\n\n\t\t\t\tif(\n\t\t\t\t\t$scope.delegate.itemAddedToOtherUser\n\t\t\t\t\t&&\n\t\t\t\t\titem.id\n\t\t\t\t\t&&\n\t\t\t\t\titem.fields.atendimento\n\t\t\t\t\t\t.atendimentoUsuarioContaSistemaIdGuid != userProfile.id\n\t\t\t\t){\n\n\t\t\t\t\t$scope.delegate.itemAddedToOtherUser(item);\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar delegateHide = function(){\n\n\t\t\t\tif($scope.delegate.hide){\n\t\t\t\t\t$scope.delegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar runDelegates = function(response){\n\n\t\t\t\tdelegateHide(response.data);\n\t\t\t\tdelegateItemAddedCurrentUserHasNoAccess(response.data);\n\t\t\t\tdelegateItemAddedToCurrentUser(response.data);\n\t\t\t\tdelegateItemAddedToOtherUser(response.data);\n\n\t\t\t};\n\n\t\t\tvar submitSuccess = function(response){\n\n\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\tpostExecute();\n\t\t\t\trunDelegates(response);\n\n\t\t\t\t$scope.formOptions.resetModel();\n\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\n\t\t\t\t$scope.formOptions.resetModel();\n\n\t\t\t\tif($scope.delegate.hide){\n\t\t\t\t\t$scope.delegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.submit = function(){\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\tpostAction();\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar toastrMessagesSetOptions = function(itemAdded){\n\n\t\t\t\tif(itemAdded.id){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tautoDimiss: false,\n\t\t\t\t\t\tcloseButton: true,\n\t\t\t\t\t\ttimeOut: 0,\n\t\t\t\t\t\tonTap: function(){\n\t\t\t\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\t\t\t\tpath.get('transaction').withItem(itemAdded)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar postAction = function(){\n\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\taction: 'request',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: $scope.model\n\t\t\t\t\t},\n\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\ttitle: 'Cliente '\n\t\t\t\t\t\t\t\t+ $scope.model.prospectNome\n\t\t\t\t\t\t\t\t+ ' adicionado com sucesso.',\n\t\t\t\t\t\t\tsetOptions: toastrMessagesSetOptions\n\t\t\t\t\t\t},\n\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para adicionar o cliente'\n\t\t\t\t\t\t\t\t+ $scope.model.prospectNome + '.'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: submitSuccess,\n\t\t\t\t\terror: submitError\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar update = function(){\n\n\t\t\t\tvar model = angular.copy($scope.model);\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\taction: 'request',\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tparams: {filters: JSON.stringify(model)},\n\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldade para adicionar um novo cliente.'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\tsetFields(response.data.filters);\n\t\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t},\n\t\t\t\t\terror: delegateHide\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tupdate();\n\n\t\t\t$scope.setAdvanced = function(){\n\t\t\t\t$scope.model.atendimentoActionRequestOpcaoAvancado = true;\n\t\t\t\tupdate();\n\t\t\t};\n\n\t\t\tvar lastSelectedUser;\n\n\t\t\tvar setLastSelectedUser = function(){\n\t\t\t\tlastSelectedUser = $scope.model.usuarioIdGuid || lastSelectedUser || null;\n\t\t\t\tdelete $scope.model.usuarioIdGuid;\n\t\t\t};\n\n\t\t\tvar fieldsLayout = $rootScope.mainController.device == 'desktop'\n\t\t\t\t?\n\t\t\t\t\t'row'\n\t\t\t\t:\n\t\t\t\t\t'column'\n\t\t\t;\n\n\t\t\tvar setFields = function(fields){\n\n\t\t\t\t$scope.fields = [];\n\n\t\t\t\tvar formlyFields = [];\n\n\t\t\t\tanaproFormlyFactory.createFormlyFieldsFromAPI(\n\t\t\t\t\tfields,\n\t\t\t\t\tformlyFields,\n\t\t\t\t\t{\n\t\t\t\t\t\tmerge: {\n\t\t\t\t\t\t\tprospectNome: {\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tlabel: 'Nome completo:',\n\t\t\t\t\t\t\t\t\tplaceholder: 'Nome do cliente'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprospectSexo: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'layout': 'row'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoActionRequestAtenderAutomaticamente: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\thideExpression: function(newValue, oldValue, scope, field){\n\n\t\t\t\t\t\t\t\t\tvar sameCurrentUser = $scope.model.usuarioIdGuid == userProfile.id;\n\n\t\t\t\t\t\t\t\t\tif(sameCurrentUser){\n\t\t\t\t\t\t\t\t\t\tvar options = field.options.templateOptions.options;\n\t\t\t\t\t\t\t\t\t\tvar value = options[options.length-1].value;\n\t\t\t\t\t\t\t\t\t\tfield.model[field.options.key] = value;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn sameCurrentUser;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'layout': 'row'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tusuarioIdGuid: {\n\t\t\t\t\t\t\t\ttype: 'nya-select',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tcustomDesc: '{{name}}, <strong>{{properties.usuarioApelido}}</strong><br />{{properties.usuarioEmail}}'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\thint: 'Se o usurio no estiver na lista,  porque ele no pertence  campanha e canal selecionados.'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tusuarioSeguidoresIdGuids: {\n\t\t\t\t\t\t\t\ttype: 'nya-select',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tmultiple: true,\n\t\t\t\t\t\t\t\t\tcustomDesc: '{{name}}, <strong>{{properties.usuarioApelido}}</strong><br />{{properties.usuarioEmail}}'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoTipoDirecionamento: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tonChange: function(){\n\t\t\t\t\t\t\t\t\t\tsetLastSelectedUser();\n\t\t\t\t\t\t\t\t\t\tupdate();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'layout': 'row'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcampanhaIdGuid: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tonChange: function(){\n\n\t\t\t\t\t\t\t\t\t\tsetLastSelectedUser();\n\t\t\t\t\t\t\t\t\t\tdelete $scope.model.canalIdGuid;\n\t\t\t\t\t\t\t\t\t\tdelete $scope.model.produtoIdGuid;\n\n\t\t\t\t\t\t\t\t\t\tupdate();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcanalIdGuid: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tonChange: function(){\n\n\t\t\t\t\t\t\t\t\t\tsetLastSelectedUser();\n\t\t\t\t\t\t\t\t\t\tdelete $scope.model.produtoIdGuid;\n\n\t\t\t\t\t\t\t\t\t\tupdate();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprodutoIdGuid: {\n\t\t\t\t\t\t\t\ttype: 'nya-select',\n\t\t\t\t\t\t\t\tclassName: 'nya-position-top',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmidiaIdGuid: {\n\t\t\t\t\t\t\t\tclassName: 'nya-position-top',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoActionRequestOpcaoAvancado: {\n\t\t\t\t\t\t\t\ttype: 'hidden'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprospectCpf: {\n\t\t\t\t\t\t\t\t'className': 'input-nogrow',\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'layout': fieldsLayout,\n\t\t\t\t\t\t\t\t\t'flex': '50'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tplaceholder: 'CPF do cliente'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tformlyFields = formlyFields.concat(fieldsOrig);\n\n\t\t\t\tanaproFormlyFactory.setFieldsOrder(\n\t\t\t\t\tformlyFields,\n\t\t\t\t\t[\n\t\t\t\t\t\t'prospectNome',\n\t\t\t\t\t\t'prospectEmailValor',\n\t\t\t\t\t\t'prospectTelefoneFull',\n\t\t\t\t\t\t'prospectSexo',\n\t\t\t\t\t\t'prospectCpf',\n\t\t\t\t\t\t'usuarioIdGuid'\n\t\t\t\t\t]\n\t\t\t\t);\n\n\t\t\t\t$scope.fields = formlyFields;\n\n\t\t\t};\n\n\t\t\tvar fieldsOrig = [\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\tkey: 'prospectTelefoneFull',\n\t\t\t\t\tmodel: $scope.model.prospectTelefones[0],\n\t\t\t\t\tclassName: 'input-nogrow',\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'layout': fieldsLayout,\n\t\t\t\t\t\t'flex': '50'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Telefone',\n\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\tplaceholder: 'Telefone com DDD',\n\t\t\t\t\t\tmask: '(99) 9?9999-9999'\n\t\t\t\t\t},\n\t\t\t\t\texpressionProperties: {\n\t\t\t\t\t\t'templateOptions.required': function(){\n\t\t\t\t\t\t\treturn $scope.model.prospectContatoObrigatorio\n\t\t\t\t\t\t\t\t&& !$scope.model.prospectEmails[0].prospectEmailValor;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tvalidation: {\n\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\tmask: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\t\tnewValue, oldValue, scope;\n\n\t\t\t\t\t\t\t\treturn 'Nmero de telefone invlido!';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'anaproEmail',\n\t\t\t\t\tkey: 'prospectEmailValor',\n\t\t\t\t\tmodel: $scope.model.prospectEmails[0],\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Email',\n\t\t\t\t\t\tplaceholder: 'exemplo@exemplo.com'\n\t\t\t\t\t},\n\t\t\t\t\texpressionProperties: {\n\t\t\t\t\t\t'templateOptions.required': function(){\n\t\t\t\t\t\t\treturn $scope.model.prospectContatoObrigatorio\n\t\t\t\t\t\t\t\t&& !$scope.model.prospectTelefones[0].prospectTelefoneFull;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t];\n\n\t\t}\n\t)\n\n\t.directive('addClient', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'add-client/add-client.html',\n\t\t\tcontroller: 'AddClientController',\n\t\t\tscope: {\n\t\t\t\tdelegate: '=?'\n\t\t\t}\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.automate-new-lead', [])\n\t.constant('activeOfferMessageDisabled', 'No momento, voc no tem cliente disponvel na Oferta Ativa. Tente novamente mais tarde.')\n\n\t\t.controller(\n\t\t\t'AutomateNewLeadController',\n\n\t\t\tfunction(\n\t\t\t\t$timeout,\n\t\t\t\t$scope,\n\t\t\t\tautomateNewLeadFactory\n\t\t\t){\n\n\t\t\t\t$scope.submitStatus = {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\terror: false\n\t\t\t\t};\n\n\t\t\t\tvar countProductsId = {};\n\n\t\t\t\tvar setCountProductsId = function(){\n\t\t\t\t\t$scope.items.map(function(item){\n\n\t\t\t\t\t\tvar id = item.fields.produtoIdGuid;\n\n\t\t\t\t\t\tif(!countProductsId[id]){\n\t\t\t\t\t\t\tcountProductsId[id] = 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcountProductsId[id]++;\n\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\t$scope.campaignIsNeeded = function(item){\n\t\t\t\t\treturn countProductsId[item.fields.produtoIdGuid] > 1;\n\t\t\t\t};\n\n\t\t\t\tvar getLeadSuccess = function(data){\n\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\tpostExecute(data);\n\t\t\t\t};\n\n\t\t\t\tvar getLeadError = function(){\n\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\tpostExecute();\n\t\t\t\t};\n\n\t\t\t\tvar postExecute = function(data){\n\t\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tautomateNewLeadFactory.redirToPathItem(data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$scope.delegate.hide();\n\n\t\t\t\t\t},500);\n\t\t\t\t};\n\n\t\t\t\t$scope.getLead = function(item){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\tautomateNewLeadFactory.get({\n\t\t\t\t\t\tproduct: item,\n\t\t\t\t\t\tsuccess: getLeadSuccess,\n\t\t\t\t\t\terror: getLeadError\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tsetCountProductsId();\n\n\t\t\t}\n\t\t)\n\n\t\t.factory(\n\t\t\t'automateNewLeadFactory',\n\n\t\t\tfunction(\n\t\t\t\t$modal,\n\t\t\t\t$rootScope,\n\t\t\t\tpath,\n\t\t\t\ttransactionsService,\n\t\t\t\ttoastrFactory,\n\t\t\t\tuserStatusFactory,\n\t\t\t\tactiveOfferMessageDisabled\n\t\t\t){\n\n\t\t\t\tvar isDisabled = function(){\n\t\t\t\t\treturn userStatusFactory.isDisabled('activeOffer');\n\t\t\t\t};\n\n\t\t\t\tvar activeOfferMessage = function(){\n\t\t\t\t\treturn isDisabled() ? activeOfferMessageDisabled : '';\n\t\t\t\t};\n\n\t\t\t\tvar redirToPathItem = function(item) {\n\t\t\t\t\t$rootScope.mainController.go(path.get('transaction').withItem(item));\n\t\t\t\t};\n\n\t\t\t\tvar show = function(attrs) {\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\t$modal({\n\t\t\t\t\t\ttemplateUrl: 'automate-new-lead/automate-new-lead-modal.html',\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\t\tcontroller: function($scope) {\n\t\t\t\t\t\t\t$scope.items = attrs.items;\n\t\t\t\t\t\t\t$scope.delegate = attrs.delegate;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonHide: function() {\n\n\t\t\t\t\t\t\t// if(attrs.delegate.hide) {\n\t\t\t\t\t\t\t// \tattrs.delegate.hide();\n\t\t\t\t\t\t\t// }\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tvar canUse = function(){\n\t\t\t\t\tif(isDisabled()){\n\t\t\t\t\t\ttoastrFactory.warn({\n\t\t\t\t\t\t\ttitle: 'Desculpe!',\n\t\t\t\t\t\t\tmessage: activeOfferMessageDisabled\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\n\t\t\t\tvar get = function(attrs){\n\n\t\t\t\t\tif(!canUse()){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\tvar isEmpty = function(data){\n\n\t\t\t\t\t\tif(data && data.data && !data.data.length){\n\t\t\t\t\t\t\ttoastrFactory.info({\n\t\t\t\t\t\t\t\ttitle: 'Desculpe!',\n\t\t\t\t\t\t\t\tmessage: activeOfferMessageDisabled\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t};\n\n\t\t\t\t\tvar showAvailableProducts = function(data) {\n\t\t\t\t\t\tshow({\n\t\t\t\t\t\t\titems: data.data,\n\t\t\t\t\t\t\tdelegate: {}\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tvar automateLeadSuccess = function(response) {\n\n\t\t\t\t\t\tvar data = response.data;\n\n\t\t\t\t\t\tif(isEmpty(data)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}else if(!attrs.product){\n\t\t\t\t\t\t\tshowAvailableProducts(data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(attrs.success){\n\t\t\t\t\t\t\tattrs.success(data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\tvar automateLeadError = function(){\n\t\t\t\t\t\tif(attrs.error){\n\t\t\t\t\t\t\tattrs.error();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\ttransactionsService.activeOffer({\n\t\t\t\t\t\titem: attrs.product,\n\t\t\t\t\t\tsuccess: automateLeadSuccess,\n\t\t\t\t\t\terror: automateLeadError,\n\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\t\ttitle: 'Desculpe!',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\t\t\t\t\tget: get,\n\t\t\t\t\tredirToPathItem: redirToPathItem,\n\t\t\t\t\tisDisabled: isDisabled,\n\t\t\t\t\tactiveOfferMessage: activeOfferMessage\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t}\n\t\t)\n\n\t\t.directive('automateNewLead', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplateUrl: 'automate-new-lead/automate-new-lead.html',\n\t\t\t\tcontroller: 'AutomateNewLeadController',\n\t\t\t\tscope: {\n\t\t\t\t\titems:'=',\n\t\t\t\t\tdelegate: '=?'\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.avatar',[])\n\n\t.controller(\n\t\t'AvatarController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\n\t\t\t$scope.item = $scope.item || {};\n\t\t\t$scope.itemObj = {};\n\n\t\t\t$scope.getStyle = function(){\n\n\t\t\t\tif($scope.imgsrc) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'background-image': 'url(' + $scope.imgsrc + ')'\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\treturn {};\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar setItemObj = function(){\n\t\t\t\tif($scope.item.prospectUrlImagem){\n\t\t\t\t\t$scope.itemObj = {\n\t\t\t\t\t\tname: $scope.item.prospectNome,\n\t\t\t\t\t\timgsrc: $scope.item.prospectUrlImagem\n\t\t\t\t\t};\n\n\t\t\t\t}else if($scope.item.usuarioUrlImagem){\n\t\t\t\t\t$scope.itemObj = {\n\t\t\t\t\t\tname: $scope.item.usuarioNome\n\t\t\t\t\t\t+\n\t\t\t\t\t\t', '\n\t\t\t\t\t\t+ $scope.item.usuarioApelido,\n\t\t\t\t\t\timgsrc: $scope.item.usuarioUrlImagem\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif(!$scope.imgsrc){\n\t\t\t\t\t$scope.imgsrc = $scope.itemObj.imgsrc || '';\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tsetItemObj();\n\n\t\t}\n\t)\n\n\t.directive('avatar', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\timgsrc: '=?',\n\t\t\t\titem: '=?'\n\t\t\t},\n\t\t\ttransclude: true,\n\t\t\ttemplateUrl: 'avatar/avatar.html',\n\t\t\tcontroller: 'AvatarController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.breadcrumbs',[])\n\n\t.controller(\n\t\t'BreadcrumbsController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tpath\n\t\t){\n\n\t\t\t// add home as first\n\t\t\t$scope.trail.splice(0,0,{\n\t\t\t\tlabel: path.getLabel('home'),\n\t\t\t\tpath: path.getPath('home')\n\t\t\t});\n\n\t\t\tconsole.log($scope.trail);\n\n\t\t}\n\t)\n\n\t.directive('breadcrumbs', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttrail: '='\n\t\t\t},\n\t\t\ttemplateUrl: 'breadcrumbs/breadcrumbs.html',\n\t\t\tcontroller: 'BreadcrumbsController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-activity',[])\n\n\t.controller(\n\t\t'CardActionsActivityController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$filter,\n\t\t\t$element,\n\t\t\tfollowupService,\n\t\t\tfollowupSubTypes,\n\t\t\tcardActionFactory\n\t\t){\n\n\t\t\tif($scope.$parent.cardActionsTabSelectedDelegate){\n\t\t\t\t$scope.$parent.cardActionsTabSelectedDelegate['activity'] = function(attrs){\n\n\t\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t\t$scope.$parent.modalDelegate.setTitle($scope.$parent.tabSelected);\n\t\t\t\t\t}\n\n\t\t\t\t\tinitWithSubTypeSelected(attrs);\n\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar initWithSubTypeSelected = function(attrs){\n\n\t\t\t\tif(attrs.interacaoTipoSub){\n\t\t\t\t\tcardActionFactory.getSubTypeId({\n\t\t\t\t\t\tinteracaoTipoSub: attrs.interacaoTipoSub,\n\t\t\t\t\t\tsuccess: function(id){\n\t\t\t\t\t\t\t$scope.model.fields.interacaoAtividade.interacaoTipoSubIdGuid = id;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\t\t\t$scope.form = null;\n\t\t\t$scope.formOptions = {};\n\n\t\t\t$scope.model = {\n\t\t\t\tfields: {\n\t\t\t\t\tinteracaoAtividade: {\n\t\t\t\t\t\ttarefa: {\n\t\t\t\t\t\t\talarme: {},\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar modelWhen = {};\n\n\t\t\t$scope.fields = [\n\t\t\t\t{\n\t\t\t\t\tkey: $scope.edit\n\t\t\t\t\t\t? 'alarmeDtAlarme'\n\t\t\t\t\t\t: 'interacaoDtInteracao',\n\t\t\t\t\ttype: 'anaproDateTime',\n\t\t\t\t\tmodel: $scope.edit\n\t\t\t\t\t\t? $scope.model.fields.interacaoAtividade.tarefa.alarme\n\t\t\t\t\t\t: $scope.model.fields.interacaoAtividade,\n\t\t\t\t\tdefaultValue: $filter('date')(\n\t\t\t\t\t\t$scope.edit\n\t\t\t\t\t\t\t? $scope.item.fields.interacaoAtividade.interacaoDtInteracao\n\t\t\t\t\t\t\t: new Date(),\n\t\t\t\t\t\t'yyyy-MM-ddTHH:mm:00'\n\t\t\t\t\t),\n\t\t\t\t\thideExpression: function(){\n\t\t\t\t\t\treturn modelWhen.when == 'doing';\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t// label: 'Data da atividade',\n\t\t\t\t\t\trequired: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar setFields = function(){\n\n\t\t\t\tif(!$scope.edit){\n\n\t\t\t\t\tvar modelWhenValue = angular.merge(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactivity: {\n\t\t\t\t\t\t\t\tmodelWhen: 'doing'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t$scope.delegate.tabButtonAttrs\n\t\t\t\t\t);\n\n\t\t\t\t\tmodelWhen.when = modelWhenValue.activity.modelWhen;\n\n\t\t\t\t\t$scope.fields.splice(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\tkey: 'when',\n\t\t\t\t\t\t\tmodel: modelWhen,\n\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t'layout': 'row'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tlabel: 'Quando?',\n\t\t\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'J fiz',\n\t\t\t\t\t\t\t\t\t\tvalue: 'done'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Agora',\n\t\t\t\t\t\t\t\t\t\tvalue: 'doing'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tname: 'Vou fazer',\n\t\t\t\t\t\t\t\t\t\tvalue: 'todo'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t$scope.fields.push(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'select-async',\n\t\t\t\t\t\tkey: 'interacaoTipoSubIdGuid',\n\t\t\t\t\t\tmodel: $scope.model.fields.interacaoAtividade,\n\t\t\t\t\t\tclassName: 'input-nogrow',\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': 'row'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tasync: {\n\t\t\t\t\t\t\t\tresource: 'followupsSubTypes'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Tipo:',\n\t\t\t\t\t\t\toptions: []\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'textarea',\n\t\t\t\t\t\tmodel: $scope.model.fields.interacaoAtividade,\n\t\t\t\t\t\tkey: 'interacaoTexto',\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tplaceholder: 'escreva sua nota',\n\t\t\t\t\t\t\trows: 10,\n\t\t\t\t\t\t\thint: 'Dica: Adicione Hashtags (#) para se organizar melhor!'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tif(!$scope.edit){\n\t\t\t\tsetFields();\n\t\t\t}\n\n\t\t\tvar postExecute = function(response){\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t\t}\n\n\t\t\t\t\tdelegate(response);\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar delegate = function(response){\n\t\t\t\tif($scope.delegate && response){\n\n\t\t\t\t\tif($scope.edit){\n\t\t\t\t\t\t$scope.delegate.reschedule(response.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$scope.delegate.postItem(response.data);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getModelBeforeSubmit = function(){\n\n\t\t\t\tvar model = angular.copy($scope.model);\n\n\t\t\t\tif(modelWhen.when == 'doing'){\n\t\t\t\t\tdelete $scope.model.fields.interacaoAtividade.interacaoDtInteracao;\n\t\t\t\t}\n\n\t\t\t\tif(model.fields.interacaoAtividade.tarefa.alarme.alarmeDtAlarme){\n\t\t\t\t\tmodel.fields.interacaoAtividade.tarefa.tarefaDtTarefa =\n\t\t\t\t\t\tmodel.fields.interacaoAtividade.tarefa.alarme.alarmeDtAlarme;\n\t\t\t\t}\n\n\t\t\t\tif($scope.edit){\n\t\t\t\t\tmodel = {\n\t\t\t\t\t\tfields: model.fields.interacaoAtividade\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn model;\n\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.submit = function(){\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\tvar model = getModelBeforeSubmit();\n\n\t\t\t\t\tvar attrs = {\n\t\t\t\t\t\titem: $scope.item,\n\t\t\t\t\t\tdata: model,\n\t\t\t\t\t\ttoastrMessages: getToastrMessages(),\n\t\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\t\tpostExecute(response);\n\t\t\t\t\t\t\t$scope.formOptions.resetModel();\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(){\n\t\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif($scope.edit){\n\t\t\t\t\t\tattrs.action = 'reschedule';\n\t\t\t\t\t\tfollowupService.actions(attrs);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattrs.resource = $scope.$parent.resource || null;\n\t\t\t\t\t\tfollowupService.post(attrs);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getToastrMessages = function(){\n\n\t\t\t\tvar\n\t\t\t\t\tmessageActionSuccess,\n\t\t\t\t\tmessageActionError;\n\n\t\t\t\tif($scope.edit){\n\t\t\t\t\tmessageActionError = 'remarcar';\n\t\t\t\t\tmessageActionSuccess = 'remarcada';\n\t\t\t\t}else{\n\t\t\t\t\tmessageActionError = 'inserir';\n\t\t\t\t\tmessageActionSuccess = 'criada';\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tsuccess: {\n\t\t\t\t\t\ttitle: 'Nota '+ messageActionSuccess\n\t\t\t\t\t\t\t+ ' com sucesso.'\n\t\t\t\t\t},\n\t\t\t\t\tserverError: {\n\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para '\n\t\t\t\t\t\t\t+ messageActionError\n\t\t\t\t\t\t\t+ ' sua nota',\n\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsActivity', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-activity.html',\n\t\t\tcontroller: 'CardActionsActivityController',\n\t\t\tscope: {\n\t\t\t\tactive: '=?',\n\t\t\t\tedit: '=?',\n\t\t\t\titem: '=?',\n\t\t\t\tdelegate: '=?'\n\t\t\t},\n\t\t\treplace: true\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-call',[])\n\n\t.controller(\n\t\t'CardActionsCallController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$filter,\n\t\t\t$element,\n\t\t\tfollowupService,\n\t\t\tfollowupSubTypes,\n\t\t\tcardActionFactory\n\t\t){\n\n\t\t\t$scope.cardActionsPhoneSelectDelegate = {\n\t\t\t\tphoneSelected: function(phoneNumber){\n\t\t\t\t\t$scope.delegate.data.phoneClient = phoneNumber;\n\t\t\t\t\tregisterCall();\n\t\t\t\t\tmakeCall();\n\t\t\t\t\tsetFields();\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.$parent.cardActionsTabSelectedDelegate['call-activity'] = function(){\n\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.setTitle($scope.$parent.tabSelected);\n\t\t\t\t}\n\n\t\t\t\tcardActionFactory.getSubTypeId({\n\t\t\t\t\tinteracaoTipoSub: followupSubTypes.call,\n\t\t\t\t\tsuccess: function(id){\n\n\t\t\t\t\t\t$scope.model.fields.interacaoAtividade.interacaoTipoSubIdGuid = id;\n\n\t\t\t\t\t\tif($scope.delegate.data.phones.length == 1){\n\t\t\t\t\t\t\tregisterCall();\n\t\t\t\t\t\t\tmakeCall();\n\t\t\t\t\t\t\tsetFields();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif($scope.delegate.data.phones.length > 1){\n\t\t\t\t\t$scope.delegate.data.phoneClient = null;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar registerCall = function(){\n\t\t\t\tif($rootScope.mainController.device == 'mobile'){\n\t\t\t\t\tvar model = getModelBeforeSubmit();\n\n\t\t\t\t\tmodel.fields.interacaoAtividade.interacaoTexto = 'Tentativa de ligao';\n\n\t\t\t\t\tvar attrs = {\n\t\t\t\t\t\tdata: model,\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\tdelegate(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tattrs.resource = $scope.$parent.resource || null;\n\t\t\t\t\tfollowupService.post(attrs);\n\t\t\t\t}\n\n\t\t\t\t$scope.model.fields.interacaoAtividade.interacaoTexto =\n\t\t\t\t\t\t'Entrei em contato atravs do telefone '\n\t\t\t\t\t\t+ $filter('mask')(\n\t\t\t\t\t\t\t$scope.delegate.data.phoneClient,\n\t\t\t\t\t\t\t'tel'\n\t\t\t\t\t\t)\n\t\t\t\t\t\t+ ' e foi tratado';\n\n\t\t\t};\n\n\t\t\t$scope.phoneSelectedTitle = function(){\n\t\t\t\tif($rootScope.mainController.device == 'desktop') {\n\t\t\t\t\treturn 'Clique no nmero do telefone e j registre a ligao';\n\t\t\t\t}else{\n\t\t\t\t\treturn 'Escolha o telefone para ligar.';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar makeCall = function(){\n\t\t\t\tif($rootScope.mainController.device == 'mobile'){\n\t\t\t\t\tdocument.location = cardActionFactory\n\t\t\t\t\t\t.getContactLinks($scope.delegate.data)\n\t\t\t\t\t\t.phone;\n\t\t\t\t\tconsole.log(cardActionFactory\n\t\t\t\t\t\t\t.getContactLinks($scope.delegate.data)\n\t\t\t\t\t\t\t.phone);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\t\t\t$scope.form = null;\n\t\t\t$scope.formOptions = {};\n\n\t\t\t$scope.model = {\n\t\t\t\tfields: {\n\t\t\t\t\tinteracaoAtividade: {},\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.fields = [];\n\n\t\t\tvar setFields = function(){\n\t\t\t\t$scope.fields = [\n\t\t\t\t\t{\n\t\t\t\t\t\tkey: 'interacaoDtInteracao',\n\t\t\t\t\t\ttype: 'anaproDateTime',\n\t\t\t\t\t\tmodel: $scope.model.fields.interacaoAtividade,\n\t\t\t\t\t\tdefaultValue: $filter('date')(\n\t\t\t\t\t\t\tnew Date(),\n\t\t\t\t\t\t\t'yyyy-MM-ddTHH:mm:00'\n\t\t\t\t\t\t),\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Data da atividade',\n\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'textarea',\n\t\t\t\t\t\tmodel: $scope.model.fields.interacaoAtividade,\n\t\t\t\t\t\tkey: 'interacaoTexto',\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Registre aqui o que foi tratado na ligao com o nmero '\n\t\t\t\t\t\t\t+ $filter('mask')(\n\t\t\t\t\t\t\t\t$scope.delegate.data.phoneClient,\n\t\t\t\t\t\t\t\t'tel'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\trows: 10,\n\t\t\t\t\t\t\thint: 'Dica: Adicione Hashtags (#) para se organizar melhor!'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t};\n\n\t\t\tvar postExecute = function(response){\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t\t}\n\n\t\t\t\t\tdelegate(response);\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar delegate = function(response){\n\t\t\t\tif($scope.delegate && response){\n\t\t\t\t\t$scope.delegate.postItem(response.data);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getModelBeforeSubmit = function(){\n\t\t\t\treturn angular.copy($scope.model);\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.submit = function(form){\n\n\t\t\t\t$scope.form = form;\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\t\t\t\t\tvar model = getModelBeforeSubmit();\n\n\t\t\t\t\tvar attrs = {\n\t\t\t\t\t\tdata: model,\n\t\t\t\t\t\ttoastrMessages: getToastrMessages(),\n\t\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\t\tpostExecute(response);\n\t\t\t\t\t\t\t$scope.formOptions.resetModel();\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(){\n\t\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tattrs.resource = $scope.$parent.resource || null;\n\t\t\t\t\tfollowupService.post(attrs);\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getToastrMessages = function(){\n\n\t\t\t\treturn {\n\t\t\t\t\tsuccess: {\n\t\t\t\t\t\ttitle: 'Mensagem registrada com sucesso.'\n\t\t\t\t\t},\n\t\t\t\t\tserverError: {\n\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para registrar sua mensagem',\n\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsCall', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-call.html',\n\t\t\tcontroller: 'CardActionsCallController',\n\t\t\tscope: {\n\t\t\t\tactive: '=?',\n\t\t\t\tdelegate: '=?'\n\t\t\t},\n\t\t\treplace: true\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-email',[])\n\n\t.controller(\n\t\t'CardActionsEmailController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tcardActionFactory,\n\t\t\tmainController\n\t\t){\n\n\t\t\t$scope.cardActionsEmailSelectDelegate = {\n\t\t\t\temailSelected: function(email){\n\t\t\t\t\t$scope.delegate.data.emailClient = email;\n\t\t\t\t\tsend();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.$parent.cardActionsTabSelectedDelegate['email'] = function(){\n\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.setTitle($scope.$parent.tabSelected);\n\t\t\t\t}\n\n\t\t\t\tif($scope.delegate.data.emails.length > 1){\n\t\t\t\t\t$scope.delegate.data.emailClient = null;\n\t\t\t\t}else{\n\t\t\t\t\tsend();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar getMessageUrl = function(){\n\t\t\t\treturn cardActionFactory\n\t\t\t\t\t.getContactLinks($scope.delegate.data)\n\t\t\t\t\t.email;\n\t\t\t};\n\n\t\t\tvar send = function(){\n\n\t\t\t\tvar newWindow = mainController.getDevice() == 'desktop';\n\n\t\t\t\tif(newWindow){\n\t\t\t\t\twindow.open(getMessageUrl(), 'AnaproAppSendEmail');\n\t\t\t\t}else{\n\t\t\t\t\tdocument.location = getMessageUrl();\n\t\t\t\t}\n\n\t\t\t\t$scope.$parent.setTabSelected({\n\t\t\t\t\ttargetId: 'activity'\n\t\t\t\t});\n\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsEmail', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-email.html',\n\t\t\tcontroller: 'CardActionsEmailController',\n\t\t\tscope: {\n\t\t\t\tactive: '=?',\n\t\t\t\tdelegate: '=?'\n\t\t\t},\n\t\t\treplace: true\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-note',[])\n\n\t.controller(\n\t\t'CardActionsNoteController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$filter,\n\t\t\tfollowupService\n\t\t){\n\n\t\t\tif($scope.$parent.cardActionsTabSelectedDelegate){\n\n\t\t\t\t$scope.$parent.cardActionsTabSelectedDelegate['note'] = function(attrs){\n\n\t\t\t\t\tconsole.log('cardActionsTabSelectedDelegate[\"note\"]', attrs);\n\n\t\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t\t$scope.$parent.modalDelegate.setTitle($scope.$parent.tabSelected);\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\t\t\t$scope.form = null;\n\t\t\t$scope.formOptions = {};\n\n\t\t\tvar modelFoo = {\n\t\t\t\treminder: false\n\t\t\t};\n\n\t\t\t$scope.model = {\n\t\t\t\tfields: {\n\t\t\t\t\tinteracaoNota: {\n\t\t\t\t\t\ttarefa: {\n\t\t\t\t\t\t\talarme: {}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.fields = [];\n\n\t\t\tvar hideDateTime = function(){\n\n\t\t\t\tif($scope.edit || modelFoo.reminder){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif(alarmeDtAlarmeField.model[alarmeDtAlarmeField.key]){\n\t\t\t\t\tdelete alarmeDtAlarmeField.model[alarmeDtAlarmeField.key];\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\tif(!$scope.edit){\n\t\t\t\t$scope.fields.push(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'textarea',\n\t\t\t\t\t\tmodel: $scope.model.fields.interacaoNota,\n\t\t\t\t\t\tkey: 'interacaoTexto',\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tplaceholder: 'escreva sua nota',\n\t\t\t\t\t\t\trows: 10,\n\t\t\t\t\t\t\thint: 'Dica: Adicione Hashtags (#) para se organizar melhor!'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttemplate: '<hr />'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'anaproCheckbox',\n\t\t\t\t\t\tmodel: modelFoo,\n\t\t\t\t\t\tkey: 'reminder',\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Lembre-me'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tvar alarmeDtAlarmeField = {\n\t\t\t\tkey: 'alarmeDtAlarme',\n\t\t\t\ttype: 'anaproDateTime',\n\t\t\t\tmodel: $scope.model.fields.interacaoNota.tarefa.alarme,\n\t\t\t\thideExpression: hideDateTime,\n\t\t\t\tdefaultValue: $filter('date')(\n\t\t\t\t\tnew Date(new Date().setHours(new Date().getHours() + 2)),\n\t\t\t\t\t'yyyy-MM-ddTHH:00:00'\n\t\t\t\t),\n\t\t\t\ttemplateOptions: {\n\t\t\t\t\tlabel: 'Data e Hora',\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmin: new Date()\n\t\t\t\t},\n\t\t\t\tvalidation: {\n\t\t\t\t\tmessages: {\n\t\t\t\t\t\tmin: '\"A data precisa ser maior que agora\"'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\t$scope.fields.push(alarmeDtAlarmeField);\n\n\t\t\tvar postExecute = function(response){\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t\t}\n\n\t\t\t\t\tdelegate(response);\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar delegate = function(response){\n\t\t\t\tif($scope.delegate && response){\n\n\t\t\t\t\tif($scope.edit){\n\t\t\t\t\t\t$scope.delegate.reschedule(response.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$scope.delegate.postItem(response.data);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getModelBeforeSubmit = function(){\n\n\t\t\t\tvar model = angular.copy($scope.model);\n\n\t\t\t\tif(model.fields.interacaoNota.tarefa.alarme.alarmeDtAlarme){\n\t\t\t\t\tmodel.fields.interacaoNota.tarefa.tarefaDtTarefa =\n\t\t\t\t\t\tmodel.fields.interacaoNota.tarefa.alarme.alarmeDtAlarme;\n\t\t\t\t}\n\n\t\t\t\tif($scope.edit){\n\t\t\t\t\tmodel = {\n\t\t\t\t\t\tfields: model.fields.interacaoNota\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn model;\n\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.submit = function(){\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\tvar model = getModelBeforeSubmit();\n\n\t\t\t\t\tvar attrs = {\n\t\t\t\t\t\titem: $scope.item,\n\t\t\t\t\t\tdata: model,\n\t\t\t\t\t\ttoastrMessages: getToastrMessages(),\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\t\tpostExecute(response);\n\t\t\t\t\t\t\t$scope.formOptions.resetModel();\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(){\n\t\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif($scope.edit){\n\t\t\t\t\t\tattrs.action = 'reschedule';\n\t\t\t\t\t\tfollowupService.actions(attrs);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattrs.resource = $scope.$parent.resource || null;\n\t\t\t\t\t\tfollowupService.post(attrs);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getToastrMessages = function(){\n\n\t\t\t\tvar\n\t\t\t\t\tmessageActionSuccess,\n\t\t\t\t\tmessageActionError;\n\n\t\t\t\tif($scope.edit){\n\t\t\t\t\tmessageActionError = 'remarcar';\n\t\t\t\t\tmessageActionSuccess = 'remarcada';\n\t\t\t\t}else{\n\t\t\t\t\tmessageActionError = 'inserir';\n\t\t\t\t\tmessageActionSuccess = 'criada';\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tsuccess: {\n\t\t\t\t\t\ttitle: 'Nota '+ messageActionSuccess\n\t\t\t\t\t\t\t+ ' com sucesso.'\n\t\t\t\t\t},\n\t\t\t\t\tserverError: {\n\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para '\n\t\t\t\t\t\t\t+ messageActionError\n\t\t\t\t\t\t\t+ ' sua nota',\n\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsNote', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-note.html',\n\t\t\tcontroller: 'CardActionsNoteController',\n\t\t\tscope: {\n\t\t\t\tactive: '=?',\n\t\t\t\tedit: '=?',\n\t\t\t\titem: '=?',\n\t\t\t\tdelegate: '=?'\n\t\t\t},\n\t\t\treplace: true\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-sells',[])\n\n\t.controller(\n\t\t'CardActionsSellsController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$window\n\t\t){\n\n\t\t\t$scope.$parent.cardActionsTabSelectedDelegate['sells'] = function(){\n\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.setTitle($scope.$parent.tabSelected);\n\t\t\t\t}\n\n\t\t\t\t$window.open(\n\t\t\t\t\t'https://crm.anapro.com.br/webcrm/pages/pageredirect.aspx?url='\n\t\t\t\t\t+ $scope.delegate.data.urlModuleSells,\n\t\t\t\t\t'AnaproModuleSells'\n\t\t\t\t);\n\n\t\t\t\t$scope.$parent.setTabSelected({\n\t\t\t\t\ttargetId: 'activity'\n\t\t\t\t});\n\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsSells', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-sells.html',\n\t\t\tcontroller: 'CardActionsSellsController',\n\t\t\tscope: {\n\t\t\t\tdelegate: '=?'\n\t\t\t},\n\t\t\treplace: true\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-sms',[])\n\n\t.controller(\n\t\t'CardActionsSmsController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\t\t\t$scope;\n\t\t}\n\t)\n\n\t.directive('cardActionsSms', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-sms.html',\n\t\t\tcontroller: 'CardActionsSmsController',\n\t\t\tscope: {\n\t\t\t\tactive: '='\n\t\t\t},\n\t\t\treplace: true\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-tab-button',[])\n\n\t.controller(\n\t\t'CardActionsTabButtonController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\n\t\t\t$scope.setTabSelected = function(){\n\t\t\t\t$scope.$parent.setTabSelected({\n\t\t\t\t\ttargetId: $scope.targetId\n\t\t\t\t});\n\t\t\t\t// if($scope.dataToggle){\n\t\t\t\t// \t$scope.$parent.tabSelected = $scope.targetId;\n\t\t\t\t// }\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsTabButton', function(mainController){\n\n\t\tvar link = function(scope, element, attributes){\n\t\t\tif(mainController.getDevice() == 'desktop' && /mailto|wa\\.me/.test(attributes.ngHref)){\n\t\t\t\telement.find('a').attr('target', '_blank');\n\t\t\t}\n\t\t};\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-tab-button.html',\n\t\t\tcontroller: 'CardActionsTabButtonController',\n\t\t\ttransclude: true,\n\t\t\treplace: true,\n\t\t\tlink: link,\n\t\t\tscope: {\n\t\t\t\ttargetId: '@targetId',\n\t\t\t\thref: '@',\n\t\t\t\ticon: '@',\n\t\t\t\tactive: '=',\n\t\t\t\tdisabled: '@'\n\t\t\t}\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-tour',[])\n\n\t.controller(\n\t\t'CardActionsTourController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\t\t\t$scope;\n\t\t}\n\t)\n\n\t.directive('cardActionsTour', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-tour.html',\n\t\t\tcontroller: 'CardActionsTourController',\n\t\t\tscope: {\n\t\t\t\tactive: '='\n\t\t\t},\n\t\t\treplace: true\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-whatsapp',[])\n\n\t.controller(\n\t\t'CardActionsWhatsappController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$filter,\n\t\t\t$element,\n\t\t\tfollowupService,\n\t\t\tfollowupSubTypes,\n\t\t\tcardActionFactory,\n\t\t\tmainController\n\t\t){\n\n\t\t\t$scope.cardActionsPhoneSelectDelegate = {\n\t\t\t\tphoneSelected: function(phoneNumber){\n\t\t\t\t\t$scope.delegate.data.phoneClient = phoneNumber;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif($scope.$parent.cardActionsTabSelectedDelegate){\n\n\t\t\t\t$scope.$parent.cardActionsTabSelectedDelegate['whatsapp'] = function(){\n\n\t\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t\t$scope.$parent.modalDelegate.setTitle($scope.$parent.tabSelected);\n\t\t\t\t\t}\n\n\t\t\t\t\tcardActionFactory.getSubTypeId({\n\t\t\t\t\t\tinteracaoTipoSub: followupSubTypes.whatsapp,\n\t\t\t\t\t\tsuccess: function(id){\n\t\t\t\t\t\t\t$scope.model.fields.interacaoAtividade.interacaoTipoSubIdGuid = id;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif($scope.delegate.data.phones.length > 1){\n\t\t\t\t\t\t$scope.delegate.data.phoneClient = null;\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tvar getMessageUrl = function(){\n\t\t\t\treturn cardActionFactory\n\t\t\t\t.getContactLinks($scope.delegate.data)\n\t\t\t\t.whatsapp\n\t\t\t\t+ '?text='\n\t\t\t\t+ encodeURIComponent(\n\t\t\t\t\t$scope.model.fields.interacaoAtividade.interacaoTexto\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar sendMessage = function(newWindow){\n\t\t\t\tif(newWindow){\n\t\t\t\t\twindow.open(getMessageUrl(), 'AnaproAppWhatsapp');\n\t\t\t\t}else{\n\t\t\t\t\tdocument.location = getMessageUrl();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\t\t\t$scope.form = null;\n\t\t\t$scope.formOptions = {};\n\n\t\t\t$scope.model = {\n\t\t\t\tfields: {\n\t\t\t\t\tinteracaoAtividade: {}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.fields = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'textarea',\n\t\t\t\t\tmodel: $scope.model.fields.interacaoAtividade,\n\t\t\t\t\tkey: 'interacaoTexto',\n\t\t\t\t\tdefaultValue: 'Ol ' + $scope.delegate.data.prospectNome,\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Whatsapp',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tplaceholder: 'Escreva aqui a mensagem para enviar pelo Whatsapp',\n\t\t\t\t\t\trows: 10\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar postExecute = function(response){\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t\t}\n\n\t\t\t\t\tdelegate(response);\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar delegate = function(response){\n\t\t\t\tif($scope.delegate && response){\n\t\t\t\t\t$scope.delegate.postItem(response.data);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getModelBeforeSubmit = function(){\n\t\t\t\treturn angular.copy($scope.model);\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\t\t\t\tif($scope.$parent.modalDelegate){\n\t\t\t\t\t$scope.$parent.modalDelegate.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.submit = function(form){\n\n\t\t\t\t$scope.form = form;\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\tif(mainController.getDevice() == 'desktop'){\n\t\t\t\t\t\tsendMessage(true);\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.loading = true;\n\t\t\t\t\tvar model = getModelBeforeSubmit();\n\n\t\t\t\t\tvar attrs = {\n\t\t\t\t\t\tdata: model,\n\t\t\t\t\t\ttoastrMessages: getToastrMessages(),\n\t\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\t\tpostExecute(response);\n\n\t\t\t\t\t\t\tif(mainController.getDevice() == 'mobile'){\n\t\t\t\t\t\t\t\tsendMessage();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t$scope.formOptions.resetModel();\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(){\n\t\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tattrs.resource = $scope.$parent.resource || null;\n\t\t\t\t\tfollowupService.post(attrs);\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getToastrMessages = function(){\n\n\t\t\t\treturn {\n\t\t\t\t\tsuccess: {\n\t\t\t\t\t\ttitle: 'Mensagem registrada com sucesso.'\n\t\t\t\t\t},\n\t\t\t\t\tserverError: {\n\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para registrar sua mensagem',\n\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsWhatsapp', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions-whatsapp.html',\n\t\t\tcontroller: 'CardActionsWhatsappController',\n\t\t\tscope: {\n\t\t\t\tactive: '=?',\n\t\t\t\tdelegate: '=?'\n\t\t\t},\n\t\t\treplace: true\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions.factory', [])\n\n\t.factory(\n\t\t'cardActionFactory',\n\n\t\tfunction(\n\t\t\t$modal,\n\t\t\tfollowupService,\n\t\t\tmainController,\n\t\t\ttransactionsService\n\t\t){\n\n\t\t\tvar modalTitlesByTabName = {\n\t\t\t\tdefault: 'Aes',\n\t\t\t\tactivity: 'Atividade',\n\t\t\t\tnote: 'Nota',\n\t\t\t\t'call-activity': 'Ligao',\n\t\t\t\temail: 'E-mail',\n\t\t\t\twhatsapp: 'WhatsApp',\n\t\t\t\tsells: 'Proposta e Venda'\n\t\t\t};\n\n\t\t\tvar getContactLinks = function(data){\n\n\t\t\t\treturn {\n\t\t\t\t\temail: 'mailto:'\n\t\t\t\t\t\t+ data.emailClient\n\t\t\t\t\t\t+ '?subject='\n\t\t\t\t\t\t+ (data.title || '')\n\t\t\t\t\t\t+ '&cc='\n\t\t\t\t\t\t+ data.emailFollowup\n\t\t\t\t\t\t+ '&body='\n\t\t\t\t\t\t+ 'Ol '\n\t\t\t\t\t\t+ data.prospectNome\n\t\t\t\t\t\t+ ',%0A%0A%0A',\n\t\t\t\t\tphone: data.phoneClient ? 'tel:' + data.phoneClient : null,\n\t\t\t\t\twhatsapp: data.phoneClient ? '//wa.me/55' + data.phoneClient : null,\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tvar getSubTypeId = function(attrs){\n\t\t\t\tfollowupService.getSubTypes({\n\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\tvar id;\n\n\t\t\t\t\t\tresponse.data.data.map(function(item){\n\t\t\t\t\t\t\tif(item.fields.interacaoTipoSubSys == attrs.interacaoTipoSub){\n\t\t\t\t\t\t\t\tid = item.fields.interacaoTipoSubIdGuid;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(id);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar preventModalAndPerformAction = function(attrs){\n\n\t\t\t\tif(attrs.data){\n\n\t\t\t\t\tattrs.data.emails = attrs.data.emails || [];\n\n\t\t\t\t\tvar contactLinks = getContactLinks(attrs.data);\n\n\t\t\t\t\tif(\n\t\t\t\t\t\tattrs.tabButtonActivated == 'email'\n\t\t\t\t\t\t&&\n\t\t\t\t\t\tattrs.data.emails.length == 1\n\t\t\t\t\t){\n\n\t\t\t\t\t\tif(mainController.getDevice() == 'desktop'){\n\t\t\t\t\t\t\twindow.open(contactLinks.email, 'AnaproAppSendEmail');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdocument.location = contactLinks.email;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t\tvar showModal = function(attrs){\n\n\t\t\t\tif(preventModalAndPerformAction(attrs)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treturn $modal({\n\t\t\t\t\ttemplateUrl: 'card-actions/card-actions-modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tcontroller: function($scope,$timeout){\n\n\t\t\t\t\t\t$scope.hideTabButtons = true;\n\t\t\t\t\t\t$scope.cardActionsAttrs = attrs;\n\n\t\t\t\t\t\tvar setTitle = function(tabName){\n\t\t\t\t\t\t\t$scope.title =\n\t\t\t\t\t\t\t\tmodalTitlesByTabName[tabName || 'noop']\n\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\tmodalTitlesByTabName[$scope.cardActionsAttrs.tabButtonActivated]\n\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\tmodalTitlesByTabName['default'];\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t$scope.delegate = {\n\t\t\t\t\t\t\tsetTitle: setTitle\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif($scope.cardActionsAttrs.tabButtonActivated){\n\t\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\t\t$scope.delegate.setTabSelected({\n\t\t\t\t\t\t\t\t\ttargetId: $scope.cardActionsAttrs.tabButtonActivated\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetTitle();\n\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function(){\n\t\t\t\t\t\tconsole.log('directives.card-actions.factory.modal.onHide');\n\t\t\t\t\t},\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar getNewCardActionsData = function(){\n\n\t\t\t\tvar data = {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\temailFollowup: '',\n\t\t\t\t\tprospectNome: '',\n\t\t\t\t\temailClient: null,\n\t\t\t\t\temails: [],\n\t\t\t\t\tphoneClient: null,\n\t\t\t\t\tphones: [],\n\t\t\t\t\turlModuleSells: null\n\t\t\t\t};\n\n\t\t\t\tdata.update = updateCardActionsData.bind(data);\n\n\t\t\t\treturn data;\n\n\t\t\t};\n\n\t\t\tvar updateCardActionsData = function(newData){\n\n\t\t\t\tvar data = this;\n\n\t\t\t\t//normalize arrays\n\t\t\t\tnewData.emails = newData.emails || [];\n\t\t\t\tnewData.phones = newData.phones || [];\n\n\t\t\t\t// empty arrays\n\t\t\t\tdata.emails.splice(\n\t\t\t\t\t0,\n\t\t\t\t\tdata.emails.length\n\t\t\t\t);\n\n\t\t\t\tdata.phones.splice(\n\t\t\t\t\t0,\n\t\t\t\t\tdata.phones.length\n\t\t\t\t);\n\n\t\t\t\tangular.merge(\n\t\t\t\t\tdata,\n\t\t\t\t\tnewData\n\t\t\t\t);\n\n\t\t\t\tdata.emailClient =\n\t\t\t\t\tdata.emails.length == 1\n\t\t\t\t\t? data.emails[0].prospectEmailValor\n\t\t\t\t\t: null;\n\n\t\t\t\tdata.phoneClient =\n\t\t\t\t\tdata.phones.length == 1\n\t\t\t\t\t? data.phones[0].prospectTelefoneFull\n\t\t\t\t\t: null;\n\n\t\t\t\treturn data;\n\n\t\t\t};\n\n\t\t\tvar getItemByResourceServices = {\n\n\t\t\t\ttransactions: function(attrs){\n\t\t\t\t\ttransactionsService.getItem({\n\t\t\t\t\t\tid: attrs.resource.id,\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'_expand': ['clients']\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\t\tresponse.data.extraInfo.prospectTelefones =\n\t\t\t\t\t\t\t\tresponse.data.expand.clients.fields.prospectTelefones;\n\n\t\t\t\t\t\t\tresponse.data.extraInfo.prospectEmails =\n\t\t\t\t\t\t\t\tresponse.data.expand.clients.fields.prospectEmails;\n\n\t\t\t\t\t\t\tattrs.success(response.data);\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: attrs.error\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar getItemByResource = function(attrs){\n\t\t\t\tgetItemByResourceServices[attrs.resource.resource](attrs);\n\t\t\t};\n\n\t\t\tvar service = {\n\t\t\t\tgetContactLinks: getContactLinks,\n\t\t\t\tshowModal: showModal,\n\t\t\t\tgetSubTypeId: getSubTypeId,\n\t\t\t\tgetNewCardActionsData: getNewCardActionsData,\n\t\t\t\tmodalTitlesByTabName: modalTitlesByTabName,\n\t\t\t\tgetItemByResource: getItemByResource\n\t\t\t};\n\n\t\t\treturn service;\n\t\t}\n\t)\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions',[\n\t\t'directives.card-actions-tab-button',\n\t\t'directives.card-actions-tour',\n\t\t'directives.card-actions-email',\n\t\t'directives.card-actions-call',\n\t\t'directives.card-actions-sms',\n\t\t'directives.card-actions-note',\n\t\t'directives.card-actions-activity',\n\t\t'directives.card-actions-whatsapp',\n\t\t'directives.card-actions-phone-select',\n\t\t'directives.card-actions-email-select',\n\t\t'directives.card-actions-sells',\n\t\t'directives.card-actions-select-client',\n\t\t'directives.card-actions.factory'\n\t])\n\n\t.controller(\n\t\t'CardActionsController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$element,\n\t\t\t$timeout,\n\t\t\t$rootScope,\n\t\t\tpath,\n\t\t\tcardActionFactory,\n\t\t\tusersService,\n\t\t\tmainController\n\t\t){\n\n\t\t\t$scope.tabButtonAttrs = $scope.tabButtonAttrs || {};\n\n\t\t\t$scope.urlModuleSells = false;\n\n\t\t\tusersService.getUserProfile({\n\t\t\t\tsuccess: function(response){\n\t\t\t\t\t$scope.urlModuleSells = response.data.extraInfo.contaSistemaVendasUrl;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(!$scope.hideTabButtons){\n\t\t\t\t$scope.hideTabButtons = false;\n\t\t\t}\n\n\t\t\t$scope.isHiddenTabButtons = function(){\n\t\t\t\treturn $scope.hideTabButtons && $scope.tabButtonActivated;\n\t\t\t};\n\n\t\t\t$scope.delegate = $scope.delegate || {\n\t\t\t\tpostItem: function(){\n\t\t\t\t\tconsole.log('directives.card-actions.delegate.postItem()');\n\t\t\t\t},\n\t\t\t\treschedule: function(){\n\t\t\t\t\tconsole.log('directives.card-actions.delegate.reschedule()');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar onlyTabButtonsList = [];\n\t\t\t$scope.cardActionsTabSelectedDelegate = {};\n\n\t\t\tvar setOnlyTabButtonsList = function(){\n\t\t\t\tif(typeof $scope.onlyTabButtons === 'string' && $scope.onlyTabButtons != ''){\n\t\t\t\t\tonlyTabButtonsList = $scope.onlyTabButtons.split(',');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.isTabButtonListed = function(tabButton){\n\n\t\t\t\treturn onlyTabButtonsList.length === 0 || onlyTabButtonsList.indexOf(tabButton) >= 0;\n\t\t\t};\n\n\t\t\tif(mainController.getDevice() == 'desktop' && !$scope.tabButtonActivated){\n\t\t\t\t$scope.tabButtonActivated = 'activity';\n\t\t\t}\n\n\t\t\t$scope.isActived = function(tabButton){\n\t\t\t\treturn\t$scope.tabButtonActivated == tabButton;\n\t\t\t};\n\n\t\t\t$scope.tabSelected = null;\n\n\t\t\t$scope.setTabSelected = function(attrs){\n\n\t\t\t\t$scope.tabSelected = attrs.targetId;\n\n\t\t\t\tvar tabAction = $($element[0]).find('#tab-acoes-' + attrs.targetId);\n\n\t\t\t\tif(tabAction.length){\n\t\t\t\t\t$scope.tabButtonActivated = attrs.targetId;\n\t\t\t\t\t$($element[0]).find('.tab-pane').removeClass('active');\n\t\t\t\t\ttabAction.addClass('active');\n\t\t\t\t}\n\n\t\t\t\tif(typeof $scope.cardActionsTabSelectedDelegate[attrs.targetId] === 'function'){\n\t\t\t\t\t$scope.cardActionsTabSelectedDelegate[attrs.targetId](attrs);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t// set modal close delegate\n\t\t\tif($scope.modalDelegate){\n\n\t\t\t\t$scope.modalDelegate.reset = function(){\n\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$($element).find('.active').removeClass('active');\n\t\t\t\t\t}, 0);\n\n\t\t\t\t\t$scope.tabSelected = null;\n\t\t\t\t};\n\n\t\t\t\t$scope.modalDelegate.setTabSelected = $scope.setTabSelected;\n\n\t\t\t}\n\n\t\t\t$scope.cardActionsSelectClientDelegate = {\n\t\t\t\tsetClientId: function(item){\n\n\t\t\t\t\t$scope.data = cardActionFactory\n\t\t\t\t\t\t.getNewCardActionsData()\n\t\t\t\t\t\t.update({\n\t\t\t\t\t\t\ttitle: item.extraInfo.produtoNome,\n\t\t\t\t\t\t\temailFollowup: item.extraInfo.atendimentoFollowUpEmail,\n\t\t\t\t\t\t\tprospectNome: item.extraInfo.prospectNome,\n\t\t\t\t\t\t\tphones: item.extraInfo.prospectTelefones,\n\t\t\t\t\t\t\temails: item.extraInfo.prospectEmails,\n\t\t\t\t\t\t\turlModuleSells: item.extraInfo.integracaoVendasUrl\n\t\t\t\t\t\t});\n\n\t\t\t\t\t$scope.cardActionsItemDelegate.data = $scope.data;\n\n\t\t\t\t\t$scope.resource.id = item.id;\n\n\t\t\t\t\tif($scope.tabButtonActivated){\n\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\t$scope.setTabSelected({\n\t\t\t\t\t\t\t\ttargetId: $scope.tabButtonActivated\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.cardActionsItemDelegate = {\n\t\t\t\tpostItem: function(item){\n\n\t\t\t\t\titem.extraInfo = item.extraInfo || {};\n\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\titem,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\textraInfo: {\n\t\t\t\t\t\t\t\tprospectNome: $scope.data.prospectNome\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\textraInfo: item.extraInfo\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\t$scope.delegate.postItem(item);\n\t\t\t\t},\n\t\t\t\tdata: $scope.data,\n\t\t\t\ttabButtonAttrs: $scope.tabButtonAttrs\n\t\t\t};\n\n\t\t\tvar contactActionLinks = {};\n\n\t\t\t$scope.getContactActionLinks = function(){\n\t\t\t\tangular.merge(contactActionLinks, cardActionFactory.getContactLinks($scope.data));\n\n\t\t\t\treturn contactActionLinks;\n\t\t\t};\n\n\t\t\t$scope.goToClient = function(){\n\n\t\t\t\tif($scope.resource.resource == 'transactions'){\n\t\t\t\t\t$rootScope.mainController.go(path.get('transaction').withItem({\n\t\t\t\t\t\tid: $scope.resource.id\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tif($scope.modalDelegate){\n\t\t\t\t\t$scope.modalDelegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tif($scope.resource.id && !$scope.data){\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\tcardActionFactory.getItemByResource({\n\t\t\t\t\tresource: $scope.resource,\n\t\t\t\t\tsuccess: function(data){\n\t\t\t\t\t\t$scope.cardActionsSelectClientDelegate.setClientId(data);\n\t\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t},\n\t\t\t\t\terror: function(){\n\t\t\t\t\t\tif($scope.modalDelegate){\n\t\t\t\t\t\t\t$scope.modalDelegate.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tsetOnlyTabButtonsList();\n\n\t\t}\n\t)\n\n\t.directive('cardActions', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/card-actions.html',\n\t\t\tcontroller: 'CardActionsController',\n\t\t\tscope: {\n\t\t\t\tdelegate: '=?',\n\t\t\t\tmodalDelegate: '=?modalDelegate',\n\t\t\t\tresource: '=resource',\n\t\t\t\tdata: '=?data',\n\t\t\t\tonlyTabButtons: '@',\n\t\t\t\ttabButtonActivated: '@',\n\t\t\t\ttabButtonAttrs: '=?',\n\t\t\t\thideTabButtons: '=?'\n\t\t\t}\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-client-profile', [])\n\n\t.controller(\n\t\t'CardClientProfileController',\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$filter,\n\t\t\t$sce,\n\t\t\tanaproFormlyFactory,\n\t\t\tclientsService,\n\t\t\tpermission\n\t\t){\n\n\t\t\t$scope.blocks = ($scope.blocks || 'informacoespessoais,contato')\n\t\t\t\t.split(',');\n\n\t\t\t$scope.expandedBlocks = ($scope.expandedBlocks || '').split(',');\n\n\t\t\t$scope.hideTitleBlocks = ($scope.hideTitleBlocks || '').split(',');\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\tvar fieldsLayout = $rootScope.mainController.device == 'desktop'\n\t\t\t\t?\n\t\t\t\t\t'row'\n\t\t\t\t:\n\t\t\t\t\t'column'\n\t\t\t;\n\n\t\t\t$scope.form = null;\n\t\t\t$scope.formContact = null;\n\n\t\t\tvar gernerateClientContactMultiInputFieldsAttrs = function(attrs){\n\n\t\t\t\tvar tooltip = {};\n\n\t\t\t\tif(attrs.permissionStatus === 'disabled'){\n\t\t\t\t\ttooltip = {\n\t\t\t\t\t\ttitle: $sce.trustAsHtml(attrs.tooltip.disabled),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t}else if(attrs.permissionStatus === false){\n\t\t\t\t\ttooltip = {\n\t\t\t\t\t\ttitle: $sce.trustAsHtml(attrs.tooltip.forbidden),\n\t\t\t\t\t\ttype: 'warn'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tattrs: {\n\t\t\t\t\t\t'ng-readonly': 'to.readonly',\n\t\t\t\t\t\t'bs-tooltip': 'options.data.tooltip'\n\t\t\t\t\t},\n\t\t\t\t\texpressions: attrs.permissionStatus === true\n\t\t\t\t\t\t? {}\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t'templateOptions.noErrorSpace': '!!model.' + attrs.fieldId,\n\t\t\t\t\t\t\t'templateOptions.readonly': function(currentValue, newValue, scope){\n\t\t\t\t\t\t\t\treturn !!scope.model[attrs.fieldId];\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'data.tooltip': function(currentValue, newValue, scope){\n\n\t\t\t\t\t\t\t\tif(scope.model[attrs.fieldId]){\n\t\t\t\t\t\t\t\t\treturn tooltip;\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\treturn {};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tvar initAndUpdateClient = function(client){\n\n\t\t\t\tif(client){\n\t\t\t\t\tangular.extend($scope.client, client);\n\t\t\t\t}\n\n\t\t\t\tif($scope.client){\n\t\t\t\t\t$scope.edit = true;\n\t\t\t\t}\n\n\t\t\t\t$scope.model = {\n\t\t\t\t\tfields: {\n\t\t\t\t\t\tprospect: {}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t$scope.modelContact = {\n\t\t\t\t\tfields: {}\n\t\t\t\t};\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tsetFields();\n\t\t\t\t}, 0);\n\n\t\t\t};\n\n\t\t\t$scope.fields = [];\n\t\t\t$scope.fieldsContact = [];\n\n\t\t\tvar setFields = function(){\n\n\t\t\t\t// client properties\n\t\t\t\tvar permissionStatusClientProperties\n\t\t\t\t\t= permission.permissionStatus('pro_acessar_cadastro_de_prospect');\n\n\t\t\t\tvar clientPropertiesPermission = {\n\t\t\t\t\tstatus: permissionStatusClientProperties,\n\t\t\t\t\treadonly: permissionStatusClientProperties !== true,\n\t\t\t\t\tattrs: permissionStatusClientProperties === true\n\t\t\t\t\t\t? {}\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t'readonly': '',\n\t\t\t\t\t\t\t'bs-tooltip': 'options.data.tooltip',\n\t\t\t\t\t\t},\n\t\t\t\t\ttooltip: permissionStatusClientProperties === true\n\t\t\t\t\t\t? {}\n\t\t\t\t\t\t: permissionStatusClientProperties === 'disabled'\n\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: $sce.trustAsHtml(\n\t\t\t\t\t\t\t\t\t\t'Desculpe, a edio do cadastro do cliente est '\n\t\t\t\t\t\t\t\t\t\t+ 'temporariamente desativado'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: $sce.trustAsHtml(\n\t\t\t\t\t\t\t\t\t\t'Voc, no tem permisso para editar o cadastro do cliente'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\ttype: 'warn'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t$scope.fields = [\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\tkey: 'prospectNome',\n\t\t\t\t\t\tmodel: clientPropertiesPermission.readonly\n\t\t\t\t\t\t\t? {}\n\t\t\t\t\t\t\t: $scope.model.fields.prospect,\n\t\t\t\t\t\tdefaultValue: $scope.client.fields.prospect.prospectNome,\n\t\t\t\t\t\tngModelElAttrs: clientPropertiesPermission.attrs,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttooltip: clientPropertiesPermission.tooltip\n\t\t\t\t\t\t},\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Nome completo:',\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tplaceholder: 'Nome do cliente',\n\t\t\t\t\t\t\tminlength: 6,\n\t\t\t\t\t\t\tmaxlength: 100\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'anaproDate',\n\t\t\t\t\t\tkey: 'prospectDtNascimento',\n\t\t\t\t\t\tmodel: clientPropertiesPermission.readonly\n\t\t\t\t\t\t\t? {}\n\t\t\t\t\t\t\t: $scope.model.fields.prospect,\n\t\t\t\t\t\tdefaultValue: $scope.client.fields.prospect.prospectDtNascimento,\n\t\t\t\t\t\tngModelElAttrs: clientPropertiesPermission.attrs,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttooltip: clientPropertiesPermission.tooltip\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: 'input-nogrow',\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Data de aniversrio:',\n\t\t\t\t\t\t\tmax: $filter('date')(\n\t\t\t\t\t\t\t\tnew Date(),\n\t\t\t\t\t\t\t\t'yyyy-MM-ddT00:00:00'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tdateFormat: 'yyyy-MM-ddT00:00:00'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvalidation: {\n\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\tmax: function(){\n\t\t\t\t\t\t\t\t\treturn 'A data de nascimento precisa ser menor ou igual a hoje';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'radio',\n\t\t\t\t\t\tkey: 'prospectSexo',\n\t\t\t\t\t\tmodel: clientPropertiesPermission.readonly\n\t\t\t\t\t\t\t? {}\n\t\t\t\t\t\t\t: $scope.model.fields.prospect,\n\t\t\t\t\t\tdefaultValue: $scope.client.fields.prospect.prospectSexo,\n\t\t\t\t\t\tngModelElAttrs: clientPropertiesPermission.attrs,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttooltip: clientPropertiesPermission.tooltip\n\t\t\t\t\t\t},\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Sexo: ',\n\t\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\t\toptions:[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'Masculino',\n\t\t\t\t\t\t\t\t\tvalue: 'M'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'Feminino',\n\t\t\t\t\t\t\t\t\tvalue: 'F'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t];\n\n\t\t\t\t// documentos\n\t\t\t\tif(permission.permissionStatus('pro_visualizar_documento') === true){\n\n\t\t\t\t\tvar clientDocumentsPermission = gernerateClientContactMultiInputFieldsAttrs({\n\t\t\t\t\t\tpermissionStatus: permission.permissionStatus('pro_excluir_documento'),\n\t\t\t\t\t\tfieldId: 'prospectDocumentoIdGuid',\n\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\tdisabled: 'Desculpe, a edio de documentos do cliente est '\n\t\t\t\t\t\t\t\t+ 'temporariamente desativado',\n\t\t\t\t\t\t\tforbidden: 'Voc, no tem permisso para editar os documentos do cliente'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$scope.fields.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\t\t\tkey: 'prospectDocumentos',\n\t\t\t\t\t\t\tmodel: $scope.model.fields,\n\t\t\t\t\t\t\tdefaultValue: $scope.client.fields.prospectDocumentos,\n\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t'layout': 'column'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tclassName: 'input-nogrow',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Nmero de documentos:'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t// layout: 'column',\n\t\t\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'prospectDocumentoIdGuid',\n\t\t\t\t\t\t\t\taddLabel: 'Adicionar nmero de documento',\n\t\t\t\t\t\t\t\tfieldTypeKey: 'prospectDocumentoTipo',\n\t\t\t\t\t\t\t\tfieldTypeKeyUnique: true,\n\t\t\t\t\t\t\t\tfieldsByType: {\n\t\t\t\t\t\t\t\t\tCPF: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\t\t\t\tkey: 'prospectDocumentoValor',\n\t\t\t\t\t\t\t\t\t\t\tngModelElAttrs: clientDocumentsPermission.attrs,\n\t\t\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\tcpf: true,\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: 'CPF do cliente',\n\t\t\t\t\t\t\t\t\t\t\t\tnoErrorSpace: clientDocumentsPermission.readonly,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\texpressionProperties: clientDocumentsPermission.expressions\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t\t$scope.fieldsContact = [];\n\n\t\t\t\t// emails\n\t\t\t\tif(permission.permissionStatus('pro_visualizar_email') === true){\n\n\t\t\t\t\tvar clientEmailPermission = gernerateClientContactMultiInputFieldsAttrs({\n\t\t\t\t\t\tpermissionStatus: permission.permissionStatus('pro_excluir_email'),\n\t\t\t\t\t\tfieldId: 'prospectEmailIdGuid',\n\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\tdisabled: 'Desculpe, a edio de emails do cliente est '\n\t\t\t\t\t\t\t\t+ 'temporariamente desativado',\n\t\t\t\t\t\t\tforbidden: 'Voc, no tem permisso para editar os emails do cliente'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$scope.fieldsContact.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\t\t\tkey: 'prospectEmails',\n\t\t\t\t\t\t\tmodel: $scope.modelContact.fields,\n\t\t\t\t\t\t\tdefaultValue: $scope.client.fields.prospectEmails,\n\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t'layout': 'column'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Emails:'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'prospectEmailIdGuid',\n\t\t\t\t\t\t\t\tlayout: 'column',\n\t\t\t\t\t\t\t\taddLabel: 'Adicionar email',\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'anaproEmail',\n\t\t\t\t\t\t\t\t\t\tkey: 'prospectEmailValor',\n\t\t\t\t\t\t\t\t\t\tngModelElAttrs: clientEmailPermission.attrs,\n\t\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: 'exemplo@exemplo.com',\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\tnoErrorSpace: clientEmailPermission.readonly\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\texpressionProperties: clientEmailPermission.expressions,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t\t// phone numbers\n\t\t\t\tif(permission.permissionStatus('pro_visualizar_telefone') === true){\n\n\t\t\t\t\tvar clientPhoneNumbersPermission = gernerateClientContactMultiInputFieldsAttrs({\n\t\t\t\t\t\tpermissionStatus: permission.permissionStatus('pro_excluir_telefone'),\n\t\t\t\t\t\tfieldId: 'prospectTelefoneIdGuid',\n\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\tdisabled: 'Desculpe, a edio de telefones do cliente est '\n\t\t\t\t\t\t\t\t+ 'temporariamente desativado',\n\t\t\t\t\t\t\tforbidden: 'Voc, no tem permisso para editar os telefones do cliente'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tconsole.log(clientPhoneNumbersPermission);\n\n\t\t\t\t\t$scope.fieldsContact.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\t\t\tkey: 'prospectTelefones',\n\t\t\t\t\t\t\tmodel: $scope.modelContact.fields,\n\t\t\t\t\t\t\tdefaultValue: $scope.client.fields.prospectTelefones,\n\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t'layout': 'column'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Telefones:'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'prospectTelefoneIdGuid',\n\t\t\t\t\t\t\t\tlayout: 'row',\n\t\t\t\t\t\t\t\taddLabel: 'Adicionar telefone',\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\t\t\tkey: 'prospectTelefoneFull',\n\t\t\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t\t\t'flex': '50'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tngModelElAttrs: clientPhoneNumbersPermission.attrs,\n\t\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: 'Telefone com DDD',\n\t\t\t\t\t\t\t\t\t\t\tmask: '(99) 9?9999-9999'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\texpressionProperties: clientPhoneNumbersPermission.expressions,\n\t\t\t\t\t\t\t\t\t\tvalidation: {\n\t\t\t\t\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\t\t\t\t\tmask: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\t\t\t\t\t\t\tnewValue, oldValue, scope;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn 'Nmero de telefone invlido!';\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\t\t\t\t\tkey: 'prospectTelefoneRamal',\n\t\t\t\t\t\t\t\t\t\tclassName: 'multiinput-align-fields-row-padding',\n\t\t\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t\t\t'flex': 'auto'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tngModelElAttrs: clientPhoneNumbersPermission.attrs,\n\t\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: 'Ramal',\n\t\t\t\t\t\t\t\t\t\t\tmaxlength: 10\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\texpressionProperties: clientPhoneNumbersPermission.expressions,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\t\t\t\t\tkey: 'prospectTelefoneObs',\n\t\t\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t\t\t'flex': 'auto'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tngModelElAttrs: clientPhoneNumbersPermission.attrs,\n\t\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: 'Obs.',\n\t\t\t\t\t\t\t\t\t\t\tmaxlength: 100\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\texpressionProperties: clientPhoneNumbersPermission.expressions,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t\t// addresses\n\t\t\t\tif(permission.permissionStatus('pro_visualizar_endereco') === true){\n\n\t\t\t\t\tvar clientAddressesPermission = gernerateClientContactMultiInputFieldsAttrs({\n\t\t\t\t\t\tpermissionStatus: permission.permissionStatus('pro_excluir_endereco'),\n\t\t\t\t\t\tfieldId: 'prospectEnderecoIdGuid',\n\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\tdisabled: 'Desculpe, a edio de endereos do cliente est '\n\t\t\t\t\t\t\t\t+ 'temporariamente desativado',\n\t\t\t\t\t\t\tforbidden: 'Voc, no tem permisso para editar os endereos do cliente'\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tclientAddressesPermission;\n\n\t\t\t\t\t$scope.fieldsContact.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\t\t\tkey: 'prospectEnderecos',\n\t\t\t\t\t\t\tmodel: $scope.modelContact.fields,\n\t\t\t\t\t\t\tdefaultValue: $scope.client.fields.prospectEnderecos,\n\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t'layout': 'column'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Endereos:'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'prospectEnderecoIdGuid',\n\t\t\t\t\t\t\t\tlayout: 'column',\n\t\t\t\t\t\t\t\taddLabel: 'Adicionar endereo',\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'address',\n\t\t\t\t\t\t\t\t\t\tclassName: 'no-padding-bottom',\n\t\t\t\t\t\t\t\t\t\t// ngModelElAttrs: clientAddressesPermission.attrs,\n\t\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\texpressionProperties: clientAddressesPermission.expressions,\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\t\t\tzipcode: 'prospectEnderecoCEP',\n\t\t\t\t\t\t\t\t\t\t\t\tstreet: 'prospectEnderecoLogradouro',\n\t\t\t\t\t\t\t\t\t\t\t\tnumber: 'prospectEnderecoNumero',\n\t\t\t\t\t\t\t\t\t\t\t\tneighborhoodId: 'prospectEnderecoBairroId',\n\t\t\t\t\t\t\t\t\t\t\t\tneighborhood: 'prospectEnderecoBairroNome',\n\t\t\t\t\t\t\t\t\t\t\t\tstate: 'prospectEnderecoUF',\n\t\t\t\t\t\t\t\t\t\t\t\tcityId: 'prospectEnderecoCidadeId',\n\t\t\t\t\t\t\t\t\t\t\t\tcity: 'prospectEnderecoCidadeNome',\n\t\t\t\t\t\t\t\t\t\t\t\tstreet2: 'prospectEnderecoComplemento',\n\t\t\t\t\t\t\t\t\t\t\t\tinfo: 'prospectEnderecoObs'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tinitAndUpdateClient();\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar submitError = function(){\n\n\t\t\t\t$scope.submitStatus.error = true;\n\n\t\t\t\tpostExecute();\n\n\t\t\t};\n\n\t\t\tvar submitSuccess = function(response){\n\t\t\t\tinitAndUpdateClient(response.data);\n\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\tpostExecute();\n\t\t\t};\n\n\t\t\t$scope.cancel = function(fields, model){\n\n\t\t\t\tanaproFormlyFactory.resetModel(\n\t\t\t\t\tfields,\n\t\t\t\t\tmodel\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.submit = function(form, fields, model){\n\n\t\t\t\tif(form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\tclientsService.patchItem({\n\t\t\t\t\t\titem: $scope.client,\n\t\t\t\t\t\tdata: model,\n\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para atualizar os dados do cliente.',\n\t\t\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: submitSuccess,\n\t\t\t\t\t\terror: submitError\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.hasBlock = function(block){\n\t\t\t\treturn $scope.blocks.indexOf(block) >= 0;\n\t\t\t};\n\n\t\t\t$scope.isExpandedBlock = function(block){\n\t\t\t\treturn $scope.expandedBlocks.indexOf(block) >= 0;\n\t\t\t};\n\n\t\t\t$scope.isTitleBlockHidden = function(block){\n\t\t\t\treturn $scope.hideTitleBlocks.indexOf(block) >= 0;\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardClientProfile', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttitle: '@',\n\t\t\t\tclient: '=',\n\t\t\t\tblocks: '@',\n\t\t\t\texpandedBlocks: '@',\n\t\t\t\thideTitleBlocks: '@',\n\t\t\t},\n\t\t\tcontroller: 'CardClientProfileController',\n\t\t\ttemplateUrl: 'card-client-profile/card-client-profile.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-followup',[\n\t\t'directives.card-followup-item',\n\t\t'services.followup'\n\t])\n\n\t.controller(\n\t\t'CardFollowupController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\tfollowupService\n\t\t){\n\n\t\t\t$scope.loading = true;\n\t\t\t$scope.data = {\n\t\t\t\tfields: []\n\t\t\t};\n\n\t\t\tvar filterByType;\n\n\t\t\t$scope.getClass = function(item){\n\t\t\t\treturn {\n\t\t\t\t\tremoved: item.removed,\n\t\t\t\t\tadded: item.added && !item.removed\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t$scope.toggleFilterByType = function(type){\n\n\t\t\t\tvar index = filterByType.indexOf(type);\n\n\t\t\t\tif(index < 0){\n\t\t\t\t\tfilterByType.push(type);\n\t\t\t\t}else{\n\t\t\t\t\tfilterByType.splice(index,1);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.isTypeInFilterList = function(item){\n\n\t\t\t\tif(item.constructor.name == 'String'){\n\t\t\t\t\treturn filterByType.indexOf(item) >= 0;\n\t\t\t\t}else if(filterByType.length === 0){\n\t\t\t\t\treturn true;\n\t\t\t\t}else if(item.fields){\n\n\t\t\t\t\tvar itemType = Object.keys(item.fields)[0];\n\n\t\t\t\t\tif(!$scope.summaryLabels[itemType]){\n\t\t\t\t\t\titemType = 'interacaoLog';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn filterByType.indexOf(itemType) >= 0;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t\t$scope.summaryLabels = {\n\t\t\t\tinteracaoAtividade: 'Atividades',\n\t\t\t\tinteracaoVisita: 'Visitas',\n\t\t\t\tinteracaoEmail: 'E-mails',\n\t\t\t\tinteracaoChat: 'Chat',\n\t\t\t\tinteracaoLigacao: 'Ligaes',\n\t\t\t\tinteracaoNegociacao: 'Proposta e Venda',\n\t\t\t\tinteracaoNota: 'Notas',\n\t\t\t\tinteracaoLog: 'Sistema'\n\t\t\t};\n\n\t\t\tvar setFilterByType = function(){\n\n\t\t\t\tif(Object.keys($scope.summary).length > 1 && !filterByType){\n\t\t\t\t\tfilterByType = Object.keys($scope.summaryLabels).filter(function(item){\n\t\t\t\t\t\treturn item != 'interacaoLog';\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tfilterByType = filterByType || [];\n\n\t\t\t};\n\n\t\t\tvar setSummary = function(){\n\n\t\t\t\t$scope.summary = {};\n\n\t\t\t\tvar items = [].concat(\n\t\t\t\t\t$scope.data.fields.due,\n\t\t\t\t\t$scope.data.fields.overdue,\n\t\t\t\t\t$scope.data.fields.done,\n\t\t\t\t\t$scope.data.fields.unread\n\t\t\t\t);\n\n\t\t\t\titems.map(function(item){\n\t\t\t\t\tif(item){\n\n\t\t\t\t\t\tvar itemType = Object.keys(item.fields)[0];\n\n\t\t\t\t\t\tif(!$scope.summaryLabels[itemType]){\n\t\t\t\t\t\t\titemType = 'interacaoLog';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$scope.summary[itemType] =\n\t\t\t\t\t\t\t!$scope.summary[itemType] ? 1 : $scope.summary[itemType] + 1;\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsetFilterByType();\n\n\t\t\t};\n\n\t\t\tvar deleteItem = function(item){\n\n\t\t\t\tvar items = $scope.data.data;\n\n\t\t\t\titem.removed = true;\n\n\t\t\t\tif(items.overdue && items.overdue.indexOf(item) > -1){\n\t\t\t\t\titems = items.overdue;\n\t\t\t\t}else if(items.due && items.due.indexOf(item) > -1){\n\t\t\t\t\titems = items.due;\n\t\t\t\t}\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\titems.splice(items.indexOf(item), 1);\n\t\t\t\t\tsetSummary();\n\t\t\t\t},500);\n\n\t\t\t};\n\n\t\t\tvar addLogItem = function(item){\n\t\t\t\t$scope.data.fields.done = $scope.data.fields.done || [];\n\t\t\t\t$scope.data.fields.done.splice(0,0,item);\n\t\t\t\tsetSummary();\n\t\t\t};\n\n\t\t\tvar addDueItem = function(item){\n\t\t\t\t$scope.data.fields.due = $scope.data.fields.due || [];\n\t\t\t\t$scope.data.fields.due.splice(0,0,item);\n\t\t\t\tsetSummary();\n\t\t\t};\n\n\t\t\tvar patchItem = function(oldItem, newItem){\n\n\t\t\t\tvar items = $scope.data.fields;\n\n\t\t\t\tif(items.overdue.indexOf(oldItem) > -1){\n\t\t\t\t\titems = items.overdue;\n\t\t\t\t}else if(items.due.indexOf(oldItem) > -1){\n\t\t\t\t\titems = items.due;\n\t\t\t\t}else if(items.done.indexOf(oldItem) > -1){\n\t\t\t\t\titems = items.done;\n\t\t\t\t}\n\n\t\t\t\tvar index = items.indexOf(oldItem);\n\t\t\t\titems[index] = newItem;\n\n\t\t\t};\n\n\t\t\t$scope.followupItemDelegate = {\n\t\t\t\tdeleteItem: deleteItem,\n\t\t\t\tpatchItem: patchItem\n\t\t\t};\n\n\t\t\t$scope.delegate.addItem = function(item){\n\n\t\t\t\tvar type = Object.keys(item.fields)[0];\n\t\t\t\titem.added = true;\n\n\t\t\t\tif(item.fields[type].tarefa && item.fields[type].tarefa.alarme){\n\t\t\t\t\taddDueItem(item);\n\t\t\t\t}else{\n\t\t\t\t\taddLogItem(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar success = function(response){\n\n\t\t\t\t$scope.loading = false;\n\t\t\t\t$scope.data = response.data;\n\n\t\t\t\tsetSummary();\n\n\t\t\t\tif($scope.delegate.getSuccess){\n\t\t\t\t\t$scope.delegate.getSuccess(response.data);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar error = function(){\n\t\t\t\t$scope.loading = false;\n\t\t\t};\n\n\t\t\tfollowupService.get({\n\t\t\t\tresource: $scope.resource,\n\t\t\t\tsuccess: success,\n\t\t\t\terror: error,\n\t\t\t\ttoastrMessages: {\n\t\t\t\t\tserverError: {\n\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para exibir as interaes e tarefas desse atendimento.'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive('cardFollowup', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-followup/card-followup.html',\n\t\t\tcontroller: 'CardFollowupController',\n\t\t\tscope: {\n\t\t\t\tmodalDelegate: '=?modalDelegate',\n\t\t\t\tdelegate: '=?',\n\t\t\t\tresource: '=resource'\n\t\t\t}\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.chat',[])\n\n\t.controller(\n\t\t'ChatController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\n\t\t\t$scope;\n\n\t\t}\n\t)\n\n\t.directive('chat', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'chat/chat.html',\n\t\t\tcontroller: 'ChatController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.client-avatar', [])\n\n\t\t// .controller(\n\t\t// \t'clientAvatarController',\n\t\t// \tfunction($scope){\n\n\t\t// \t}\n\t\t// )\n\n\t\t.directive('clientAvatar', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttransclude: true,\n\t\t\t\tscope: {\n\t\t\t\t\textra: '=?',\n\t\t\t\t\ttransactionItem: '='\n\t\t\t\t},\n\t\t\t\t// controller: 'clientAvatarController',\n\t\t\t\ttemplateUrl: 'client-avatar/client-avatar.html'\n\t\t\t};\n\t\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.client-contacts.factory', [])\n\n\t.factory(\n\t\t'clientContactsFactory',\n\n\t\tfunction(\n\t\t\t$modal,\n\t\t\t$timeout,\n\t\t\t$popover\n\t\t){\n\t\t\t$popover;\n\n\t\t\tvar showModal = function(attrs){\n\n\t\t\t\t$modal({\n\t\t\t\t\ttemplateUrl: 'client-contacts/client-contacts-modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tcontroller: function($scope) {\n\t\t\t\t\t\t$scope.id = attrs.id;\n\t\t\t\t\t\t$scope.clientContactsResource = attrs.resource;\n\n\t\t\t\t\t\t$scope.modalDelegate = {\n\t\t\t\t\t\t\thide: function(){\n\t\t\t\t\t\t\t\tconsole.log('hide');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function() {\n\t\t\t\t\t\tconsole.log('modalAddClient onHide');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar showPopover = function(attrs){\n\n\t\t\t\tvar scope = attrs.scope.$new();\n\t\t\t\tscope.popoverAttrs = attrs;\n\n\t\t\t\tvar popover = $popover(\n\t\t\t\t\tattrs.element,\n\t\t\t\t\t{\n\t\t\t\t\t\tscope: scope,\n\t\t\t\t\t\ttitle: 'Dados do cliente',\n\t\t\t\t\t\tcontentTemplate: 'client-contacts/client-contacts-popover.html',\n\t\t\t\t\t\ttrigger: 'manual',\n\t\t\t\t\t\tautoClose: true,\n\t\t\t\t\t\tanimation: 'am-flip-x',\n\t\t\t\t\t\tplacement: 'bottom-left'\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t$timeout(popover.show);\n\n\t\t\t\treturn popover;\n\t\t\t};\n\n\t\t\tvar service = {\n\t\t\t\tshowModal: showModal,\n\t\t\t\tshowPopover: showPopover\n\t\t\t};\n\n\t\t\treturn service;\n\n\t\t}\n\t)\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.client-contact', [\n\t\t'directives.client-contacts.factory'\n\t])\n\n\t.controller(\n\t\t'clientContactsController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tcardActionFactory,\n\t\t\ttransactionsService\n\t\t){\n\n\t\t\t$scope.loading = true;\n\n\t\t\t$scope.showCardActionsModal = function(phoneClient, tabButtonActivated){\n\n\t\t\t\tcardActionFactory.showModal({\n\t\t\t\t\tdata: cardActionFactory\n\t\t\t\t\t\t.getNewCardActionsData()\n\t\t\t\t\t\t.update({\n\t\t\t\t\t\t\tprospectNome: $scope.clientItem.fields.prospect.prospectNome,\n\t\t\t\t\t\t\tphones: [{prospectTelefoneFull: phoneClient}]\n\t\t\t\t\t\t}),\n\t\t\t\t\tresource: $scope.resource,\n\t\t\t\t\ttabButtonActivated: tabButtonActivated\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$scope.sendEmail = function(emailClient){\n\n\t\t\t\treturn cardActionFactory.getContactLinks({\n\t\t\t\t\tprospectNome: $scope.item.extraInfo.prospectNome,\n\t\t\t\t\temailClient: emailClient,\n\t\t\t\t\ttitle: $scope.item.extraInfo.produtoNome,\n\t\t\t\t\temailFollowup: $scope.item.extraInfo.atendimentoFollowUpEmail\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar success = function(response){\n\t\t\t\t$scope.item = response.data;\n\t\t\t\t$scope.clientItem = response.data.expand.clients;\n\t\t\t\t$scope.loading = false;\n\t\t\t};\n\n\t\t\tif($scope.item){\n\n\t\t\t\tsuccess({\n\t\t\t\t\tdata: $scope.item\n\t\t\t\t});\n\n\t\t\t}else if($scope.resource && $scope.resource.id){\n\n\t\t\t\ttransactionsService.getItem(\n\t\t\t\t\t{\n\t\t\t\t\t\tid: $scope.resource.id,\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'_expand': ['clients']\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: success\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\t)\n\n\t.directive('clientContacts', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\titem: '=?',\n\t\t\t\tid: '=?',\n\t\t\t\tresource: '='\n\t\t\t},\n\t\t\tcontroller: 'clientContactsController',\n\t\t\ttemplateUrl: 'client-contacts/client-contacts.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.enriched-person-data', [])\n\n\t\t.controller(\n\t\t\t'EnrichedPersonDataController',\n\t\t\tfunction(\n\t\t\t\t$scope,\n\t\t\t\tenrichedDataTypesFactory,\n\t\t\t\tmaskFilter\n\t\t\t){\n\n\t\t\t\tvar typesByFields = enrichedDataTypesFactory.getTypesByField();\n\n\t\t\t\tconsole.log(typesByFields);\n\n\t\t\t\t$scope.getTypeByField = function(item){\n\t\t\t\t\treturn typesByFields[item.field] || 'dataList';\n\t\t\t\t};\n\n\t\t\t\t$scope.getLabel = function(option, item){\n\t\t\t\t\t\n\t\t\t\t\tif(item.field == 'enrichPersonPhone'){\n\t\t\t\t\t\treturn maskFilter(option.name, 'tel');\n\t\t\t\t\t}\t\n\n\t\t\t\t\treturn option.name;\n\t\t\t\t};\n\n\t\t\t\tvar userImagesError = [];\n\n\t\t\t\t$scope.hideIcon = function(item){\n\t\t\t\t\tuserImagesError.push(item);\n\t\t\t\t};\n\n\t\t\t\t$scope.isUserImageError = function(item){\n\t\t\t\t\treturn userImagesError.indexOf(item) >= 0;\n\t\t\t\t};\n\t\t\t}\n\t\t)\n\n\t\t.factory('enrichedDataTypesFactory', function(){\n\t\t\tvar listTypes = {\n\t\t\t\tdataIcons: [\n\t\t\t\t\t'enrichPersonUrl'\n\t\t\t\t],\n\t\t\t\tdataImages: [\n\t\t\t\t\t'enrichPersonImage'\n\t\t\t\t],\n\t\t\t\tdataText: [\n\t\t\t\t\t'enrichPersonGender'\n\t\t\t\t]\n\t\t\t};\n\n\t\t\tvar typesByFields = {};\n\n\t\t\tObject.keys(listTypes).map(function(key) {\n\t\t\t\tlistTypes[key].map(function(field) {\n\t\t\t\t\ttypesByFields[field] = key;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvar getTypesByField = function(){\n\t\t\t\treturn typesByFields;\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tgetTypesByField: getTypesByField\n\t\t\t};\n\n\t\t})\n\n\t\t.directive('enrichedPersonData', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\tscope: {\n\t\t\t\t\tperson: '='\n\t\t\t\t},\n\t\t\t\tcontroller: 'EnrichedPersonDataController',\n\t\t\t\ttemplateUrl: 'enriched-person-data/enriched-person-data.html'\n\t\t\t};\n\t\t})\n\n\t\t.directive('enrichedPersonDataIcons', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\t// controller: 'EnrichedPersonDataController',\n\t\t\t\ttemplateUrl: 'enriched-person-data/enriched-person-data-icons.html'\n\t\t\t};\n\t\t})\n\n\t\t.directive('enrichedPersonDataText', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\t// controller: 'EnrichedPersonDataController',\n\t\t\t\ttemplateUrl: 'enriched-person-data/enriched-person-data-text.html'\n\t\t\t};\n\t\t})\n\n\t\t.directive('enrichedPersonDataList', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\t// controller: 'EnrichedPersonDataController',\n\t\t\t\ttemplateUrl: 'enriched-person-data/enriched-person-data-list.html'\n\t\t\t};\n\t\t})\n\n\t\t.directive('enrichedPersonDataImages', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\t// controller: 'EnrichedPersonDataController',\n\t\t\t\ttemplateUrl: 'enriched-person-data/enriched-person-data-images.html'\n\t\t\t};\n\t\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.footer',[])\n\n\t.controller(\n\t\t'FooterController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$window\n\t\t){\n\n\t\t\t$scope.version = $window.VERSION;\n\t\t}\n\t)\n\n\t.directive('footer', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'footer/footer.html',\n\t\t\tcontroller: 'FooterController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.icon-medal', [])\n\n\t.controller(\n\t\t'IconMedalController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\t\t\t$scope;\n\t\t}\n\t)\n\n\t.directive('iconMedal', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tnumber: '@number',\n\t\t\t},\n\t\t\ttemplateUrl: 'icon-medal/icon-medal.html',\n\t\t\tcontroller: 'IconMedalController as iconMedal'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.icon-svg', [])\n\n\t.provider('iconsSVG', function(){\n\n\t\tvar bundle = $('.iconSVGBundle symbol');\n\t\tvar icons = {};\n\n\t\t$(bundle).each(function(key, element){\n\t\t\ticons[element.getAttribute('id').replace('icon-svg-','')] = {\n\t\t\t\tviewbox: element.getAttribute('viewBox'),\n\t\t\t\tpaths: $(element).html()\n\t\t\t};\n\t\t});\n\n\t\tvar self = this;\n\n\t\tself.icons = icons;\n\n\t\tself.$get = function(){\n\t\t\treturn self;\n\t\t};\n\n\t})\n\n\t.controller(\n\t\t'IconSVGController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\t\t\t$scope;\n\t\t}\n\t)\n\n\t.directive('iconSvg', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ticonName: '@name',\n\t\t\t\tclassName: '@'\n\t\t\t},\n\t\t\treplace: true,\n\t\t\ttemplateUrl: 'icon-svg/icon-svg.html',\n\t\t\tcontroller: 'IconSVGController as iconSVG'\n\t\t};\n\t})\n\n\t.directive('iconSvgInline', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ticonName: '@name',\n\t\t\t\tclassName: '@'\n\t\t\t},\n\t\t\treplace: true,\n\t\t\tcontroller: function($scope, $sce, iconsSVG){\n\t\t\t\t$scope.icon = iconsSVG.icons[$scope.iconName] || {};\n\t\t\t\t$scope.svg = $sce.trustAsHtml($scope.icon.paths);\n\t\t\t},\n\t\t\ttemplateUrl: 'icon-svg/icon-svg-inline.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.img-src-error-remove', [])\n\n\t.directive('onErrorSrcRemove', function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function(scope, element, attrs) {\n\t\t\t\telement.bind('error', function() {\n\n\t\t\t\t\telement.remove();\n\n\t\t\t\t\tif(attrs['onErrorSrcRemove']) {\n\t\t\t\t\t\tscope.$evalAsync(attrs['onErrorSrcRemove']);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t});\n\n}) ();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.list.factory', [])\n\n\t\t.run(function(CacheFactory){\n\n\t\t\tCacheFactory(\n\t\t\t\t'cacheLinks',\n\t\t\t\t{\n\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\tstorageMode: 'localStorage',\n\t\t\t\t\tcapacity: 100\n\t\t\t\t}\n\t\t\t);\n\n\t\t})\n\n\t\t.factory('listFactory',\n\n\t\t\tfunction(\n\t\t\t\tCacheFactory\n\t\t\t){\n\n\t\t\t\tvar cacheLinks = CacheFactory.get('cacheLinks');\n\n\t\t\t\tvar saveAttrsAndGetHashLink = function(attrs){\n\n\t\t\t\t\tvar hash = 0;\n\t\t\t\t\tvar stringAttrs = {};\n\n\t\t\t\t\ttry{\n\t\t\t\t\t\tstringAttrs = JSON.stringify(attrs);\n\t\t\t\t\t}catch(e){}\n\n\t\t\t\t\tfor(var i=0; i<stringAttrs.length; i++){\n\t\t\t\t\t\thash = ((hash << 5) - hash) + stringAttrs.charCodeAt(i);\n\t\t\t\t\t}\n\n\t\t\t\t\thash = hash.toString(36);\n\n\t\t\t\t\tif(!cacheLinks.get(hash)){\n\t\t\t\t\t\tcacheLinks.put(hash, attrs);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn hash;\n\n\t\t\t\t};\n\n\t\t\t\tvar getAttrsFromHash = function(hash){\n\t\t\t\t\treturn cacheLinks.get(hash);\n\t\t\t\t};\n\n\t\t\t\tvar getAttrsFromRouteParams = function(routeParams){\n\n\t\t\t\t\tif(routeParams.hash){\n\t\t\t\t\t\treturn getAttrsFromHash(routeParams.hash) || {};\n\t\t\t\t\t}else if(routeParams.q){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tq: routeParams.q\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn {};\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tvar service = {\n\t\t\t\t\tsaveAttrsAndGetHashLink: saveAttrsAndGetHashLink,\n\t\t\t\t\tgetAttrsFromRouteParams: getAttrsFromRouteParams\n\t\t\t\t};\n\n\t\t\t\treturn service;\n\n\t\t\t}\n\t\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.list',[\n\t\t'directives.list.factory'\n\t])\n\n\t.controller(\n\t\t'ListController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\n\t\t\t$scope.listObj.listType = 'table';\n\n\t\t\t$scope.listObj.setListType = function(type){\n\t\t\t\t$scope.listObj.listType = type;\n\t\t\t};\n\n\t\t\t$scope.listObj.selected = {\n\t\t\t\titems: [],\n\t\t\t\ttoggle: function(item){\n\t\t\t\t\tif(this.has(item)){\n\t\t\t\t\t\tthis.items.splice(this.items.indexOf(item),1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.items.push(item);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thas: function(item){\n\t\t\t\t\treturn this.items.indexOf(item) >= 0;\n\t\t\t\t}\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('list', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'list/list.html',\n\t\t\tcontroller: 'ListController',\n\t\t\tscope: {},\n\t\t\ttransclude: {\n\t\t\t\ttable: '?listTypeTable',\n\t\t\t\tcolumn: '?listTypeColumn'\n\t\t\t}\n\t\t};\n\t})\n\n\t.controller(\n\t\t'ListColumnController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\t\t}\n\t)\n\n\t.directive('listColumn', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'list/list-column.html',\n\t\t\tscope: {},\n\t\t\tcontroller: 'ListColumnController',\n\t\t\ttransclude: true\n\t\t};\n\t})\n\n\t.controller(\n\t\t'ListTableController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout\n\t\t){\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\t\t\t//$scope.hasPages = $scope.listObj.data.links.totalPages > 1;\n\n\t\t\t$scope.listObj.removeItem = function(item){\n\t\t\t\titem.slideOutEffect = true;\n\t\t\t\t$timeout(function(){\n\t\t\t\t\titem.removed = true;\n\t\t\t\t}, 500);\n\t\t\t};\n\t\t}\n\t)\n\n\t.directive('listTable', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'list/list-table.html',\n\t\t\tscope: {},\n\t\t\tcontroller: 'ListTableController',\n\t\t\ttransclude: true\n\t\t};\n\t})\n\n\t.controller(\n\t\t'ListPaginationController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope\n\t\t){\n\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\n\t\t\tvar limitItems = $rootScope.mainController.device == 'desktop' ? 10 : 5;\n\t\t\tvar limitItemsHalf = Math.floor(limitItems / 2);\n\t\t\tvar fromItem = 2;\n\t\t\tvar toItem = limitItems + 1;\n\n\t\t\tif($scope.listObj.data.links.totalPages <= limitItems){\n\t\t\t\tfromItem = 1;\n\t\t\t\ttoItem = $scope.listObj.data.links.totalPages;\n\t\t\t}else if($scope.listObj.data.links.currentPage == $scope.listObj.data.links.totalPages - 1){\n\t\t\t\ttoItem = $scope.listObj.data.links.totalPages;\n\t\t\t\tfromItem = toItem - limitItems;\n\t\t\t}else if($scope.listObj.data.links.currentPage > limitItemsHalf){\n\t\t\t\tfromItem = $scope.listObj.data.links.currentPage - limitItemsHalf;\n\t\t\t\ttoItem = fromItem + limitItems;\n\t\t\t}\n\n\t\t\tif(toItem > $scope.listObj.data.links.totalPages){\n\t\t\t\tvar diff = toItem - $scope.listObj.data.links.totalPages;\n\t\t\t\tfromItem -= diff;\n\t\t\t\ttoItem = $scope.listObj.data.links.totalPages;\n\t\t\t}\n\n\t\t\t$scope.limits = {\n\t\t\t\tlimitItems: limitItems,\n\t\t\t\tfromItem: fromItem,\n\t\t\t\ttoItem: toItem\n\t\t\t};\n\n\t\t\tvar hashLinks = {};\n\n\t\t\t$scope.linkNavigation = function(link){\n\n\t\t\t\tif(hashLinks[link]){\n\t\t\t\t\treturn hashLinks[link];\n\t\t\t\t}\n\n\t\t\t\thashLinks[link] = $scope.listObj.delegate.gerFilterHashLink({\n\t\t\t\t\tlink: link\n\t\t\t\t});\n\n\t\t\t\treturn hashLinks[link];\n\n\t\t\t};\n\n\t\t\t$scope.linkNavigationFromNumber = function(page){\n\t\t\t\treturn $scope.linkNavigation(\n\t\t\t\t\t$scope.listObj.data.links.first.replace(/(page=)./,'$1' + page)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\t$scope.getPaginationArray = function(){\n\t\t\t\tvar links = $scope.listObj.data.links;\n\n\t\t\t\tif(links && links.totalPages){\n\t\t\t\t\treturn new Array(parseInt($scope.listObj.data.links.totalPages));\n\t\t\t\t}\n\n\t\t\t\treturn new Array(0);\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('listPagination', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'list/list-pagination.html',\n\t\t\tscope: {},\n\t\t\tcontroller: 'ListPaginationController'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.list-filter',[])\n\n\t.controller(\n\t\t'ListFilterController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$routeParams,\n\t\t\tlistFactory,\n\t\t\tdestroyFactory\n\t\t){\n\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\n\t\t\tif(!$scope.listObj.delegate\n\t\t\t\t|| !$scope.listObj.delegate.get){\n\t\t\t\tconsole.error(\n\t\t\t\t\t'You must to implement the \\'listObj.delegate.get\\' on current $scope'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tvar setFilters = function(){\n\t\t\t\t$scope.listObj.delegate.get({\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tq: $scope.listFilter.model.q,\n\t\t\t\t\t\tfilters: $scope.listFilter.model.filters\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(){\n\t\t\t\t\t\tif($scope.listFilter.modalDelegate.hide){\n\t\t\t\t\t\t\t$scope.listFilter.modalDelegate.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar formQSubmit = function(form){\n\n\t\t\t\tif(form.$invalid){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$scope.listObj.delegate.get({\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tq: $scope.listFilter.model.q\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar model = {\n\t\t\t\tq: '',\n\t\t\t\tfilters: {}\n\t\t\t};\n\n\t\t\tmodel = listFactory.getAttrsFromRouteParams($routeParams).params || model;\n\n\t\t\t$scope.listFilter = {\n\t\t\t\tmodel: model,\n\t\t\t\tformQSubmit: formQSubmit,\n\t\t\t\tsetFilters: setFilters,\n\t\t\t\tmodalDelegate: {}\n\t\t\t};\n\n\t\t\tdestroyFactory({\n\t\t\t\tscope: $scope,\n\t\t\t\tobjects: [\n\t\t\t\t\t$scope.listFilter\n\t\t\t\t]\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive('listFilter', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttransclude: true,\n\t\t\tscope: {},\n\t\t\ttemplateUrl: 'list-filter/list-filter.html',\n\t\t\tcontroller: 'ListFilterController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.loading-spinner',[])\n\n\t.controller(\n\t\t'LoadingSpinnerController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\t\t\t$scope;\n\t\t}\n\t)\n\n\t.directive('loadingSpinner', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'loading-spinner/loading-spinner.html',\n\t\t\tcontroller: 'LoadingSpinnerController as loadingSpinner'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.mainController',[])\n\n\t.controller(\n\t\t'MainController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$location,\n\t\t\t$element,\n\t\t\t$timeout,\n\t\t\tpath,\n\t\t\tmainController,\n\t\t\tusersService\n\t\t){\n\n\t\t\tconsole.log('main controller');\n\n\t\t\t// redirect between views\n\t\t\t// used by ng-click\n\t\t\tvar go = function(view, replace){\n\t\t\t\tif(view){\n\t\t\t\t\tif(replace)\n\t\t\t\t\t\t$location.path(view).replace();\n\t\t\t\t\telse\n\t\t\t\t\t\t$location.path(view);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// automatically invoked by provider.path.setCurrent(name)\n\t\t\t// do NOT call it by yourself\n\t\t\tvar setViewAttribute = function(){\n\n\t\t\t\t$($element).attr(\n\t\t\t\t\t'view',\n\t\t\t\t\tpath.getCurrentViewName()\n\t\t\t\t);\n\n\t\t\t\t$scope.mainController.currentView = path.getCurrentViewName();\n\n\t\t\t};\n\n\t\t\t$scope.userProfileLoaded = function(){\n\t\t\t\treturn usersService.isProfileLoaded();\n\t\t\t};\n\n\t\t\t// hold all main controller communication\n\t\t\t$rootScope.mainController = {\n\t\t\t\tdevice: mainController.getDevice(),\n\t\t\t\tgo: go,\n\t\t\t\tcurrentView: null,\n\t\t\t\tsetViewAttribute: setViewAttribute\n\t\t\t};\n\n\t\t\t// set device attribute\n\t\t\t$($element).attr(\n\t\t\t\t'device',\n\t\t\t\t$scope.mainController.device\n\t\t\t);\n\n\t\t}\n\t)\n\n\t.directive('mainController', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'main-controller/main-controller.html',\n\t\t\tcontroller: 'MainController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.modal',[])\n\n\t.controller(\n\t\t'ModalController',\n\n\t\tfunction(\n\t\t\t$location,\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$attrs,\n\t\t\t$document,\n\t\t\t$element,\n\t\t\t$timeout\n\t\t){\n\n\t\t\t$scope.attrs = $attrs;\n\n\t\t\tif(!$scope.delegate){\n\t\t\t\t$scope.delegate = {};\n\t\t\t\tconsole.error(\n\t\t\t\t\t'You must to implement the \\'modal.delegate.\\' on current $scope',\n\t\t\t\t\t$element\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tvar removeBodyClass = function(){\n\t\t\t\t$($document).find('body').removeClass('modal-open');\n\t\t\t};\n\n\t\t\t// remove any opened modal trace when user back history navigation\n\t\t\t$rootScope.$on('$routeChangeStart', function(){\n\t\t\t\tif($location.$$path){\n\n\t\t\t\t\tif($scope.$parent.$hide){\n\t\t\t\t\t\t$scope.$parent.$hide();\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$('.modal-backdrop').remove();\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveBodyClass();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.delegate.hide = function(data){\n\n\t\t\t\tif($scope.$parent.$hide){\n\t\t\t\t\t$scope.$parent.$hide();\n\t\t\t\t}else{\n\t\t\t\t\t$($element).modal('hide');\n\t\t\t\t\t// $($element).find(' > .modal').modal('hide');\n\t\t\t\t}\n\n\t\t\t\tremoveBodyClass();\n\n\t\t\t\tif($scope.delegate.reset){\n\t\t\t\t\t$scope.delegate.reset(data);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.hide = function(){\n\t\t\t\t$scope.delegate.hide();\n\t\t\t};\n\n\t\t\t// remove .fade class when animation has applies AngularMotion .am-fade-*\n\t\t\t$timeout(function(){\n\t\t\t\tif(/am-fade/.test($element[0].className)){\n\t\t\t\t\tangular.element($element[0]).removeClass('fade');\n\t\t\t\t}\n\t\t\t},0);\n\n\t\t\t// destroy scope when modal element is removed from DOM\n\t\t\t$element.on(\n\t\t\t\t'$destroy',\n\t\t\t\tfunction() {\n\t\t\t\t\tif($scope.$parent.$hide){\n\t\t\t\t\t\t$scope.$parent.$destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t)\n\n\t.directive('modal', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'modal/modal.html',\n\t\t\tcontroller: 'ModalController',\n\t\t\treplace: true,\n\t\t\ttransclude: {\n\t\t\t\ttitle: '?modalTitle',\n\t\t\t\tbodyCustom: '?modalBodyCustom',\n\t\t\t\tbody: '?modalBody',\n\t\t\t\tfooter: '?modalFooter'\n\t\t\t},\n\t\t\tscope: {\n\t\t\t\tdelegate: '=?'\n\t\t\t}\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tvar resources = {\n\n\t\tuserProfile: {\n\t\t\ttitle: 'Meus dados',\n\t\t\tgetUrl: function(){\n\t\t\t\treturn '//login.anapro.com.br/web/pages/Usuario/Cadastro/Editar.aspx';\n\t\t\t}\n\t\t},\n\n\t\t// transfer: {\n\t\t// \turl: 'http://anapro.crm.anapro.com.br/webcrm/pages/atendimento/atendimento_transferir.aspx?key=dt7cwfkSJLk1&op=',\n\t\t// \ttitle: 'Transferir Atendimento',\n\t\t// \tgetUrl: function(data){\n\t\t// \t\treturn resources.transfer.url\n\t\t// \t\t\t+ '&id='\n\t\t// \t\t\t+ data.data.id\n\t\t// \t\t\t+ '&AnaproAppModal=true';\n\t\t// \t}\n\t\t// }\n\n\t};\n\n\tangular.module('directives.modal-iframe-anapro-v1',[])\n\n\t.provider('modalIframeAnaproV1', function(){\n\n\t\tvar scope;\n\t\tvar rootScope;\n\t\trootScope;\n\n\t\tvar self = this;\n\n\t\tself.show = function(data){\n\t\t\tscope.data = data;\n\t\t\tscope.show();\n\t\t};\n\n\t\tself.setScope = function(directiveScope){\n\t\t\tscope = directiveScope;\n\t\t};\n\n\t\tself.$get = function($rootScope){\n\t\t\trootScope = $rootScope;\n\n\t\t\treturn self;\n\t\t};\n\n\t})\n\n\t.controller(\n\t\t'modaliFrameAnaproV1Controller',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$sce,\n\t\t\t$location,\n\t\t\t$document,\n\t\t\tmodalIframeAnaproV1\n\t\t){\n\n\t\t\tmodalIframeAnaproV1.setScope($scope);\n\n\t\t\tvar setIframeURL = function(){\n\n\t\t\t\t$scope.iframeURL = $sce.trustAsResourceUrl(\n\t\t\t\t\tresources[$scope.data.resource].getUrl($scope.data)\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.show = function(){\n\t\t\t\t$scope.title = resources[$scope.data.resource].title;\n\t\t\t\tsetIframeURL();\n\t\t\t\t$('#modal-iframe-anaprov1').modal();\n\t\t\t};\n\n\t\t\t$scope.modalDelegate = {\n\t\t\t\treset: function(message){\n\n\t\t\t\t\tif($scope.data && $scope.data.callback){\n\t\t\t\t\t\t$scope.data.callback(message, $scope.data.data);\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.data = null;\n\t\t\t\t\t$scope.iframeURL = null;\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.$root.$on('$routeChangeStart', function(){\n\t\t\t\tif($scope.data\n\t\t\t\t\t&&\n\t\t\t\t\t$location.$$path\n\t\t\t\t\t&&\n\t\t\t\t\t$($document).find('body').hasClass('modal-open')\n\t\t\t\t){\n\t\t\t\t\t$scope.modalDelegate.hide();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$root.$on('$messageIncoming', function(event, data){\n\t\t\t\t$scope.modalDelegate.hide(angular.fromJson(data));\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive('modalIframeAnaproV1', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'modal-iframe-anapro-v1/modal-iframe-anapro-v1.html',\n\t\t\tcontroller: 'modaliFrameAnaproV1Controller',\n\t\t\tscope: {}\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.navigationBar',[])\n\n\t.factory(\n\t\t'navigationBarFactory',\n\n\t\tfunction(\n\t\t\t$window\n\t\t){\n\n\t\t\tvar backButton = {\n\n\t\t\t\thidden: false,\n\t\t\t\tcustomFunction: null,\n\n\t\t\t\thide: function(){\n\t\t\t\t\tbackButton.hidden = true;\n\t\t\t\t},\n\n\t\t\t\tshow: function(){\n\t\t\t\t\tbackButton.hidden = false;\n\t\t\t\t},\n\n\t\t\t\tisHidden: function(){\n\t\t\t\t\treturn backButton.hidden;\n\t\t\t\t},\n\n\t\t\t\trun: function(){\n\t\t\t\t\tif(backButton.customFunction){\n\t\t\t\t\t\tbackButton.customFunction();\n\t\t\t\t\t\tbackButton.customFunction = null;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$window.history.back();\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tset: function(func){\n\t\t\t\t\tbackButton.customFunction = func;\n\t\t\t\t},\n\n\t\t\t};\n\n\t\t\tvar logo = {\n\t\t\t\tdata: {\n\t\t\t\t\tcompany: null\n\t\t\t\t},\n\n\t\t\t\tset: function(data){\n\t\t\t\t\tangular.extend(logo.data, data || {});\n\t\t\t\t},\n\n\t\t\t\tget: function(){\n\t\t\t\t\treturn logo.data;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tbackButton: backButton,\n\t\t\t\tlogo: logo\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.navigationBar',[\n\t\t'directives.navigationBarChat',\n\t\t'directives.navigationBarMobileUserStatus',\n\t\t'directives.navigationBarWhatsnew',\n\t\t'directives.navigationBarActions'\n\t])\n\n\t.controller(\n\t\t'NavigationBarController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\tpath,\n\t\t\tpermission,\n\t\t\tnavigationBarFactory,\n\t\t\tmainController,\n\t\t\tusersService,\n\t\t\tnotificationCenterTransactionsAwaiting,\n\t\t\ttransactionsService,\n\t\t\tnavigationBarActionsFactory\n\t\t){\n\n\t\t\t$scope.urlAnaproOld;\n\n\t\t\tvar setUrlAnaproOld = function(){\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t$scope.urlAnaproOld = response.data.extraInfo;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.showNavigationBarActionsModal = navigationBarActionsFactory.showModal;\n\n\t\t\t$scope.model = {\n\t\t\t\tq: ''\n\t\t\t};\n\n\t\t\t$scope.isBackButtonHidden = navigationBarFactory.backButton.isHidden;\n\t\t\t$scope.goBack = navigationBarFactory.backButton.run;\n\n\t\t\tvar isMobile = function(){\n\t\t\t\treturn mainController.getDevice() == 'mobile';\n\t\t\t};\n\n\t\t\tif(isMobile()){\n\t\t\t\t$scope.showMenuNav = false;\n\t\t\t}else{\n\t\t\t\t$scope.showMenuNav = true;\n\t\t\t}\n\n\t\t\t$scope.mobileSideMenuShowItems = true;\n\n\t\t\t$scope.hideMobileNavbar = function(){\n\t\t\t\tif(isMobile()){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$scope.showMenuNav = false;\n\t\t\t\t\t\tsetBodyScrollBars();\n\t\t\t\t\t}, 200);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.showMobileNavbar = function(){\n\t\t\t\tif(isMobile()){\n\t\t\t\t\t$scope.showMenuNav = true;\n\t\t\t\t\tsetBodyScrollBars();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.toogleMobileNavBar = function(){\n\t\t\t\tif(isMobile()){\n\n\t\t\t\t\t$scope.showMenuNav = !$scope.showMenuNav;\n\t\t\t\t\tsetBodyScrollBars();\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar setBodyScrollBars = function(){\n\t\t\t\t$rootScope.mainController.mobileSideMenuShow = $scope.showMenuNav;\n\t\t\t};\n\n\t\t\t$scope.submitSearchForm = function(){\n\n\t\t\t\t$scope.mainController.go(\n\t\t\t\t\tpath.getPath('transactions')\n\t\t\t\t\t+ $scope.model.q\n\t\t\t\t);\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$('[button-search]').collapse('toggle');\n\t\t\t\t},0);\n\n\t\t\t};\n\n\t\t\t$scope.getLogo = function(){\n\t\t\t\treturn navigationBarFactory.logo.get();\n\t\t\t};\n\n\t\t\t$scope.mobileUserStatusDelegate = {\n\t\t\t\tshow: function(){\n\t\t\t\t\t$scope.mobileSideMenuShowItems = false;\n\t\t\t\t},\n\t\t\t\thide: function(){\n\t\t\t\t\t$scope.mobileSideMenuShowItems = true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.isActive = function(views){\n\t\t\t\treturn {\n\t\t\t\t\tactive: views.split(',').indexOf(path.getCurrentViewName()) >= 0,\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t$scope.getTotalTransactionsAwaiting = function(){\n\t\t\t\treturn notificationCenterTransactionsAwaiting.getTotalNewClients();\n\t\t\t};\n\n\t\t\t$scope.getViewTransactionsLink = function(){\n\n\t\t\t\tif(notificationCenterTransactionsAwaiting.getTotalNewClients() > 0){\n\t\t\t\t\treturn transactionsService.getTransactionsAwaitingLink();\n\t\t\t\t}else{\n\t\t\t\t\treturn path.getPath('transactions');\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tsetUrlAnaproOld();\n\n\t\t}\n\t)\n\n\t.directive('navigationBar', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'navigation-bar/navigation-bar.html',\n\t\t\tcontroller: 'NavigationBarController as navigationBarController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.notifications-container',[\n\t\t'directives.notifications-container.dialog-container'\n\t])\n\n\t.run(function(toastrConfig){\n\n\t\tangular.extend(toastrConfig, {\n\t\t\tmaxOpened: 10,\n\t\t\textendedTimeOut: 0,\n\t\t\tpositionClass: 'toast-bottom-right',\n\t\t\t// target: document.querySelector('#toastr-container-wrapper') || 'body'\n\t\t});\n\n\t})\n\n\t.controller(\n\t\t'NotificationsContainerController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\ttoastrFactory,\n\t\t\tnotificationCenter\n\t\t){\n\n\t\t\t$timeout(function(){\n\t\t\t\tnotificationCenter.init();\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive(\n\t\t'notificationsContainer',\n\n\t\tfunction(\n\t\t\ttoastrConfig,\n\t\t\tdesktopNotificationsFactory\n\t\t){\n\n\t\t\tvar postLInk = function(){\n\n\t\t\t\tangular.extend(toastrConfig, {\n\t\t\t\t\ttarget: '#toastr-container-wrapper'\n\t\t\t\t});\n\n\t\t\t\tdesktopNotificationsFactory.hasPermission();\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplateUrl: 'notifications-container/notifications-container.html',\n\t\t\t\tcontroller: 'NotificationsContainerController',\n\t\t\t\tscope: {},\n\t\t\t\tlink: {\n\t\t\t\t\tpost: postLInk\n\t\t\t\t}\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.perfil-transactions-report', [\n\t\t'services.transactions-report'\n\t])\n\n\t.controller(\n\t\t'PerfilTransactionsReportController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tpath,\n\t\t\ttransactionsService,\n\t\t\ttransactionsReportService\n\t\t){\n\n\t\t\t$scope.currentDate = new Date();\n\t\t\t$scope.loading = true;\n\t\t\t$scope.error = false;\n\t\t\t$scope.data = {};\n\n\t\t\t$scope.getLinkFilter = function(item){\n\n\t\t\t\tvar filterJSON = transactionsService.getJSONFilterFromHref(item.href);\n\n\t\t\t\tif(filterJSON){\n\t\t\t\t\treturn transactionsService.gerFilterHashLink(\n\t\t\t\t\t\tpath.getPath('transactions'),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparams:{\n\t\t\t\t\t\t\t\tq: '',\n\t\t\t\t\t\t\t\tfilters: filterJSON\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\treturn path.getPath('transactions');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar success = function(response){\n\t\t\t\t$scope.data = response.data;\n\t\t\t\t$scope.loading = false;\n\t\t\t};\n\n\t\t\tvar error = function(){\n\t\t\t\t$scope.data = {};\n\t\t\t\t$scope.loading = false;\n\t\t\t\t$scope.error = true;\n\t\t\t};\n\n\t\t\tvar getData = function(){\n\n\t\t\t\t$scope.loading = true;\n\t\t\t\t$scope.error = false;\n\n\t\t\t\ttransactionsReportService.get({\n\t\t\t\t\tsuccess: success,\n\t\t\t\t\terror: error\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tgetData();\n\n\t\t}\n\t)\n\n\t.directive('perfilTransactionsReport', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\n\t\t\t},\n\t\t\ttemplateUrl: 'perfil/perfil-transactions-report.html',\n\t\t\tcontroller: 'PerfilTransactionsReportController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.perfil',[\n\t\t'directives.perfil-transactions-report',\n\t\t'services.users'\n\t])\n\n\t.controller(\n\t\t'PerfilController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tpath,\n\t\t\tusersService\n\t\t){\n\n\t\t\t$scope.pathUserProfile = path.getPath('user-profile');\n\t\t\t$scope.userProfile = {};\n\n\t\t\t$scope.collapse = function($event){\n\t\t\t\tif($($event.target).closest('user-status-bullet').length){\n\t\t\t\t\t$event.stopPropagation();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getUserProfile = function(reload){\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\treload: reload,\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t$scope.userProfile = response.data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tgetUserProfile();\n\n\t\t}\n\t)\n\n\t.directive('perfil', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'perfil/perfil.html',\n\t\t\tcontroller: 'PerfilController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.perfil-transactions-summary',[\n\t\t'services.transactions-summary'\n\t])\n\n\t.controller(\n\t\t'PerfilTransactionsSummaryController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$element,\n\t\t\ttransactionsSummaryService,\n\t\t\tpath,\n\t\t\turls,\n\t\t\ttransactionsService,\n\t\t\tnotificationCenterTransactionSumary\n\t\t){\n\n\t\t\t$scope.mainController = $rootScope.mainController;\n\n\t\t\t$scope.loading = true;\n\t\t\t$scope.error = false;\n\t\t\t$scope.empty = true;\n\n\t\t\t$scope.properties = transactionsSummaryService.properties;\n\t\t\t$scope.data = {};\n\n\t\t\t$scope.linkViewTransactions = path.getPath('transactions');\n\n\t\t\tvar nestedStagesNormalize = function(obj){\n\t\t\t\treturn obj[$scope.properties.stages.nestedStages]\n\t\t\t\t\t.join(', ')\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tnew RegExp(obj[$scope.properties.stages.name] + '*.?/', 'g'),\n\t\t\t\t\t\t'<br />'\n\t\t\t\t\t)\n\t\t\t\t\t.replace(/,.</g,'<')\n\t\t\t\t\t.replace('<br />','');\n\t\t\t};\n\n\t\t\t$scope.get = function(obj, property){\n\t\t\t\tif(property == $scope.properties.stages.nestedStages){\n\t\t\t\t\treturn nestedStagesNormalize(obj);\n\t\t\t\t}else{\n\t\t\t\t\treturn obj[property];\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.getFormattedName = function(name){\n\t\t\t\treturn name.replace(/^.+\\/./,'');\n\t\t\t};\n\n\t\t\t$scope.showSubStage = function(item, subStage){\n\t\t\t\titem.activeSubStage = subStage;\n\t\t\t};\n\n\t\t\t$scope.hideSubStage = function(item){\n\t\t\t\titem.activeSubStage = null;\n\t\t\t};\n\n\t\t\tvar hashLinks = {};\n\n\t\t\t$scope.getLinkFilter = function(item){\n\n\t\t\t\tif(hashLinks[item.href]){\n\t\t\t\t\treturn hashLinks[item.href];\n\t\t\t\t}\n\n\t\t\t\tvar filterJSON = transactionsService.getJSONFilterFromHref(item.href);\n\n\t\t\t\tif(filterJSON){\n\t\t\t\t\thashLinks[item.href] = transactionsService.gerFilterHashLink(\n\t\t\t\t\t\t$scope.linkViewTransactions,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparams:{\n\t\t\t\t\t\t\t\tq: '',\n\t\t\t\t\t\t\t\tfilters: filterJSON\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\thashLinks[item.href] = path.getPath('transactions');\n\t\t\t\t}\n\n\t\t\t\treturn hashLinks[item.href];\n\n\t\t\t};\n\n\t\t\tvar error = function(){\n\t\t\t\t$scope.loading = false;\n\t\t\t\t$scope.error = true;\n\t\t\t};\n\n\t\t\tvar setStageTransactionsPercent = function(group, percent){\n\t\t\t\tgroup[$scope.properties.stages.percentTransactions] += percent;\n\n\t\t\t\tif(group[$scope.properties.stages.percentTransactions] >= 1){\n\t\t\t\t\tgroup[$scope.properties.stages.percentTransactions] = Math.floor(group[$scope.properties.stages.percentTransactions]);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar setStageValuePercent = function(group, percent){\n\t\t\t\tgroup[$scope.properties.stages.valuePercent] += percent;\n\n\t\t\t\tif(group[$scope.properties.stages.valuePercent] >= 1){\n\t\t\t\t\tgroup[$scope.properties.stages.valuePercent] = Math.floor(group[$scope.properties.stages.valuePercent]);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar setNestedStages = function(){\n\n\t\t\t\tvar pipelines = $scope.data.resumoNegocios;\n\t\t\t\t$scope.data.resumoNegocios = [];\n\n\t\t\t\tvar groups = {};\n\t\t\t\tpipelines.map(function(pipeline){\n\n\t\t\t\t\tvar group = pipeline.resumoNegocioPipelineStageGrupo;\n\n\t\t\t\t\tif(!groups[group]){\n\t\t\t\t\t\tgroups[group] = {\n\t\t\t\t\t\t\tsubStages: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\tgroups[group].href = urls.apiPaths.transactions + '?filters='\n\t\t\t\t\t\t\t+ JSON.stringify({pipelineStageGrupo:group});\n\t\t\t\t\t\tgroups[group][$scope.properties.stages.name] = group;\n\t\t\t\t\t\tgroups[group][$scope.properties.stages.nestedStages] = [];\n\t\t\t\t\t\tgroups[group][$scope.properties.stages.value] = 0;\n\t\t\t\t\t\tgroups[group][$scope.properties.stages.transactions] = 0;\n\t\t\t\t\t\tgroups[group][$scope.properties.stages.percentTransactions] = 0;\n\t\t\t\t\t\tgroups[group][$scope.properties.stages.valuePercent] = 0;\n\n\t\t\t\t\t\t$scope.data.resumoNegocios.push(groups[group]);\n\t\t\t\t\t}\n\n\t\t\t\t\tgroups[group][$scope.properties.stages.transactions] +=\n\t\t\t\t\t\tpipeline[$scope.properties.stages.transactions];\n\n\t\t\t\t\tgroups[group][$scope.properties.stages.nestedStages].push(\n\t\t\t\t\t\tpipeline[$scope.properties.stages.name]\n\t\t\t\t\t);\n\n\t\t\t\t\tsetStageTransactionsPercent(groups[group], pipeline[$scope.properties.stages.percentTransactions]);\n\t\t\t\t\tsetStageValuePercent(groups[group], pipeline[$scope.properties.stages.valuePercent]);\n\n\t\t\t\t\tgroups[group][$scope.properties.stages.value] +=\n\t\t\t\t\t\tpipeline[$scope.properties.stages.value];\n\n\t\t\t\t\tgroups[group].subStages.push(pipeline);\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar perfilTransactionsSummarySucess = function(data){\n\n\t\t\t\tif(!data.fields){\n\t\t\t\t\terror();\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$scope.empty = false;\n\t\t\t\t$scope.data = angular.copy(data.fields);\n\n\t\t\t\tsetNestedStages();\n\n\t\t\t\t$scope.loading = false;\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$($element).find('[data-toggle=\"tooltip\"]').tooltip({\n\t\t\t\t\t\thtml: true\n\t\t\t\t\t});\n\t\t\t\t},0);\n\n\t\t\t};\n\n\t\t\tvar dispatchCallbackAttrs = {\n\t\t\t\tsuccess: perfilTransactionsSummarySucess\n\t\t\t};\n\t\t\tnotificationCenterTransactionSumary.dispatchCallback(dispatchCallbackAttrs);\n\n\t\t\t$scope.$on(\n\t\t\t\t'$destroy',\n\t\t\t\tfunction(){\n\t\t\t\t\t// prevent memory leaks\n\t\t\t\t\tdispatchCallbackAttrs.success = null;\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t)\n\n\t.directive('perfilTransactionsSummary', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'perfil-transactions-summary/perfil-transactions-summary.html',\n\t\t\tcontroller: 'PerfilTransactionsSummaryController',\n\t\t\tscope: {\n\n\t\t\t}\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.permissions',[])\n\n\t/*\n\tAttributes:\n\t\t- permissions=\"keys\"\n\t\twhich keys permissions user must role to render a component\n\t\tseparate then by comma\n\t\texamples:\t\"resfim_mostrar\"\n\t\t\t\t\t\t\t\"resfim_mostrar && resfim_mostrar_atd_valor\"\n\t\t\t\t\t\t\t\"resfim_mostrar || resfim_mostrar_atd_valor\"\n\n\t\t- permissions-disable-mode\n\t\tthis attribute do not remove element when the user has no permission or\n\t\tthe permission is disabled\n\t\tit also keep the attribute there for others uses for instance,\n\t\tadd a custom css like as:\n\t\t\telement[permissions-disable-mode] { background: gray }\n\n\t\t- permissions-remove-attrs=\"attr1,attr2\"\n\t\tAll following attributes separated by comma will be removed from the element\n\t\twhen the user has no permission or the permission is disabled\n\n\t\t- permissions-attrs-when-false:attr-name=\"value\"\n\t\tThis attribute can be used more than once in the same element\n\t\tThe name, after two dots, will be the new attribute following by its value\n\t\tand added when the user has no permission\n\n\t\t- permissions-attrs-when-disabled:attr-name=\"value\"\n\t\tThis attribute can be used more than once in the same element\n\t\tThe name, after two dots, will be the new attribute following by its value\n\t\tand added when the permission is disabled\n\n\t\tFull example of usage:\n\n\t\t\t<div\n\t\t\t\tclass=\"box-content simulacao-proposta\"\n\t\t\t\tattr-a=\"test-a\"\n\t\t\t\tattr-b=\"test-b\"\n\t\t\t\tbs-popover\n\t\t\t\tdata-content=\"Popover funcionando\"\n\t\t\t\tdata-placement=\"bottom\"\n\t\t\t\tdata-trigger=\"hover\"\n\n\t\t\t\tpermissions=\"con_canais\"\n\t\t\t\tpermissions-disable-mode\n\t\t\t\tpermissions-remove-attrs=\"attr-a,attr-b,bs-popover,data-content,data-placement\"\n\n\t\t\t\tpermissions-attrs-when-false:bs-tooltip\n\t\t\t\tpermissions-attrs-when-false:data-title=\"Voc no tem permisso\"\n\t\t\t\tpermissions-attrs-when-false:data-type=\"warn\"\n\n\t\t\t\tpermissions-attrs-when-disabled:bs-tooltip\n\t\t\t\tpermissions-attrs-when-disabled:data-title=\"Desativado\"\n\t\t\t\tpermissions-attrs-when-disabled:data-type=\"error\"\n\t\t\t>\n\t\t\t\t<p>\n\t\t\t\t\tpermission test: resfim_mostrar<br/>\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t*/\n\n\t.directive(\n\t\t'permissions',\n\n\t\tfunction(\n\t\t\t$compile,\n\t\t\tpermission\n\t\t){\n\n\t\t\tvar attrAddWhenFalseName = 'permissionsAttrsWhenFalse';\n\t\t\tvar attrAddWhenDisabledName = 'permissionsAttrsWhenDisabled';\n\n\t\t\tvar matchAttrAddWhenFalseName = new RegExp(attrAddWhenFalseName);\n\t\t\tvar matchAttrAddWhenDisabledName = new RegExp(attrAddWhenDisabledName);\n\n\t\t\tvar addAttributes = function(attrs, when){\n\n\t\t\t\tvar match = when === false\n\t\t\t\t\t? matchAttrAddWhenFalseName\n\t\t\t\t\t: matchAttrAddWhenDisabledName;\n\n\t\t\t\tvar keys = Object.keys(attrs);\n\n\t\t\t\tkeys.map(function(key){\n\t\t\t\t\tif(match.test(key)){\n\t\t\t\t\t\tvar newAttr = key.replace(match, '');\n\t\t\t\t\t\tattrs.$set(newAttr, attrs[key]);\n\t\t\t\t\t\tattrs.$set(key, null);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar clearAttributes = function(attrs){\n\n\t\t\t\tattrs.$set('permissions', null);\n\t\t\t\tattrs.$set('permissions-remove-attrs', null);\n\n\t\t\t\tvar keys = Object.keys(attrs);\n\n\t\t\t\tkeys.map(function(key){\n\t\t\t\t\tif((new RegExp(\n\t\t\t\t\t\tattrAddWhenFalseName+'|'+attrAddWhenDisabledName\n\t\t\t\t\t)).test(key)){\n\t\t\t\t\t\tattrs.$set(key, null);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar removeAttributes = function(attrs){\n\n\t\t\t\tvar list = attrs.permissionsRemoveAttrs;\n\n\t\t\t\tif(list){\n\n\t\t\t\t\tvar attributes = list.split(',');\n\n\t\t\t\t\tattributes.map(function(item){\n\t\t\t\t\t\tattrs.$set(item, null);\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar compile = function(element, attrs){\n\n\t\t\t\tif(attrs.permissions !== ''){\n\n\t\t\t\t\tvar doNotRemoveIt = typeof attrs.permissionsDisableMode != 'undefined';\n\n\t\t\t\t\tvar permissionStatus = permission.checkPermissions(attrs.permissions);\n\n\t\t\t\t\t// console.log('-----> Directive Permissions ----< ');\n\n\t\t\t\t\t// console.log(element);\n\n\t\t\t\t\t// console.log(\n\t\t\t\t\t// \t'permissions: ' + attrs.permissions\n\t\t\t\t\t// );\n\n\t\t\t\t\t// console.log('status: ' + permissionStatus);\n\n\t\t\t\t\t// console.log('is set permissions-disable-mode: ' + doNotRemoveIt);\n\n\t\t\t\t\t// console.log('----------------------------');\n\n\t\t\t\t\tif(!permissionStatus || permissionStatus == 'disabled'){\n\n\t\t\t\t\t\tif(!doNotRemoveIt){\n\t\t\t\t\t\t\telement.remove();\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tremoveAttributes(attrs);\n\t\t\t\t\t\taddAttributes(attrs, permissionStatus);\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattrs.$set('permissions-disable-mode', null);\n\t\t\t\t\t}\n\n\t\t\t\t\t// clear attributes\n\t\t\t\t\tclearAttributes(attrs);\n\n\t\t\t\t}\n\n\t\t\t\treturn function(scope, element){\n\t\t\t\t\t$compile(element)(scope);\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\trestrict: 'A',\n\t\t\t\tterminal: true,\n\t\t\t\tpriority: 6000,\n\t\t\t\tcompile: compile\n\t\t\t};\n\t\t}\n\t)\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.radial-progress',[])\n\n\t.controller(\n\t\t'RadialProgressController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$element,\n\t\t\t$attrs,\n\t\t\t$tooltip,\n\t\t\t$timeout\n\t\t){\n\n\t\t\tif($scope.tooltip){\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$tooltip(\n\t\t\t\t\t\tangular.element($($element[0]).find('> div')[0]),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: $scope.tooltip,\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t// trigger: 'click',\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar basis = 126;\n\n\t\t\tvar calcPercentage = function(){\n\n\t\t\t\tif($scope.value < 0 || $scope.value > $scope.total){\n\t\t\t\t\treturn 0;\n\t\t\t\t}else{\n\t\t\t\t\treturn $scope.value/$scope.total;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar calcStroke = function(){\n\n\t\t\t\tvar percentage = calcPercentage();\n\n\t\t\t\tif(percentage == 0){\n\t\t\t\t\treturn basis;\n\t\t\t\t}\n\n\t\t\t\tvar stroke = basis - (basis * percentage);\n\n\t\t\t\treturn stroke;\n\n\t\t\t};\n\n\t\t\t$scope.getClassThreshold = function(){\n\n\t\t\t\tvar percentage = calcPercentage();\n\t\t\t\tvar className = '';\n\n\t\t\t\tif($scope.classThresholds){\n\n\t\t\t\t\tvar thresholds = Object.keys($scope.classThresholds);\n\n\t\t\t\t\tfor(var i=0; i<thresholds.length; i++){\n\t\t\t\t\t\tif(thresholds[i]/100 >= percentage){\n\t\t\t\t\t\t\tclassName = $scope.classThresholds[thresholds[i]];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn className;\n\t\t\t};\n\n\t\t\t$scope.getStyle = function(){\n\n\t\t\t\treturn {\n\t\t\t\t\tstrokeDashoffset: calcStroke()\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\t$scope.hasLabel = function(){\n\t\t\t\treturn typeof $scope.label != 'undefined';\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('radialProgress', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttotal: '=',\n\t\t\t\tvalue: '=',\n\t\t\t\tlabel: '=',\n\t\t\t\ttooltip: '=',\n\t\t\t\tclassThresholds: '='\n\t\t\t},\n\t\t\ttemplateUrl: 'radial-progress/radial-progress.html',\n\t\t\tcontroller: 'RadialProgressController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.submit-on-enter', [])\n\n\t.directive('submitOnEnter', function() {\n\n\t\tvar link = function(scope, element){\n\n\t\t\tif(element[0].tagName != 'TEXTAREA'){\n\t\t\t\tconsole.warn('submitOnEnter is only allowed on <textarea> elements');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar onKeyDown = function(e){\n\t\t\t\tif(e.keyCode == 13){\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\ttriggerFormEvent();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar triggerFormEvent = function(){\n\t\t\t\tangular.element($(element[0]).closest('form')[0]).triggerHandler('submit');\n\t\t\t};\n\n\t\t\telement.on('keydown', onKeyDown);\n\n\t\t};\n\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\trequire: ['^^form'],\n\t\t\tlink: link\n\t\t};\n\t});\n\n}) ();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.transaction-finish',[])\n\n\t.controller(\n\t\t'TransactionFinishController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$filter,\n\t\t\tanaproFormlyFactory,\n\t\t\ttransactionsService,\n\t\t\t$timeout\n\t\t){\n\n\t\t\t$scope.delegate = $scope.delegate || {};\n\n\t\t\t$scope.loading = true;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\t$scope.form = {};\n\t\t\t$scope.formOptions = {};\n\t\t\t$scope.model = {};\n\n\t\t\t$scope.fields = [];\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar submitError = function(){\n\n\t\t\t\t$scope.submitStatus.error = true;\n\n\t\t\t\tpostExecute();\n\n\t\t\t};\n\n\t\t\tvar delegateUpdateItem = function(item){\n\n\t\t\t\tif($scope.delegate.updateItem\n\t\t\t\t\t&&\n\t\t\t\t\titem.id\n\t\t\t\t){\n\t\t\t\t\t$scope.delegate.updateItem(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar delegateHide = function(){\n\n\t\t\t\tif($scope.delegate.hide){\n\t\t\t\t\t$scope.delegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar runDelegates = function(response){\n\n\t\t\t\tdelegateHide(response.data);\n\t\t\t\tdelegateUpdateItem(response.data);\n\n\t\t\t};\n\n\t\t\tvar submitSuccess = function(response){\n\n\t\t\t\t$scope.submitStatus.success = true;\n\n\t\t\t\tpostExecute();\n\t\t\t\trunDelegates(response);\n\n\t\t\t\t$scope.formOptions.resetModel();\n\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\n\t\t\t\t$scope.formOptions.resetModel();\n\n\t\t\t\tif($scope.delegate.hide){\n\t\t\t\t\t$scope.delegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.submit = function(){\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\tpostAction();\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar postAction = function(){\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\taction: $scope.action,\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\titem: $scope.item,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields:  $scope.model\n\t\t\t\t\t},\n\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t$scope.action == 'won' \n\t\t\t\t\t\t\t\t? 'Atendimento fechado como ganho.'\n\t\t\t\t\t\t\t\t: 'Atendimento fechado como perdido.',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t'Desculpe, estamos com dificuldades para fechar o atendimento.',\n\t\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: submitSuccess,\n\t\t\t\t\terror: submitError\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar setFields = function(fields){\n\n\t\t\t\t$scope.fields = [];\n\n\t\t\t\tanaproFormlyFactory.createFormlyFieldsFromAPI(\n\t\t\t\t\tfields,\n\t\t\t\t\t$scope.fields\n\t\t\t\t);\n\n\t\t\t\tanaproFormlyFactory.setFieldsOrder(\n\t\t\t\t\t$scope.fields,\n\t\t\t\t\t[\n\t\t\t\t\t\t'atendimentoNegocioValor',\n\t\t\t\t\t\t'atendimentoNegocioComissaoValor',\n\t\t\t\t\t]\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar update = function(){\n\t\t\t\tvar model = angular.copy($scope.model);\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\taction: $scope.action,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\titem: $scope.item,\n\t\t\t\t\tparams: {filters: JSON.stringify(model)},\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\tsetFields(response.data.filters);\n\t\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t},\n\t\t\t\t\terror: delegateHide\n\t\t\t\t});\n\n\t\t\t};\n\t\t\t\n\t\t\t$scope.submitLabel = function(){\n\t\t\t\treturn $scope.action == 'won'\n\t\t\t\t\t? 'Registrar venda'\n\t\t\t\t\t: 'Marcar como perdido';\n\t\t\t};\n\n\t\t\tupdate();\n\n\t\t}\n\t)\n\n\t.directive('transactionFinish', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'transaction-finish/transaction-finish.html',\n\t\t\tcontroller: 'TransactionFinishController',\n\t\t\tscope: {\n\t\t\t\tdelegate: '=?',\n\t\t\t\titem: '=',\n\t\t\t\taction: '='\n\t\t\t}\n\t\t};\n\t})\n\n\t.factory(\n\t\t'transactionFinishFactory',\n\n\t\tfunction($modal){\n\n\t\t\tvar show = function(attrs){\n\n\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t$modal({\n\t\t\t\t\ttemplateUrl: 'transaction-finish/transaction-finish-modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tcontroller: function($scope){\n\t\t\t\t\t\t$scope.item = attrs.item;\n\t\t\t\t\t\t$scope.action = attrs.action,\n\t\t\t\t\t\t$scope.delegate = attrs.delegate;\n\t\t\t\t\t\t$scope.title = $scope.action == 'won' \n\t\t\t\t\t\t\t? 'Registrar venda'\n\t\t\t\t\t\t\t: 'Marcar como perdido';\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function(){\n\n\t\t\t\t\t\tif(attrs.delegate.hide){\n\t\t\t\t\t\t\tattrs.delegate.hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tshow: show\n\t\t\t};\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.transaction-transfer',[])\n\n\t.controller(\n\t\t'TransactionTransferController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$filter,\n\t\t\tanaproFormlyFactory,\n\t\t\ttransactionsService,\n\t\t\tusersService,\n\t\t\t$timeout\n\t\t){\n\n\t\t\tvar\n\t\t\t\titemOwnerIsSameCurrentUser = null,\n\t\t\t\tuserProfile;\n\n\t\t\t$scope.isOnQueue = transactionsService.isOnQueue;\n\t\t\t$scope.isFinished = transactionsService.isFinished;\n\n\t\t\tusersService.getUserProfile({\n\t\t\t\tsuccess: function(response){\n\t\t\t\t\tuserProfile = response.data;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.delegate = $scope.delegate || {};\n\n\t\t\t$scope.loading = true;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\t$scope.form = {};\n\t\t\t$scope.formOptions = {};\n\t\t\t$scope.model = {};\n\n\t\t\t$scope.fields = [];\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar submitError = function(){\n\n\t\t\t\t$scope.submitStatus.error = true;\n\n\t\t\t\tpostExecute();\n\n\t\t\t};\n\n\t\t\tvar delegateUpdateItem = function(item){\n\n\t\t\t\tif($scope.delegate.updateItem\n\t\t\t\t\t&&\n\t\t\t\t\titem.id\n\t\t\t\t){\n\t\t\t\t\t$scope.delegate.updateItem(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar delegateHide = function(){\n\n\t\t\t\tif($scope.delegate.hide){\n\t\t\t\t\t$scope.delegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar delegateTransferedFromOtherToSameCurrentUser = function(item){\n\n\t\t\t\tif($scope.delegate.transferedFromOtherToSameCurrentUser\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.model.usuarioIdGuid == userProfile.id\n\t\t\t\t\t&&\n\t\t\t\t\t!itemOwnerIsSameCurrentUser\n\t\t\t\t){\n\t\t\t\t\t$scope.delegate.transferedFromOtherToSameCurrentUser(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar delegateRemoveItemFromUser = function(item){\n\n\t\t\t\tif(\n\t\t\t\t\t$scope.delegate.removeItemFromUser\n\t\t\t\t\t&&\n\t\t\t\t\t!item.id\n\t\t\t\t){\n\t\t\t\t\t$scope.delegate.removeItemFromUser(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar runDelegates = function(response){\n\n\t\t\t\tdelegateHide(response.data);\n\t\t\t\tdelegateUpdateItem(response.data);\n\t\t\t\tdelegateTransferedFromOtherToSameCurrentUser(response.data);\n\t\t\t\tdelegateRemoveItemFromUser(response.data);\n\n\t\t\t};\n\n\t\t\tvar submitSuccess = function(response){\n\n\t\t\t\t$scope.submitStatus.success = true;\n\n\t\t\t\tpostExecute();\n\t\t\t\trunDelegates(response);\n\n\t\t\t\t$scope.formOptions.resetModel();\n\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\n\t\t\t\t$scope.formOptions.resetModel();\n\n\t\t\t\tif($scope.delegate.hide){\n\t\t\t\t\t$scope.delegate.hide();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.submit = function(){\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\tpostAction();\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar postAction = function(){\n\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\taction: 'transfer',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\titem: $scope.item,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: $scope.model\n\t\t\t\t\t},\n\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t$scope.isFinished($scope.item)\n\t\t\t\t\t\t\t\t? 'Atendimento reaberto com sucesso.'\n\t\t\t\t\t\t\t\t: 'Transferido com sucesso.',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t$scope.isFinished($scope.item)\n\t\t\t\t\t\t\t\t? 'Desculpe, estamos com dificuldades para reabrir o atendimento.'\n\t\t\t\t\t\t\t\t: 'Desculpe, estamos com dificuldades para realizar a transferncia.',\n\t\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: submitSuccess,\n\t\t\t\t\terror: submitError\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar setFields = function(fields){\n\n\t\t\t\t$scope.fields = [];\n\n\t\t\t\tanaproFormlyFactory.createFormlyFieldsFromAPI(\n\t\t\t\t\tfields,\n\t\t\t\t\t$scope.fields,\n\t\t\t\t\t{\n\t\t\t\t\t\tmerge: {\n\t\t\t\t\t\t\tatendimentoActionTransferOpcaoAvancado: {\n\t\t\t\t\t\t\t\ttype: 'hidden'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoTipoDirecionamento: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\thideExpression: function(newValue, oldValue, scope, field){\n\t\t\t\t\t\t\t\t\treturn field.options.templateOptions.options.length === 1;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tonChange: function(){\n\t\t\t\t\t\t\t\t\t\tsetLastSelectedUser();\n\t\t\t\t\t\t\t\t\t\tupdate();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'layout': 'row'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoActionTransferAtenderAutomaticamente: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\thideExpression: function(newValue, oldValue, scope, field){\n\n\t\t\t\t\t\t\t\t\tvar sameCurrentUser = $scope.model.usuarioIdGuid == userProfile.id;\n\n\t\t\t\t\t\t\t\t\tif(sameCurrentUser){\n\t\t\t\t\t\t\t\t\t\tvar options = field.options.templateOptions.options;\n\t\t\t\t\t\t\t\t\t\tvar value = options[options.length-1].value;\n\t\t\t\t\t\t\t\t\t\tfield.model[field.options.key] = value;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn sameCurrentUser;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'layout': 'row'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoConfirmacaoProspectFidelizado: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'layout': 'row'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tusuarioIdGuid: {\n\t\t\t\t\t\t\t\ttype: 'nya-select',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tcustomDesc: '{{name}}, <strong>{{properties.usuarioApelido}}</strong><br />{{properties.usuarioEmail}}'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\thint: 'Se o usurio no estiver na lista,  porque ele no pertence  campanha e canal selecionados. Para alterar acesse as opes avanadas.'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tusuarioSeguidoresIdGuids: {\n\t\t\t\t\t\t\t\ttype: 'nya-select',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tmultiple: true,\n\t\t\t\t\t\t\t\t\tcustomDesc: '{{name}}, <strong>{{properties.usuarioApelido}}</strong><br />{{properties.usuarioEmail}}'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcampanhaIdGuid: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tonChange: function(){\n\n\t\t\t\t\t\t\t\t\t\tsetLastSelectedUser();\n\t\t\t\t\t\t\t\t\t\tdelete $scope.model.canalIdGuid;\n\t\t\t\t\t\t\t\t\t\tdelete $scope.model.produtoIdGuid;\n\n\t\t\t\t\t\t\t\t\t\tupdate();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcanalIdGuid: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tonChange: function(){\n\n\t\t\t\t\t\t\t\t\t\tsetLastSelectedUser();\n\t\t\t\t\t\t\t\t\t\tdelete $scope.model.produtoIdGuid;\n\n\t\t\t\t\t\t\t\t\t\tupdate();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprodutoIdGuid: {\n\t\t\t\t\t\t\t\ttype: 'nya-select',\n\t\t\t\t\t\t\t\tclassName: 'nya-position-top',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tobservacao: {\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tanaproFormlyFactory.setFieldsOrder(\n\t\t\t\t\t$scope.fields,\n\t\t\t\t\t[\n\t\t\t\t\t\t'atendimentoTipoDirecionamento',\n\t\t\t\t\t\t'usuarioIdGuid'\n\t\t\t\t\t]\n\t\t\t\t);\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\tif(itemOwnerIsSameCurrentUser === null){\n\t\t\t\t\t\titemOwnerIsSameCurrentUser = !$scope.model.usuarioIdGuid;\n\t\t\t\t\t}\n\n\t\t\t\t\tpickLastSelectedUser($scope.fields);\n\n\t\t\t\t},0);\n\n\t\t\t};\n\n\t\t\t$scope.setAdvanced = function(){\n\t\t\t\t$scope.model.atendimentoActionTransferOpcaoAvancado = true;\n\t\t\t\tupdate();\n\t\t\t};\n\n\t\t\tvar lastSelectedUser;\n\n\t\t\tvar setLastSelectedUser = function(){\n\t\t\t\tlastSelectedUser = $scope.model.usuarioIdGuid || lastSelectedUser || null;\n\t\t\t\tdelete $scope.model.usuarioIdGuid;\n\t\t\t};\n\n\t\t\tvar pickLastSelectedUser = function(fields){\n\n\t\t\t\tif(lastSelectedUser){\n\t\t\t\t\tfields.map(function(field){\n\t\t\t\t\t\tif(field.key == 'usuarioIdGuid'){\n\t\t\t\t\t\t\t(field.templateOptions.options || []).map(function(option){\n\t\t\t\t\t\t\t\tif(option.value == lastSelectedUser){\n\t\t\t\t\t\t\t\t\t$scope.model.usuarioIdGuid = lastSelectedUser;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar update = function(){\n\n\t\t\t\tvar model = angular.copy($scope.model);\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\taction: 'transfer',\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\titem: $scope.item,\n\t\t\t\t\tparams: {filters: JSON.stringify(model)},\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\tsetFields(response.data.filters);\n\t\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t},\n\t\t\t\t\terror: delegateHide\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tupdate();\n\n\t\t}\n\t)\n\n\t.directive('transactionTransfer', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'transaction-transfer/transaction-transfer.html',\n\t\t\tcontroller: 'TransactionTransferController',\n\t\t\tscope: {\n\t\t\t\tdelegate: '=?',\n\t\t\t\titem: '='\n\t\t\t}\n\t\t};\n\t})\n\n\t.factory(\n\t\t'transactionTransferFactory',\n\n\t\tfunction($modal){\n\n\t\t\tvar show = function(attrs){\n\n\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t$modal({\n\t\t\t\t\ttemplateUrl: 'transaction-transfer/transaction-transfer-modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tcontroller: function($scope, transactionsService){\n\t\t\t\t\t\t$scope.item = attrs.item;\n\t\t\t\t\t\t$scope.delegate = attrs.delegate;\n\t\t\t\t\t\t$scope.isOnQueue = transactionsService.isOnQueue;\n\t\t\t\t\t\t$scope.isFinished = transactionsService.isFinished;\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function(){\n\n\t\t\t\t\t\tif(attrs.delegate.hide){\n\t\t\t\t\t\t\tattrs.delegate.hide();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tshow: show\n\t\t\t};\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.user-position-in-queues.channel-position-in-queue',[])\n\n\t.controller(\n\t\t'ChannelPositionInQueueController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$modal,\n\t\t\tpath\n\t\t){\n\n\t\t\t$scope.showQueue = function(item){\n\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\tpath.get('queues-handler-position').withItem(item)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\t$scope.showRules = function(){\n\t\t\t\t$modal({\n\t\t\t\t\ttemplateUrl: 'user-position-in-queues/rules-modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tscope: $scope\n\t\t\t\t});\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('channelPositionInQueue', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\treplace: true,\n\t\t\tcontroller: 'ChannelPositionInQueueController',\n\t\t\tscope: {\n\t\t\t\titem: '=',\n\t\t\t\tqueueName: '='\n\t\t\t},\n\t\t\ttemplateUrl: 'user-position-in-queues/channel-position-in-queue.html'\n\t\t};\n\t});\n\n})();\n","\r\n'use strict';\r\n\r\n(function(){\r\n\r\n\tangular.module('directives.user-position-in-queues',[\r\n\t\t'directives.user-position-in-queues.channel-position-in-queue'\r\n\t])\r\n\r\n\t.controller(\r\n\t\t'UserPositionInQueuesController',\r\n\r\n\t\tfunction(\r\n\t\t\t$scope,\r\n\t\t\tuserStatusLabels,\r\n\t\t\tpermission,\r\n\t\t\tuserStatusFactory,\r\n\t\t\tnotificationCenterPositionInQueues\r\n\t\t){\r\n\r\n\t\t\t$scope.data = [];\r\n\r\n\t\t\tvar dispatchCallbackAttrs = {\r\n\t\t\t\tsuccess: function(data){\r\n\r\n\t\t\t\t\t$scope.data = data;\r\n\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tnotificationCenterPositionInQueues.dispatchCallback(dispatchCallbackAttrs);\r\n\r\n\t\t\t$scope.hasQueues = function(){\r\n\r\n\t\t\t\tvar hasQueues = false;\r\n\r\n\t\t\t\tfor(var i=0; i<$scope.data.length; i++){\r\n\r\n\t\t\t\t\tif($scope.isChannelQueueVisible($scope.data[i].channelProperties.channel)){\r\n\t\t\t\t\t\thasQueues = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn hasQueues;\r\n\r\n\t\t\t};\r\n\r\n\t\t\tvar channelLabelPreprositions = {\r\n\t\t\t\t'chat' : 'do',\r\n\t\t\t\t'phone': 'da',\r\n\t\t\t\t'others': 'de'\r\n\t\t\t};\r\n\r\n\t\t\t$scope.getChannelLabel = function(channel){\r\n\t\t\t\treturn channelLabelPreprositions[channel]\r\n\t\t\t\t\t+ ' '\r\n\t\t\t\t\t+ userStatusLabels[channel];\r\n\t\t\t};\r\n\r\n\t\t\t$scope.isChannelQueueVisible = function(channel){\r\n\t\t\t\treturn userStatusFactory.isOnline(channel)\r\n\t\t\t\t||\r\n\t\t\t\tuserStatusFactory.isPaused(channel);\r\n\t\t\t};\r\n\r\n\t\t\t$scope.$on(\r\n\t\t\t\t'$destroy',\r\n\t\t\t\tfunction(){\r\n\t\t\t\t\t// prevent memory leaks\r\n\t\t\t\t\tdispatchCallbackAttrs.success = null;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t}\r\n\t)\r\n\r\n\t.directive('userPositionInQueues', function(){\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tscope: {},\r\n\t\t\ttemplateUrl: 'user-position-in-queues/user-position-in-queues.html',\r\n\t\t\tcontroller: 'UserPositionInQueuesController'\r\n\t\t};\r\n\t});\r\n\r\n})();\r\n","\r\n'use strict';\r\n\r\n(function(){\r\n\r\n\tangular.module('directives.user-status-bullet',[])\r\n\r\n\t.factory(\r\n\t\t'UserStatusBulletFactory',\r\n\t\tfunction(){\r\n\r\n\t\t\tvar popovers = [];\r\n\r\n\t\t\tvar hideAll = function(){\r\n\t\t\t\tpopovers.map(function(popover){\r\n\t\t\t\t\tpopover.hide();\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tvar putPopover = function(popover){\r\n\t\t\t\tpopovers.push(popover);\r\n\t\t\t};\r\n\r\n\t\t\treturn {\r\n\t\t\t\tputPopover: putPopover,\r\n\t\t\t\thideAll: hideAll\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t)\r\n\r\n\t.controller(\r\n\t\t'UserStatusBulletController',\r\n\r\n\t\tfunction(\r\n\t\t\t$scope,\r\n\t\t\t$element,\r\n\t\t\t$timeout,\r\n\t\t\t$popover,\r\n\t\t\t$attrs,\r\n\t\t\tUserStatusBulletFactory,\r\n\t\t\tuserStatusFactory,\r\n\t\t\tuserStatusLabels\r\n\t\t){\r\n\r\n\t\t\t$scope.getChannelValueLabel = function(channel){\r\n\t\t\t\treturn userStatusFactory.getChannelValueLabel(channel);\r\n\t\t\t};\r\n\r\n\t\t\tvar listAllChannels = typeof $attrs.list != 'undefined';\r\n\r\n\t\t\t$scope.listAllChannels = function(){\r\n\t\t\t\treturn listAllChannels;\r\n\t\t\t};\r\n\r\n\t\t\t$scope.getClass = function(){\r\n\r\n\t\t\t\tvar overall = userStatusFactory.get().overall;\r\n\r\n\t\t\t\treturn angular.merge(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tswitchers: !!$scope.switchers || $element.attr('switchers') === ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\toverall\r\n\t\t\t\t\t\t? {online: true}\r\n\t\t\t\t\t\t: {offline: true}\r\n\t\t\t\t);\r\n\r\n\t\t\t};\r\n\r\n\t\t\t$scope.getChannelClass = function(channel){\r\n\r\n\t\t\t\tif(userStatusFactory.isDisabled(channel)){\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tdisabled: true\r\n\t\t\t\t\t};\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\toffline: userStatusFactory.isOffline(channel),\r\n\t\t\t\t\t\tonline: userStatusFactory.isOnline(channel),\r\n\t\t\t\t\t\tpaused: userStatusFactory.isPaused(channel),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t};\r\n\r\n\t\t\t$scope.getChannelLabel = function(channel){\r\n\t\t\t\treturn userStatusLabels[channel];\r\n\t\t\t};\r\n\r\n\t\t\t$scope.canUserChangeChannelStatus = function(channel){\r\n\t\t\t\treturn userStatusFactory.canUserChange(channel);\r\n\t\t\t};\r\n\r\n\t\t\t$scope.layout = $attrs.layout;\r\n\r\n\t\t\tif(listAllChannels){\r\n\t\t\t\t$scope.allUserStatus = userStatusFactory.get();\r\n\t\t\t}\r\n\r\n\t\t\tif($scope.switchers || $element.attr('switchers') === ''){\r\n\t\t\t\t$timeout(function(){\r\n\r\n\t\t\t\t\tUserStatusBulletFactory.putPopover(\r\n\t\t\t\t\t\t$popover(\r\n\t\t\t\t\t\t\tangular.element($element[0].querySelector('div')),\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tscope: $scope,\r\n\t\t\t\t\t\t\t\ttitle: 'Status nos canais',\r\n\t\t\t\t\t\t\t\tcontentTemplate: 'user-status/user-status-switchers-popover.html',\r\n\t\t\t\t\t\t\t\ttrigger: 'click',\r\n\t\t\t\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\t\t\t\tanimation: 'am-flip-x',\r\n\t\t\t\t\t\t\t\tplacement: 'bottom-left',\r\n\t\t\t\t\t\t\t\tonBeforeShow: UserStatusBulletFactory.hideAll\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t},0);\r\n\t\t\t}\r\n\r\n\t\t\t$scope.getNextPositionInQueues = function(channel){\r\n\r\n\t\t\t\tvar position = userStatusFactory.getNextPositionInQueues(channel);\r\n\r\n\t\t\t\tif(/string|number/.test(typeof position)){\r\n\t\t\t\t\treturn '[' + position + ']';\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn '';\r\n\r\n\t\t\t};\r\n\r\n\t\t}\r\n\t)\r\n\r\n\t.directive('userStatusBullet', function(\r\n\t\tuserStatusFactory\r\n\t){\r\n\r\n\t\tvar compile = function(){\r\n\r\n\t\t\treturn {\r\n\r\n\t\t\t\t// remove bullet status if there is not any available channel\r\n\t\t\t\tpre: function(scope, iElement){\r\n\t\t\t\t\tif(userStatusFactory.get().noChannelsAvailable){\r\n\t\t\t\t\t\tiElement.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tcompile: compile,\r\n\t\t\tscope: {\r\n\t\t\t\tswitchers: '=',\r\n\t\t\t\tlist: '='\r\n\t\t\t},\r\n\t\t\t// replace: true,\r\n\t\t\ttemplateUrl: 'user-status/user-status-bullet.html',\r\n\t\t\tcontroller: 'UserStatusBulletController'\r\n\t\t};\r\n\t});\r\n\r\n})();\r\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.user-status-switchers',[])\n\n\t.run(function(formlyConfig){\n\n\t\tformlyConfig.setWrapper([\n\t\t\t{\n\t\t\t\tname: 'user-status-switchers-formly-wrapper',\n\t\t\t\ttemplateUrl: 'user-status/user-status-switchers-formly-wrapper.html'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'user-status-switcher-formly-wrapper-additional-options',\n\t\t\t\ttemplateUrl: 'user-status/user-status-switcher-formly-wrapper-additional-options.html'\n\t\t\t}\n\t\t]);\n\n\t})\n\n\t.controller(\n\t\t'UserStatusSwitchersController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$filter,\n\t\t\taudioFactory,\n\t\t\tpath,\n\t\t\tuserStatusFactory,\n\t\t\ttoastrFactory,\n\t\t\tusersService,\n\t\t\tuserStatusBroadcastName,\n\t\t\tuserStatusLabels,\n\t\t\tuserStatusValuesProperties\n\t\t){\n\n\t\t\tvar additionalOptions = {\n\t\t\t\tphone: []\n\t\t\t};\n\n\t\t\tvar setStatuses = function(){\n\t\t\t\t$scope.statuses = userStatusFactory.get();\n\t\t\t};\n\n\t\t\tvar set = function(channel, value, additionalOption){\n\n\t\t\t\tuserStatusFactory.set(channel, value, additionalOption);\n\n\t\t\t\tif(channel == 'chat' && value == userStatusValuesProperties.online.status){\n\t\t\t\t\taudioFactory.play('system');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar switchOnClick = function(event, options){\n\n\t\t\t\tvar channelProperties = userStatusFactory.getChannelProperties(options.key);\n\n\t\t\t\tif(channelProperties.additionalOption){\n\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tif(options.value() == userStatusValuesProperties.offline.status){\n\t\t\t\t\t\toptions.data.selectAdditionalOption = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\toptions.data.selectAdditionalOption = false;\n\t\t\t\t\t\tset(options.key, userStatusValuesProperties.offline.status);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif(options.templateOptions.disabled){\n\t\t\t\t\ttoastrFactory.warn({\n\t\t\t\t\t\ttitle: 'Desculpe',\n\t\t\t\t\t\tmessage: 'Voc precisa estar vinculado a um grupo com permisso para atender o Chat',\n\t\t\t\t\t\tautoDismiss: true\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar showValues = function(key){\n\t\t\t\treturn userStatusFactory.getChannelValueLabel(key);\n\t\t\t};\n\n\t\t\tvar fieldControllerDefault = function($scope){\n\n\t\t\t\tvar channel = $scope.options.key;\n\n\t\t\t\t// var channelServiceData = userStatusFactory.getChannelServiceData(channel);\n\t\t\t\tvar channelProperties = userStatusFactory.getChannelProperties(channel);\n\n\t\t\t\t$scope.getAdditionalOptions = function(){\n\t\t\t\t\treturn additionalOptions[channel];\n\t\t\t\t};\n\n\t\t\t\t$scope.cancelAdditionalOption = function(){\n\t\t\t\t\t$scope.options.data.selectAdditionalOption = false;\n\t\t\t\t};\n\n\t\t\t\t$scope.addAdditionalOption = function(){\n\n\t\t\t\t\t$scope.options.data.selectAdditionalOption = false;\n\n\t\t\t\t\tswitch(channel) {\n\n\t\t\t\t\t\tcase 'phone':\n\t\t\t\t\t\t\t$rootScope.mainController.go(path.getPath('user-profile'));\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\t$scope.showValues = function(){\n\t\t\t\t\treturn showValues(channel);\n\t\t\t\t};\n\n\t\t\t\t$scope.setChannelWithAdditionalOption = function(item){\n\n\t\t\t\t\tvar additionalOption = {};\n\t\t\t\t\tadditionalOption[channelProperties.additionalOption] = item;\n\n\t\t\t\t\tset(\n\t\t\t\t\t\t$scope.options.key,\n\t\t\t\t\t\tuserStatusValuesProperties.online.status,\n\t\t\t\t\t\tadditionalOption\n\t\t\t\t\t);\n\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$scope.options.data.selectAdditionalOption = false;\n\t\t\t\t\t},200);\n\n\t\t\t\t};\n\n\t\t\t\t$scope.hasAdditionalOptions = !!additionalOptions[channel];\n\n\t\t\t};\n\n\t\t\tvar fieldControllerWhenChannelHasPauseStatus = function($scope){\n\n\t\t\t\tvar channel = $scope.options.key;\n\n\t\t\t\t$scope.hasAdditionalOptions = false;\n\n\t\t\t\t$scope.showToggleButton = function(){\n\t\t\t\t\treturn !userStatusFactory.isDisabled(channel)\n\t\t\t\t\t\t&&\n\t\t\t\t\t\t!userStatusFactory.isOffline(channel);\n\t\t\t\t};\n\n\t\t\t\t$scope.showValues = function(){\n\t\t\t\t\treturn showValues(channel);\n\t\t\t\t};\n\n\t\t\t\t$scope.pauseToggle = function(){\n\n\t\t\t\t\tvar status = userStatusFactory.isPaused(channel)\n\t\t\t\t\t\t? userStatusValuesProperties.online.status\n\t\t\t\t\t\t: userStatusValuesProperties.paused.status\n\t\t\t\t\t;\n\n\t\t\t\t\tconsole.log('status pauseToggle', channel, status);\n\n\t\t\t\t\tset(channel, status);\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tvar setFields = function(){\n\n\t\t\t\tif(!$scope.fields){\n\n\t\t\t\t\t$scope.fields = [];\n\n\t\t\t\t\tObject.keys($scope.statuses.channels).map(function(key){\n\n\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t($scope.switchers && $scope.switchers[key] || !$scope.switchers)\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\tuserStatusFactory.canUserChange(key)\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\t$scope.fields.push(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'anaproSwitch',\n\t\t\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\t\t\tcontroller: userStatusFactory.canBePaused(key)\n\t\t\t\t\t\t\t\t\t\t?\tfieldControllerWhenChannelHasPauseStatus\n\t\t\t\t\t\t\t\t\t\t: fieldControllerDefault,\n\t\t\t\t\t\t\t\t\twrapper: (function(){\n\n\t\t\t\t\t\t\t\t\t\tvar wrappers = ['user-status-switcher-formly-wrapper-additional-options'];\n\n\t\t\t\t\t\t\t\t\t\tif(userStatusFactory.canBePaused(key)){\n\t\t\t\t\t\t\t\t\t\t\twrappers.splice(0, 0, 'user-status-switchers-formly-wrapper');\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn wrappers;\n\n\t\t\t\t\t\t\t\t\t})(),\n\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\tlabel: userStatusLabels[key],\n\t\t\t\t\t\t\t\t\t\tonChange: function(value, field){\n\t\t\t\t\t\t\t\t\t\t\tset(field.key, value);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tcustomTrueValue: '\\'' + userStatusValuesProperties.online.status + '\\'',\n\t\t\t\t\t\t\t\t\t\tcustomFalseValue: '\\'' + userStatusValuesProperties.offline.status + '\\''\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\texpressionProperties: {\n\t\t\t\t\t\t\t\t\t\t'templateOptions.disabled': '$modelValue == \\'' + userStatusValuesProperties.disabled.status + '\\'',\n\t\t\t\t\t\t\t\t\t\t'templateOptions.paused': '$modelValue == \\'' + userStatusValuesProperties.paused.status + '\\'',\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\tonclick: switchOnClick\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar setPhoneNumbers = function(){\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\tadditionalOptions.phone = response.data.fields.usuario.usuarioTelefones;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsetPhoneNumbers();\n\t\t\tsetStatuses();\n\t\t\tsetFields();\n\n\t\t\t$rootScope.$on(userStatusBroadcastName, function(){\n\t\t\t\tconsole.log('directives.user-status-switchers.$on.user-status');\n\t\t\t\tsetStatuses();\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive('userStatusSwitchers', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tswitchers: '='\n\t\t\t},\n\t\t\ttemplateUrl: 'user-status/user-status-switchers.html',\n\t\t\tcontroller: 'UserStatusSwitchersController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.view-title',[])\n\n\t.controller(\n\t\t'ViewTitleController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\n\t\t\tif($scope.extra && $scope.extra.constructor.name != 'Array'){\n\t\t\t\t$scope.extra = [$scope.extra];\n\t\t\t}\n\n\t\t}\n\t)\n\n\t.directive('viewTitle', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tlink: function(scope, element, attrs){\n\t\t\t\tattrs.$set('title', null);\n\t\t\t},\n\t\t\tscope: {\n\t\t\t\ttitle: '=',\n\t\t\t\tsubtitle: '=',\n\t\t\t\tdesc: '=',\n\t\t\t\textra: '='\n\t\t\t},\n\t\t\ttemplateUrl: 'view-title/view-title.html',\n\t\t\tcontroller: 'ViewTitleController',\n\t\t\ttransclude: true\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly.examples',[])\n\n\t.controller(\n\t\t'FormlyExamplesController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$filter,\n\t\t\tanaproFormlyFactory\n\t\t){\n\n\t\t\t$scope.formBOptions = {};\n\n\t\t\t$scope.submit = function(){\n\t\t\t\tif($scope.formB.$valid){\n\t\t\t\t\tconsole.info(\n\t\t\t\t\t\t'Submitting...',\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t$scope.formB,\n\t\t\t\t\t\t\t$scope.filterModel\n\t\t\t\t\t\t]\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.reset = function(){\n\t\t\t\t// $scope.formBOptions.resetModel();\n\t\t\t\tanaproFormlyFactory.resetModel(\n\t\t\t\t\t$scope.formlyFields,\n\t\t\t\t\t$scope.filterModel\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar item = {\n\t\t\t\tdate: '2017-09-09T09:00:00',\n\t\t\t\ttime: '2017-08-08T08:00:00',\n\t\t\t\tmasked: '03042001',\n\t\t\t\taddress: {\n\t\t\t\t\t'TESTEprospectEnderecoLogradouro': 'Rua Piratininga',\n\t\t\t\t\t'TESTEprospectEnderecoNumero': '431',\n\t\t\t\t\t'TESTEprospectEnderecoBairroId': 24032,\n\t\t\t\t\t'TESTEprospectEnderecoBairroNome': 'Brs',\n\t\t\t\t\t'TESTEprospectEnderecoUF': 'SP',\n\t\t\t\t\t'TESTEprospectEnderecoCidadeId': 8860,\n\t\t\t\t\t'TESTEprospectEnderecoCidadeNome': 'So Paulo',\n\t\t\t\t\t'TESTEprospectEnderecoCEP': '03042001',\n\t\t\t\t\t'TESTEprospectEnderecoComplemento': 'ABCD'\n\t\t\t\t},\n\t\t\t\taddressMultiInput: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 123,\n\t\t\t\t\t\t// addressObj: {\n\t\t\t\t\t\t'prospectEnderecoLogradouro': 'Rua Piratininga',\n\t\t\t\t\t\t'prospectEnderecoNumero': '111',\n\t\t\t\t\t\t'prospectEnderecoBairroId': 24032,\n\t\t\t\t\t\t'prospectEnderecoBairroNome': 'Brs',\n\t\t\t\t\t\t'prospectEnderecoUF': 'SP',\n\t\t\t\t\t\t'prospectEnderecoCidadeId': 8860,\n\t\t\t\t\t\t'prospectEnderecoCidadeNome': 'So Paulo',\n\t\t\t\t\t\t'prospectEnderecoCEP': '03042001'\n\t\t\t\t\t\t// }\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 456,\n\t\t\t\t\t\t// addressObj: {\n\t\t\t\t\t\t'prospectEnderecoLogradouro': 'Rua Piratininga',\n\t\t\t\t\t\t'prospectEnderecoNumero': '222',\n\t\t\t\t\t\t'prospectEnderecoBairroId': 24032,\n\t\t\t\t\t\t'prospectEnderecoBairroNome': 'Brs',\n\t\t\t\t\t\t'prospectEnderecoUF': 'SP',\n\t\t\t\t\t\t'prospectEnderecoCidadeId': 8860,\n\t\t\t\t\t\t'prospectEnderecoCidadeNome': 'So Paulo',\n\t\t\t\t\t\t'prospectEnderecoCEP': '03042001'\n\t\t\t\t\t\t// }\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tphonesMultiInput: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\tphoneNumber: '1133334444'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 2,\n\t\t\t\t\t\tphoneNumber: '1133335555'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 3,\n\t\t\t\t\t\tphoneNumber: '1133335555'\n\t\t\t\t\t},\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 4,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 5,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 6,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 7,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 8,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 9,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 10,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 11,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 12,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 13,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 14,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 15,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 16,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 17,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 18,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// },\n\t\t\t\t\t// {\n\t\t\t\t\t// \tid: 19,\n\t\t\t\t\t// \tphoneNumber: '1133335555'\n\t\t\t\t\t// }\n\t\t\t\t],\n\t\t\t\tcontactMultiInput: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: '123',\n\t\t\t\t\t\tcod: '112233',\n\t\t\t\t\t\tname: 'Client A'\n\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: '456',\n\t\t\t\t\t\tcod: '776655',\n\t\t\t\t\t\tname: 'Client B'\n\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tdocumentsMultiInput: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\ttype: 'CPF',\n\t\t\t\t\t\tcpfNumber: '50260466069'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 2,\n\t\t\t\t\t\ttype: 'CNPJ',\n\t\t\t\t\t\tcnpjNumber: '65042630000174'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tdocumentsMultiInputUniqueType: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\ttype: 'CPF',\n\t\t\t\t\t\tcpfNumber: '50260466069'\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t};\n\n\t\t\t$scope.filterModel = {\n\t\t\t\tamounts: {}\n\t\t\t};\n\n\t\t\t$scope.formlyFields = [\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'input',\n\t\t\t\t// \tkey: 'text-row',\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'layout': 'row'\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Input row',\n\t\t\t\t// \t\trequired: true\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'anaproCheckbox',\n\t\t\t\t// \tkey: 'chk',\n\t\t\t\t// \tdefaultValue: true,\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Input row',\n\t\t\t\t// \t\trequired: true\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'nya-select',\n\t\t\t\t// \tkey: 'select-async',\n\t\t\t\t// \tdata: {\n\t\t\t\t// \t\tasync: {\n\t\t\t\t// \t\t\tresource: 'utilsOccupations'\n\t\t\t\t// \t\t}\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Async select',\n\t\t\t\t// \t\trequired: true,\n\t\t\t\t// \t\toptions: [],\n\t\t\t\t// \t\ticon: 'users2'\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'nya-select',\n\t\t\t\t// \tkey: 'multiselect-async1',\n\t\t\t\t// \tdefaultValue: [\n\t\t\t\t// \t\t'13D99AA9-AD76-45DF-8726-E4E2A7532E94',\n\t\t\t\t// \t\t'7AA0E863-30DB-4286-914C-35F12BA96342',\n\t\t\t\t// \t\t'ED7E961A-674F-4A18-A53C-870A06BD45E9',\n\t\t\t\t// \t\t'3094976B-2C66-4358-B192-46CE3860E2C6',\n\t\t\t\t// \t\t'B4693D9D-64EE-4415-9117-A8F1E629963A',\n\t\t\t\t// \t\t'3C61D471-26D7-4E22-93B2-A01F84C85A47',\n\t\t\t\t// \t\t'6B4829C3-ED25-4C4B-93C8-92F0F58FBE62',\n\t\t\t\t// \t\t'F2617FC7-232F-4E98-906C-D386FFE23E64',\n\t\t\t\t// \t\t'D9243CC9-B27B-4A3C-AB3F-3024DD2A27E6',\n\t\t\t\t// \t\t'5F09DEF2-CFD5-4093-907D-28E3B221F7F0',\n\t\t\t\t// \t\t'65E597DD-DFF8-42EC-91F9-15073FEADDC5',\n\t\t\t\t// \t\t'781EEE68-9318-45A0-BF72-A299B5676EB9'\n\t\t\t\t// \t],\n\t\t\t\t// \tdata: {\n\t\t\t\t// \t\tasync: {\n\t\t\t\t// \t\t\tresource: 'utilsOccupations'\n\t\t\t\t// \t\t},\n\t\t\t\t// \t\tmultiple: true\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Async multi select',\n\t\t\t\t// \t\trequired: true,\n\t\t\t\t// \t\toptions: []\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'nya-select',\n\t\t\t\t// \tkey: 'multiselect-async2',\n\t\t\t\t// \tdefaultValue: [\n\t\t\t\t// \t\t'13D99AA9-AD76-45DF-8726-E4E2A7532E94',\n\t\t\t\t// \t\t'7AA0E863-30DB-4286-914C-35F12BA96342',\n\t\t\t\t// \t\t'ED7E961A-674F-4A18-A53C-870A06BD45E9',\n\t\t\t\t// \t\t'3094976B-2C66-4358-B192-46CE3860E2C6',\n\t\t\t\t// \t\t'B4693D9D-64EE-4415-9117-A8F1E629963A',\n\t\t\t\t// \t\t'3C61D471-26D7-4E22-93B2-A01F84C85A47',\n\t\t\t\t// \t\t'6B4829C3-ED25-4C4B-93C8-92F0F58FBE62',\n\t\t\t\t// \t\t'F2617FC7-232F-4E98-906C-D386FFE23E64',\n\t\t\t\t// \t\t'D9243CC9-B27B-4A3C-AB3F-3024DD2A27E6',\n\t\t\t\t// \t\t'5F09DEF2-CFD5-4093-907D-28E3B221F7F0',\n\t\t\t\t// \t\t'65E597DD-DFF8-42EC-91F9-15073FEADDC5',\n\t\t\t\t// \t\t'781EEE68-9318-45A0-BF72-A299B5676EB9'\n\t\t\t\t// \t],\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'layout': 'row'\n\t\t\t\t// \t},\n\t\t\t\t// \tdata: {\n\t\t\t\t// \t\tasync: {\n\t\t\t\t// \t\t\tresource: 'utilsOccupations'\n\t\t\t\t// \t\t},\n\t\t\t\t// \t\tmultiple: true\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Async multi select',\n\t\t\t\t// \t\ticon: 'users2',\n\t\t\t\t// \t\trequired: true,\n\t\t\t\t// \t\toptions: [],\n\t\t\t\t// \t\thint: 'Selecione alguns itens.'\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'select-async',\n\t\t\t\t// \tkey: 'states-async',\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'flex': '25'\n\t\t\t\t// \t},\n\t\t\t\t// \tdata: {\n\t\t\t\t// \t\tasync: {\n\t\t\t\t// \t\t\tresource: 'utilsStates'\n\t\t\t\t// \t\t}\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Async select',\n\t\t\t\t// \t\trequired: true,\n\t\t\t\t// \t\toptions: []\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \tkey: 'masked',\n\t\t\t\t// \ttype: 'maskedInput',\n\t\t\t\t// \tdefaultValue: item.masked,\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'CEP Mask',\n\t\t\t\t// \t\tmask: '99999-999',\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \tkey: 'date',\n\t\t\t\t// \ttype: 'anaproDate',\n\t\t\t\t// \tdefaultValue: item.date,\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'flex': '25'\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Data',\n\t\t\t\t// \t\tmin: $filter('date')(new Date(), 'yyyy-MM-dd'),\n\n\t\t\t\t// \t\t// validators and dateFormat must be same mask/format\n\t\t\t\t// \t\tmax: $filter('date')(\n\t\t\t\t// \t\t\tnew Date(new Date().setDate(new Date().getDate() + 15)),\n\t\t\t\t// \t\t\t'yyyy-MM-ddT00:00:00'\n\t\t\t\t// \t\t),\n\t\t\t\t// \t\tdateFormat: 'yyyy-MM-ddT00:00:00'\n\n\t\t\t\t// \t},\n\t\t\t\t// \t// validation: {\n\t\t\t\t// \t// \tmessages: {\n\t\t\t\t// \t// \t\tmin: function(){\n\t\t\t\t// \t// \t\t\treturn 'A data precisa ser igual ou maior que hoje.';\n\t\t\t\t// \t// \t\t}\n\t\t\t\t// \t// \t}\n\t\t\t\t// \t// }\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \tkey: 'time',\n\t\t\t\t// \ttype: 'anaproTime',\n\t\t\t\t// \tdefaultValue: item.time,\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'flex': '25'\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Hora',\n\t\t\t\t// \t\tmin: '10:00',\n\t\t\t\t// \t\tmax: '16:00'\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \tkey: 'datetime',\n\t\t\t\t// \ttype: 'anaproDateTime',\n\t\t\t\t// \tdefaultValue: $filter('date')(\n\t\t\t\t// \t\tnew Date(new Date().setHours(new Date().getHours() + 2)),\n\t\t\t\t// \t\t'yyyy-MM-ddTHH:00:00'\n\t\t\t\t// \t),\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'flex': '75'\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Data e Hora',\n\t\t\t\t// \t\trequired: true,\n\t\t\t\t// \t\tmin: $filter('date')(new Date(),'yyyy-MM-ddTHH:mm:00'),\n\t\t\t\t// \t\tmax: $filter('date')(\n\t\t\t\t// \t\t\tnew Date(new Date().setDate(new Date().getDate() + 15)),\n\t\t\t\t// \t\t\t'yyyy-MM-ddT00:00:00'\n\t\t\t\t// \t\t)\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \tkey: 'address',\n\t\t\t\t// \ttype: 'address',\n\t\t\t\t// \tdefaultValue: item.address,\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'flex': '75'\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Endereo'\n\t\t\t\t// \t},\n\t\t\t\t// \tdata: {\n\t\t\t\t// \t\tproperties: {\n\t\t\t\t// \t\t\tzipcode: 'TESTEprospectEnderecoCEP',\n\t\t\t\t// \t\t\tstreet: 'TESTEprospectEnderecoLogradouro',\n\t\t\t\t// \t\t\tnumber: 'TESTEprospectEnderecoNumero',\n\t\t\t\t// \t\t\tneighborhoodId: 'TESTEprospectEnderecoBairroId',\n\t\t\t\t// \t\t\tneighborhood: 'TESTEprospectEnderecoBairroNome',\n\t\t\t\t// \t\t\tstate: 'TESTEprospectEnderecoUF',\n\t\t\t\t// \t\t\tcityId: 'TESTEprospectEnderecoCidadeId',\n\t\t\t\t// \t\t\tcity: 'TESTEprospectEnderecoCidadeNome',\n\t\t\t\t// \t\t\tstreet2: 'TESTEprospectEnderecoComplemento',\n\t\t\t\t// \t\t\tinfo: 'TESTEprospectEnderecoObs'\n\t\t\t\t// \t\t}\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\tkey: 'addressMultiInput',\n\t\t\t\t\tdefaultValue: item.addressMultiInput,\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex': '50'\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'id',\n\t\t\t\t\t\taddLabel: '+',\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// key: 'addressObj',\n\t\t\t\t\t\t\t\ttype: 'address',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tngModelElAttrs: {\n\t\t\t\t\t\t\t\t\t'ng-readonly': 'to.readonly'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\texpressionProperties: {\n\t\t\t\t\t\t\t\t\t'templateOptions.readonly': function(currentValue, newValue, scope){\n\t\t\t\t\t\t\t\t\t\treturn !!scope.model.id;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tzipcode: 'prospectEnderecoCEP',\n\t\t\t\t\t\t\t\t\t\tstreet: 'prospectEnderecoLogradouro',\n\t\t\t\t\t\t\t\t\t\tnumber: 'prospectEnderecoNumero',\n\t\t\t\t\t\t\t\t\t\tneighborhoodId: 'prospectEnderecoBairroId',\n\t\t\t\t\t\t\t\t\t\tneighborhood: 'prospectEnderecoBairroNome',\n\t\t\t\t\t\t\t\t\t\tstate: 'prospectEnderecoUF',\n\t\t\t\t\t\t\t\t\t\tcityId: 'prospectEnderecoCidadeId',\n\t\t\t\t\t\t\t\t\t\tcity: 'prospectEnderecoCidadeNome',\n\t\t\t\t\t\t\t\t\t\tstreet2: 'prospectEnderecoComplemento',\n\t\t\t\t\t\t\t\t\t\tinfo: 'prospectEnderecoObs'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Endereos:'\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\tkey: 'documentsMultiInput',\n\t\t\t\t\tdefaultValue: item.documentsMultiInput,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taddLabel: '+',\n\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'id',\n\t\t\t\t\t\tfieldTypeKey: 'type',\n\t\t\t\t\t\tfieldsByType: {\n\t\t\t\t\t\t\tCPF: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: 'cpfNumber',\n\t\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t// label: 'CPF',\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tcpf: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tCNPJ: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: 'cnpjNumber',\n\t\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t// label: 'CPNJ',\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tcnpj: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Documentos:'\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\tkey: 'documentsMultiInputUniqueType',\n\t\t\t\t\tdefaultValue: item.documentsMultiInputUniqueType,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taddLabel: '+',\n\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'id',\n\t\t\t\t\t\tfieldTypeKey: 'type',\n\t\t\t\t\t\tfieldTypeKeyUnique: true,\n\t\t\t\t\t\tfieldsByType: {\n\t\t\t\t\t\t\tCPF: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: 'cpfNumber',\n\t\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tcpf: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tCNPJ: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: 'cnpjNumber',\n\t\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\t// label: 'CPNJ',\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tcnpj: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tOUTROS: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: 'outrosNumber',\n\t\t\t\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\toptionLabel: 'OutrosX',\n\t\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Documentos Unique:'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\tkey: 'usuarioTelefones',\n\t\t\t\t\tclassName: 'user-progile-phones-field',\n\t\t\t\t\tdefaultValue: item.phonesMultiInput,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taddLabel: '+',\n\t\t\t\t\t\t// isArrayOfValues: true,\n\t\t\t\t\t\t// keepOnRemoveWhenContainsKey: 'id',\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'phoneNumber',\n\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t'flex': ''\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tngModelElAttrs: {\n\t\t\t\t\t\t\t\t\t'ng-readonly': 'to.readonly'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t// readonly: true,\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\t\t\t\tmask: '(99) 9?9999-9999'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Telefones:'\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'multiinput',\n\t\t\t\t// \tkey: 'contactMultiInput',\n\t\t\t\t// \t// defaultValue: item.contactMultiInput,\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'flex': '50'\n\t\t\t\t// \t},\n\t\t\t\t// \tdata: {\n\t\t\t\t// \t\tkeepOnRemoveWhenContainsKey: 'id',\n\t\t\t\t// \t\taddLabel: '+',\n\t\t\t\t// \t\tfields: [\n\t\t\t\t// \t\t\t{\n\t\t\t\t// \t\t\t\ttype: 'maskedInput',\n\t\t\t\t// \t\t\t\tkey: 'cod',\n\t\t\t\t// \t\t\t\ttemplateOptions: {\n\t\t\t\t// \t\t\t\t\tlabel: 'Cdigo',\n\t\t\t\t// \t\t\t\t\tmask: '99-99-99',\n\t\t\t\t// \t\t\t\t\trequired: true\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t},\n\t\t\t\t// \t\t\t{\n\t\t\t\t// \t\t\t\ttype: 'input',\n\t\t\t\t// \t\t\t\tkey: 'name',\n\t\t\t\t// \t\t\t\tclassName: 'multiinput-align-fields-row-padding',\n\t\t\t\t// \t\t\t\ttemplateOptions: {\n\t\t\t\t// \t\t\t\t\tlabel: 'Nome',\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t]\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Contato:'\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'multiinput',\n\t\t\t\t// \tkey: 'contactMultiInput2',\n\t\t\t\t// \t// defaultValue: item.contactMultiInput,\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\t'flex': '50'\n\t\t\t\t// \t},\n\t\t\t\t// \tdata: {\n\t\t\t\t// \t\t// keepOnRemoveWhenContainsKey: 'id',\n\t\t\t\t// \t\taddLabel: '+',\n\t\t\t\t// \t\tfields: [\n\t\t\t\t// \t\t\t{\n\t\t\t\t// \t\t\t\ttype: 'maskedInput',\n\t\t\t\t// \t\t\t\tkey: 'cod',\n\t\t\t\t// \t\t\t\ttemplateOptions: {\n\t\t\t\t// \t\t\t\t\tlabel: 'Cdigo',\n\t\t\t\t// \t\t\t\t\tmask: '99-99-99',\n\t\t\t\t// \t\t\t\t\trequired: true\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t},\n\t\t\t\t// \t\t\t{\n\t\t\t\t// \t\t\t\ttype: 'input',\n\t\t\t\t// \t\t\t\tkey: 'name',\n\t\t\t\t// \t\t\t\tclassName: 'multiinput-align-fields-row-padding',\n\t\t\t\t// \t\t\t\ttemplateOptions: {\n\t\t\t\t// \t\t\t\t\tlabel: 'Nome',\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t]\n\t\t\t\t// \t},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Contato:'\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \tkey: 'date',\n\t\t\t\t// \ttype: 'input',\n\t\t\t\t// \tmodel: {},\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\ttype: 'hidden'\n\t\t\t\t// \t},\n\t\t\t\t// \textras: {\n\t\t\t\t// \t\tvalidateOnModelChange: true\n\t\t\t\t// \t},\n\t\t\t\t// \tvalidators: {\n\t\t\t\t// \t\tmax: {\n\t\t\t\t// \t\t\texpression: function(newValue, oldValue, scope){\n\t\t\t\t// \t\t\t\tnewValue, oldValue, scope;\n\t\t\t\t// \t\t\t\treturn false;\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t},\n\t\t\t\t// \t\tmessage: function(){\n\t\t\t\t// \t\t\treturn 'invalid date';\n\t\t\t\t// \t\t}\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \tkey: 'timeShort',\n\t\t\t\t// \ttype: 'anaproTime',\n\t\t\t\t// \tdefaultValue: '09:00',\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\tlabel: 'Hora',\n\t\t\t\t// \t\tmin: '10:00',\n\t\t\t\t// \t\tmax: '13:00',\n\t\t\t\t// \t\tdateFormat: 'HH:mm'\n\t\t\t\t// \t}\n\t\t\t\t// }\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'numberInput',\n\t\t\t\t// \tkey: 'atendimentoNegocioValor',\n\t\t\t\t// \tdefaultValue: 10,\n\t\t\t\t// \t// model: $scope.amounts,\n\t\t\t\t// \tclassName: 'input-nogrow',\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\ttype: 'tel',\n\t\t\t\t// \t\tlabel: 'Valor:',\n\t\t\t\t// \t\ticon: 'currency',\n\t\t\t\t// \t\trequired: true,\n\t\t\t\t// \t\tmoney: 2,\n\t\t\t\t// \t\tminValue: 1,\n\t\t\t\t// \t\tmaxValue: 2000,\n\t\t\t\t// \t\thint: 'Valor mdio da unidade neste atendimento que ser utilizado para compor a base de calculo da comisso.'\n\t\t\t\t// \t},\n\t\t\t\t// \tngModelAttrs: {\n\t\t\t\t// \t\toff: {\n\t\t\t\t// \t\t\tvalue: 'autocomplete'\n\t\t\t\t// \t\t}\n\t\t\t\t// \t},\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\tlayout: 'row'\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'numberInput',\n\t\t\t\t// \tkey: 'atendimentoNegocioValor2',\n\t\t\t\t// \tdefaultValue: 10,\n\t\t\t\t// \t// model: $scope.amounts,\n\t\t\t\t// \tclassName: 'input-nogrow',\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\ttype: 'tel',\n\t\t\t\t// \t\tlabel: 'Valor:',\n\t\t\t\t// \t\ticon: 'currency',\n\t\t\t\t// \t\trequired: true,\n\t\t\t\t// \t\tdecimals: 2,\n\t\t\t\t// \t\tminValue: 1,\n\t\t\t\t// \t\tmaxValue: 2000,\n\t\t\t\t// \t\thint: 'Valor mdio da unidade neste atendimento que ser utilizado para compor a base de calculo da comisso.'\n\t\t\t\t// \t},\n\t\t\t\t// \tngModelAttrs: {\n\t\t\t\t// \t\toff: {\n\t\t\t\t// \t\t\tvalue: 'autocomplete'\n\t\t\t\t// \t\t}\n\t\t\t\t// \t},\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\tlayout: 'row'\n\t\t\t\t// \t}\n\t\t\t\t// },\n\n\t\t\t\t// {\n\t\t\t\t// \ttype: 'numberInput',\n\t\t\t\t// \tkey: 'atendimentoNegocioComissao',\n\t\t\t\t// \tdefaultValue: 20,\n\t\t\t\t// \tmodel: $scope.amounts,\n\t\t\t\t// \tclassName: 'input-nogrow atendimentoNegocioComissao align-right',\n\t\t\t\t// \ttemplateOptions: {\n\t\t\t\t// \t\ttype: 'tel',\n\t\t\t\t// \t\ticon: 'percentage',\n\t\t\t\t// \t\tlabel: 'Comisso:',\n\t\t\t\t// \t\trequired: true,\n\t\t\t\t// \t\tdecimals: 2,\n\t\t\t\t// \t\tminValue: 0.01,\n\t\t\t\t// \t\tmaxValue: 99.99,\n\t\t\t\t// \t\thint: 'Percentual mdio que servir para calcular a estimativa de comisso total desse atendimento.'\n\t\t\t\t// \t},\n\t\t\t\t// \tngModelAttrs: {\n\t\t\t\t// \t\toff: {\n\t\t\t\t// \t\t\tvalue: 'autocomplete'\n\t\t\t\t// \t\t}\n\t\t\t\t// \t},\n\t\t\t\t// \telementAttributes: {\n\t\t\t\t// \t\tlayout: 'row'\n\t\t\t\t// \t}\n\t\t\t\t// }\n\n\t\t\t];\n\n\t\t\titem;\n\n\t\t\tvar originalModel = {\n\t\t\t\tname: 'teste nome',\n\t\t\t\tphone: '11933334444',\n\t\t\t\tarrayOfFields: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\tname: 'abc',\n\t\t\t\t\t\tcod: '4455',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 2,\n\t\t\t\t\t\tname: 'zxc',\n\t\t\t\t\t\tcod: '6677',\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\taddresses: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\tprospectEnderecoLogradouro: 'Rua Piratininga',\n\t\t\t\t\t\tprospectEnderecoNumero: '222',\n\t\t\t\t\t\tprospectEnderecoBairroId: 24032,\n\t\t\t\t\t\tprospectEnderecoBairroNome: 'Brs',\n\t\t\t\t\t\tprospectEnderecoUF: 'SP',\n\t\t\t\t\t\tprospectEnderecoCidadeId: 8860,\n\t\t\t\t\t\tprospectEnderecoCidadeNome: 'So Paulo',\n\t\t\t\t\t\tprospectEnderecoCEP: '03042001',\n\t\t\t\t\t\tprospectEnderecoComplemento: 'A',\n\t\t\t\t\t\tprospectEnderecoObs: 'B'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 2,\n\t\t\t\t\t\tprospectEnderecoLogradouro: 'Rua Piratininga',\n\t\t\t\t\t\tprospectEnderecoNumero: '333',\n\t\t\t\t\t\tprospectEnderecoBairroId: 24032,\n\t\t\t\t\t\tprospectEnderecoBairroNome: 'Brs',\n\t\t\t\t\t\tprospectEnderecoUF: 'SP',\n\t\t\t\t\t\tprospectEnderecoCidadeId: 8860,\n\t\t\t\t\t\tprospectEnderecoCidadeNome: 'So Paulo',\n\t\t\t\t\t\tprospectEnderecoCEP: '03042001',\n\t\t\t\t\t\tprospectEnderecoComplemento: 'A',\n\t\t\t\t\t\tprospectEnderecoObs: 'B'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\n\t\t\t$scope.xfilterModel = angular.copy(originalModel);\n\n\t\t\t$scope.xformlyFields = [\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tkey: 'name',\n\t\t\t\t\tdefaultValue: originalModel.name,\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex': '50'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'text'\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\tkey: 'phone',\n\t\t\t\t\tdefaultValue: originalModel.phone,\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex': '50'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\tmask: '(99) 9?9999-9999'\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\tkey: 'arrayOfFields',\n\t\t\t\t\tdefaultValue: originalModel.arrayOfFields,\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex': '50'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Dados'\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'id',\n\t\t\t\t\t\taddLabel: '+',\n\t\t\t\t\t\tlayout: 'row',\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'name',\n\t\t\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tplaceholder: 'Nome'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'email',\n\t\t\t\t\t\t\t\ttype: 'anaproEmail',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tplaceholder: 'Email'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: 'cod',\n\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tplaceholder: 'Cod',\n\t\t\t\t\t\t\t\t\tmask: '9.99-9'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\tkey: 'addresses',\n\t\t\t\t\tdefaultValue: angular.copy(originalModel.addresses),\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex': '50'\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tkeepOnRemoveWhenContainsKey: 'id',\n\t\t\t\t\t\taddLabel: '+',\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t//key: 'abc',\n\t\t\t\t\t\t\t\ttype: 'address',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tlabel: 'Endereos:'\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tkey: 'input1',\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t'flex': '25'\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: 'teste',\n\t\t\t\t\t\trequired: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar API_FIELDS = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\tfield: 'inputCheckbox'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tfield: 'inputText'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tfield: 'inputTextMinMaxLength',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tminLength: 3,\n\t\t\t\t\t\tmaxLength: 10\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tfield: 'inputTextMasked',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tmask: '(99) 9?9999-9999',\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'integer',\n\t\t\t\t\tfield: 'inputCPF',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tcpf: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tfield: 'inputCNPJ',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tcnpj: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tfield: 'inputCPFouCNPJ',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tcpfCnpj: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'integer',\n\t\t\t\t\tfield: 'inputInteger',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tminValue: 5,\n\t\t\t\t\t\tmaxValue: 25\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'decimals',\n\t\t\t\t\tfield: 'inputDecimal',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tdecimals: 3,\n\t\t\t\t\t\tminValue: 1,\n\t\t\t\t\t\tmaxValue: 2\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'decimals',\n\t\t\t\t\tfield: 'inputMoney',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tmoney: 2,\n\t\t\t\t\t\tminValue: 0.10,\n\t\t\t\t\t\tmaxValue: 10\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'multiSelect',\n\t\t\t\t\tfield: 'multiSelect',\n\t\t\t\t\toptions:[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'valor A',\n\t\t\t\t\t\t\tvalue: 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'valor B',\n\t\t\t\t\t\t\tvalue: 2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'valor C',\n\t\t\t\t\t\t\tvalue: 3\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\tfield: 'selectRadio',\n\t\t\t\t\toptions:[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Opo Z',\n\t\t\t\t\t\t\tvalue: 'Z'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Opo X',\n\t\t\t\t\t\t\tvalue: 'X'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Opo Y',\n\t\t\t\t\t\t\tvalue: 'Y'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\tfield: 'select',\n\t\t\t\t\toptions:[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Name A',\n\t\t\t\t\t\t\tvalue: 'A'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Name B',\n\t\t\t\t\t\t\tvalue: 'B'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Name C',\n\t\t\t\t\t\t\tvalue: 'C'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'email',\n\t\t\t\t\tfield: 'inputEmail'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'date',\n\t\t\t\t\tfield: 'inputDate'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'time',\n\t\t\t\t\tfield: 'inputTime'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'datetime',\n\t\t\t\t\tfield: 'inputDateTime'\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tAPI_FIELDS;\n\t\t\tanaproFormlyFactory.createFormlyFieldsFromAPI(\n\t\t\t\tAPI_FIELDS,\n\t\t\t\t$scope.xformlyFields,\n\t\t\t\t{\n\t\t\t\t\tmerge: {\n\t\t\t\t\t\tinputCheckbox: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'checkbox?'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputText: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\tlabel: 'Anapro input'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputTextMinMaxLength: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Anapro input min max length'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputTextMasked: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Anapro masked input',\n\t\t\t\t\t\t\t\tplaceholder: 'Telefone com DDD'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvalidation: {\n\t\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\t\tmask: function(newValue, oldValue, scope){\n\t\t\t\t\t\t\t\t\t\tnewValue, oldValue, scope;\n\n\t\t\t\t\t\t\t\t\t\treturn 'Nmero de telefone invlido!';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputCPF: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Cpf input'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputCNPJ: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Cnpj input'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputCPFouCNPJ: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Cpf ou cnpj input'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputInteger: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Integer input'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputDecimal: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Decimals input'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputMoney: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Money input'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmultiSelect: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Multiselect'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselectRadio: {\n\t\t\t\t\t\t\ttype: 'radio',\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Anapro radio'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselect: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Anapro select'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputEmail: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Anapro email input',\n\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputDate: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Date input',\n\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputTime: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Time input',\n\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputDateTime: {\n\t\t\t\t\t\t\tclassName: 'col-xs-3',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Datetime input',\n\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t)\n\n\t.directive('formlyExamples', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {},\n\t\t\ttemplateUrl: 'formly-examples/fields.html',\n\t\t\tcontroller: 'FormlyExamplesController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.auth',[])\n\n\t.controller(\n\t\t'ViewAuthController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$location,\n\t\t\t$timeout,\n\t\t\tpath,\n\t\t\tauthService\n\t\t){\n\n\t\t\tpath.setCurrent('auth');\n\n\t\t\t$scope.showForm = !!window.APIFAKE;\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\t$scope.forms = {\n\t\t\t\tauth: null\n\t\t\t};\n\t\t\t$scope.model = {};\n\t\t\t$scope.fields = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tkey: 'username',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tlabel: 'Usurio',\n\t\t\t\t\t\trequired: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tkey: 'password',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'password',\n\t\t\t\t\t\tlabel: 'Senha',\n\t\t\t\t\t\trequired: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tvar postExecute = function(response){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\tif(response.data.token){\n\t\t\t\t\t\t$location.path(path.getPath('home')).replace();\n\t\t\t\t\t}\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\t$scope.loginSubmit = function(){\n\t\t\t\tif($scope.forms.auth.$valid && !$scope.loading){\n\t\t\t\t\t$scope.loading = true;\n\t\t\t\t\tauthService.post({\n\t\t\t\t\t\tdata: $scope.model,\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\t\tpostExecute(response);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(response){\n\t\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\t\tpostExecute(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.calendar',[\n\t\t'views.calendar.list',\n\t\t'views.calendar.list-filter',\n\t\t'views.calendar.link-integration'\n\t])\n\n\t.controller(\n\t\t'ViewCalendarController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$routeParams,\n\t\t\t$timeout,\n\t\t\tdestroyFactory,\n\t\t\tpath,\n\t\t\tcalendarService,\n\t\t\tlistFactory,\n\t\t\tcardActionFactory,\n\t\t\tlinkIntegrationFactory\n\t\t){\n\t\t\tpath.setCurrent('calendar');\n\n\t\t\t$scope.loading = true;\n\t\t\t$scope.error = false;\n\t\t\t$scope.empty = false;\n\n\t\t\t$scope.breadcrumbs = [\n\t\t\t\t{\n\t\t\t\t\tlabel: path.getCurrent().label\n\t\t\t\t}\n\t\t\t];\n\n\t\t\t$scope.viewTitle = {\n\t\t\t\ttitle: 'Agenda',\n\t\t\t\tdesc: ''\n\t\t\t};\n\n\t\t\tvar gerFilterHashLink = function(attrs){\n\n\t\t\t\treturn calendarService.gerFilterHashLink(\n\t\t\t\t\tpath.getPath('calendar'),\n\t\t\t\t\tattrs,\n\t\t\t\t\t$routeParams\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.listObj = {\n\t\t\t\tdata: {},\n\t\t\t\tdelegate: {\n\t\t\t\t\tget: function(attrs){\n\t\t\t\t\t\tvar hashLink = gerFilterHashLink(attrs);\n\t\t\t\t\t\t$scope.mainController.go(hashLink);\n\t\t\t\t\t},\n\t\t\t\t\tgerFilterHashLink: gerFilterHashLink,\n\t\t\t\t\tcardActions: {\n\t\t\t\t\t\tpostItem: function(item){\n\t\t\t\t\t\t\tisSameMonth(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcalendarListItem: {\n\t\t\t\t\t\tnewAction: function(attrs){\n\t\t\t\t\t\t\t$scope.addNewAppointment(attrs);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcalendarListFilter: {\n\t\t\t\t\t\tnewAction: function(attrs){\n\t\t\t\t\t\t\t$scope.addNewAppointment(attrs);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.showModalLinkIntegration = function(){\n\t\t\t\tlinkIntegrationFactory.showModal();\n\t\t\t};\n\n\t\t\tvar getMonthNameFilter = function(){\n\t\t\t\treturn $scope.listObj.data.filters[0].initialValue\n\t\t\t\t? moment($scope.listObj.data.filters[0].initialValue).format('MMMM [de] YYYY')\n\t\t\t\t: null;\n\t\t\t};\n\n\t\t\tvar success = function(response){\n\t\t\t\t$scope.listObj.data = response.data;\n\t\t\t\t$scope.empty = !response.data.data || !response.data.data.length;\n\t\t\t\t$scope.loading = false;\n\t\t\t\tsetViewTitleDesc();\n\t\t\t};\n\n\t\t\tvar isSameMonth = function(item){\n\n\t\t\t\tvar interactionObj = item.fields[Object.keys(item.fields)[0]];\n\n\t\t\t\tif(!interactionObj.tarefa || interactionObj.tarefa.tarefaRealizado){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar currentMonth = $scope.listObj.data.filters[0].initialValue;\n\t\t\t\tvar currentMonthYear;\n\n\t\t\t\tif(currentMonth){\n\t\t\t\t\tcurrentMonth = new Date(currentMonth);\n\t\t\t\t\tcurrentMonthYear = currentMonth.getMonth() + '-' + currentMonth.getFullYear();\n\t\t\t\t}\n\n\t\t\t\tvar itemDate = new Date(interactionObj.tarefa.tarefaDtTarefa);\n\t\t\t\tvar itemMonthYear = itemDate.getMonth() + '-' + itemDate.getFullYear();\n\n\t\t\t\tif(currentMonth && (currentMonthYear == itemMonthYear) || !currentMonth){\n\n\t\t\t\t\tif(!$scope.listObj.data.data){\n\t\t\t\t\t\t$scope.listObj.data.data = [];\n\t\t\t\t\t\t$scope.empty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.listObj.data.data.push(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.addNewAppointment = function(attrs){\n\t\t\t\tattrs = attrs || {};\n\t\t\t\tvar resource = attrs.resource || { id: null, resource: 'transactions' };\n\n\t\t\t\tcardActionFactory.showModal({\n\t\t\t\t\tresource: resource,\n\t\t\t\t\ttabButtonActivated: attrs.resource ? null : 'activity',\n\t\t\t\t\ttabButtonAttrs: attrs.resource ? {} : {\n\t\t\t\t\t\tactivity: {\n\t\t\t\t\t\t\tmodelWhen: 'todo'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tdelegate: $scope.listObj.delegate.cardActions\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar setViewTitleDesc = function(){\n\t\t\t\t$scope.viewTitle.desc = getMonthNameFilter() || '';\n\t\t\t};\n\n\t\t\tvar get = function(attrs){\n\n\t\t\t\t$scope.empty = false;\n\t\t\t\t$scope.error = false;\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\tcalendarService.get(\n\t\t\t\t\t{\n\t\t\t\t\t\tlink: attrs.link,\n\t\t\t\t\t\tparams: attrs.params,\n\t\t\t\t\t\tsuccess:  success,\n\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\t\tonlyErrorMessage: true,\n\t\t\t\t\t\t\t\ttitle: 'Momentaneamente nenhum agendamento foi localizado.',\n\t\t\t\t\t\t\t\tmessage: 'Realize sua busca novamente.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(response){\n\t\t\t\t\t\t\t$scope.error = response.config.errorMessage;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t};\n\n\t\t\t$scope.$on(\n\t\t\t\t'$viewContentLoaded',\n\t\t\t\tfunction(){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tvar attrs = listFactory.getAttrsFromRouteParams($routeParams);\n\n\t\t\t\t\t\tget(attrs);\n\t\t\t\t\t}, 0);\n\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tdestroyFactory({\n\t\t\t\tscope: $scope,\n\t\t\t\tobjects: [\n\t\t\t\t\t$scope.listObj\n\t\t\t\t]\n\t\t\t});\n\n\t\t}\n\t)\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.clients',[])\n\n\t.controller(\n\t\t'ViewClientsController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\tpath\n\t\t){\n\n\t\t\tpath.setCurrent('clients');\n\n\t\t\t$scope.breadcrumbs = [\n\t\t\t\t{\n\t\t\t\t\tlabel: path.getCurrent().label,\n\t\t\t\t\tpath: false\n\t\t\t\t}\n\t\t\t];\n\n\t\t\t$scope.$on(\n\t\t\t\t'$destroy', function(){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tfalse;\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.home',[])\n\n\t.controller(\n\t\t'ViewHomeController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tpath,\n\t\t\tnavigationBarFactory\n\t\t){\n\n\t\t\t$scope;\n\n\t\t\tnavigationBarFactory.backButton.hide();\n\n\t\t\tpath.setCurrent('home');\n\n\t\t\t$scope.$on(\n\t\t\t\t'$destroy',\n\t\t\t\tfunction(){\n\t\t\t\t\tnavigationBarFactory.backButton.show();\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.queues-handler-position',[\n\t])\n\n\t.controller(\n\t\t'ViewQueuesHandlerPositionController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$routeParams,\n\t\t\tpath,\n\t\t\tpermission,\n\t\t\tusersService,\n\t\t\tuserStatusFactory,\n\t\t\tuserStatusLabels,\n\t\t\tuserQueueStatusProperties,\n\t\t\tfirebaseListenerQueuesChannel\n\t\t){\n\n\t\t\tpath.setCurrent('queues-handler-position');\n\n\t\t\t$scope.breadcrumbs = [{\n\t\t\t\tlabel: path.get('queues-handler-position').label,\n\t\t\t\tpath: false\n\t\t\t}];\n\n\t\t\t$scope.viewTitle = {\n\t\t\t\ttitle: path.getCurrent().label,\n\t\t\t\tsubtitle: '',\n\t\t\t\tdesc: ''\n\t\t\t};\n\n\t\t\tvar currentUserId;\n\t\t\tvar data;\n\n\t\t\t$scope.channelProperties;\n\n\t\t\t$scope.dataQueue = {};\n\t\t\t$scope.users = [];\n\n\t\t\t$scope.error = false;\n\t\t\t$scope.loading = true;\n\n\t\t\tvar listener;\n\n\t\t\tvar setViewTitle = function(){\n\n\t\t\t\t$scope.viewTitle.subtitle = userStatusLabels[data.channel];\n\n\t\t\t\t$scope.viewTitle.desc = data.CampanhaNome\n\t\t\t\t\t+ ' : '\n\t\t\t\t\t+ data.CanalNome;\n\n\t\t\t};\n\n\t\t\tvar mergeUsersPosition = function(){\n\n\t\t\t\tdata.Posicoes.map(function(user){\n\n\t\t\t\t\tvar userPositionInView = $scope.users.filter(function(userInView){\n\t\t\t\t\t\treturn user.UsuarioContaSistemaIdGuid == userInView.UsuarioContaSistemaIdGuid;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(userPositionInView && userPositionInView.length){\n\t\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t\tuserPositionInView[0],\n\t\t\t\t\t\t\tuser\n\t\t\t\t\t\t);\n\t\t\t\t\t}else{\n\t\t\t\t\t\t$scope.users.push(user);\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar removeUsersPosition = function(){\n\n\t\t\t\tvar removedUsers = [];\n\n\t\t\t\tremovedUsers = $scope.users.filter(function(userInView){\n\n\t\t\t\t\tvar found = false;\n\n\t\t\t\t\tdata.Posicoes.map(function(user){\n\t\t\t\t\t\tif(user.UsuarioContaSistemaIdGuid == userInView.UsuarioContaSistemaIdGuid){\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn !found;\n\n\t\t\t\t});\n\n\t\t\t\tremovedUsers.map(function(item){\n\t\t\t\t\t$scope.users.splice($scope.users.indexOf(item), 1);\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar normalizeUserNames = function(){\n\t\t\t\tdata.Posicoes.map(function(item){\n\n\t\t\t\t\tvar splitedName = item.UsuarioContaSistemaNome.split(' ');\n\n\t\t\t\t\titem.UsuarioContaSistemaNome = (splitedName.shift()\n\t\t\t\t\t\t+ ' '\n\t\t\t\t\t\t+ (splitedName.pop() || '')\n\t\t\t\t\t).trim();\n\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar getSuccess = function(collectionDoc){\n\n\t\t\t\tdata = collectionDoc;\n\n\t\t\t\t$scope.dataQueue = data;\n\n\t\t\t\t$scope.channelProperties = userStatusFactory.getChannelProperties(data.channel);\n\n\t\t\t\tif(!$scope.channelProperties){\n\n\t\t\t\t\tgetError({\n\t\t\t\t\t\ttitle: 'Esse canal est indisponvel',\n\t\t\t\t\t\tmessage: 'O canal da fila est indisponvel no momento, tente novamente mais tarde. Obrigado.'\n\t\t\t\t\t});\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetViewTitle();\n\n\t\t\t\tif(permission.checkPermissions(\n\t\t\t\t\t$scope.channelProperties.permissionPositionInQueue\n\t\t\t\t) === false){\n\n\t\t\t\t\tgetError({\n\t\t\t\t\t\ttitle: 'Sem permisso',\n\t\t\t\t\t\tmessage: 'Voc no tem permisso para ver essa fila.'\n\t\t\t\t\t});\n\n\t\t\t\t}else if(permission.checkPermissions(\n\t\t\t\t\t$scope.channelProperties.permissionPositionInQueue\n\t\t\t\t) === 'disabled'){\n\n\t\t\t\t\tgetError({\n\t\t\t\t\t\ttitle: 'Fila desativada',\n\t\t\t\t\t\tmessage: 'Essa fila est desativada temporariamente.'\n\t\t\t\t\t});\n\n\t\t\t\t}else{\n\n\t\t\t\t\tnormalizeUserNames();\n\t\t\t\t\tmergeUsersPosition();\n\t\t\t\t\tremoveUsersPosition();\n\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar getError = function(error){\n\t\t\t\t$scope.error = error;\n\t\t\t};\n\n\t\t\tvar startListener = function(contaSistemaIdGuid){\n\t\t\t\tlistener = firebaseListenerQueuesChannel.getListener({\n\t\t\t\t\tchannel: 'chat',\n\t\t\t\t\tid: contaSistemaIdGuid + ':' + $routeParams.id,\n\t\t\t\t\tsuccess: getSuccess,\n\t\t\t\t\terror: function(){\n\t\t\t\t\t\tgetError({\n\t\t\t\t\t\t\ttitle: 'Essa fila esta indisponvel no momento',\n\t\t\t\t\t\t\tmessage: 'Tente novamente mais tarde'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.isSameUser = function(item){\n\t\t\t\treturn currentUserId == item.UsuarioContaSistemaIdGuid;\n\t\t\t};\n\n\t\t\t$scope.getStatusProperties = function(status){\n\t\t\t\treturn userQueueStatusProperties[status];\n\t\t\t};\n\n\t\t\t$scope.$on(\n\t\t\t\t'$viewContentLoaded',\n\t\t\t\tfunction(){\n\t\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\tcurrentUserId = response.data.id;\n\t\t\t\t\t\t\tstartListener(response.data.extraInfo.contaSistemaIdGuid);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t$scope.$on(\n\t\t\t\t'$destroy',\n\t\t\t\tfunction() {\n\t\t\t\t\tlistener();\n\t\t\t\t\tlistener = null;\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t)\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction',[])\n\n\t.controller(\n\t\t'ViewTransactionController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$routeParams,\n\t\t\t$popover,\n\t\t\t$document,\n\t\t\tpath,\n\t\t\ttransactionsService,\n\t\t\ttoastrFactory,\n\t\t\ttransactionTransferFactory,\n\t\t\ttransactionFinishFactory,\n\t\t\tusersService,\n\t\t\tnotificationCenterFactory,\n\t\t\tdestroyFactory,\n\t\t\tcardActionFactory\n\t\t){\n\n\t\t\tpath.setCurrent('transaction');\n\n\t\t\tvar breadcrumbsClientName = {\n\t\t\t\tpath: false\n\t\t\t};\n\n\t\t\t$scope.breadcrumbs = [{\n\t\t\t\tlabel: path.get('transactions').label,\n\t\t\t\tpath: path.get('transactions').path\n\t\t\t}, breadcrumbsClientName];\n\n\t\t\t$scope.error = false;\n\t\t\t$scope.loading = true;\n\n\t\t\t$scope.transactionItem = {};\n\t\t\t$scope.clientItem = {};\n\t\t\t$scope.expiresProgressThreshold = transactionsService.getExpiresProgressThreshold();\n\n\t\t\t$scope.$watch('clientItem', function(newValue){\n\t\t\t\tif(newValue.fields){\n\t\t\t\t\tsetCardActionsData();\n\t\t\t\t\tbreadcrumbsClientName.label =\n\t\t\t\t\t\t$scope.clientItem.fields.prospect.prospectNome;\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t\t$scope.cardActionsResource = {\n\t\t\t\tid: null,\n\t\t\t\tresource: 'transactions'\n\t\t\t};\n\n\t\t\t$scope.quickActionsModel = {\n\t\t\t\tvalue: 'none'\n\t\t\t};\n\n\t\t\tvar resetQuickActionsModel = function(){\n\t\t\t\t$scope.quickActionsModel.value = 'none';\n\t\t\t};\n\n\t\t\tvar quickActions = {\n\t\t\t\ttransfer: function(){\n\n\t\t\t\t\ttransactionTransferFactory.show({\n\t\t\t\t\t\titem: $scope.transactionItem,\n\t\t\t\t\t\tonHide: resetQuickActionsModel,\n\t\t\t\t\t\tdelegate: {\n\n\t\t\t\t\t\t\treset: resetQuickActionsModel,\n\n\t\t\t\t\t\t\tupdateItem: function(transferredItem){\n\t\t\t\t\t\t\t\tif($scope.transactionItem.id != transferredItem.id){\n\t\t\t\t\t\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\t\t\t\t\t\tpath.get('transaction').withItem(transferredItem),\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}else{\n\n\t\t\t\t\t\t\t\t\ttransactionsService.updateItem(\n\t\t\t\t\t\t\t\t\t\t$scope.transactionItem,\n\t\t\t\t\t\t\t\t\t\ttransferredItem\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tsetViewTitle();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\tremoveItemFromUser: function(){\n\t\t\t\t\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\t\t\t\t\tpath.getPath('transactions'),\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tfinish: function(action) {\n\n\t\t\t\t\ttransactionFinishFactory.show({\n\t\t\t\t\t\titem: $scope.transactionItem,\n\t\t\t\t\t\taction: action,\n\t\t\t\t\t\tonHide: resetQuickActionsModel,\n\t\t\t\t\t\tdelegate: {\n\n\t\t\t\t\t\t\treset: resetQuickActionsModel,\n\n\t\t\t\t\t\t\tupdateItem: function() {\n\t\t\t\t\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\t\t\t\t\tpath.get('transactions'),\n\t\t\t\t\t\t\t\t\tfalse);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.transfer = function(){\n\t\t\t\tquickActions.transfer();\n\t\t\t};\n\n\t\t\t$scope.finish = function(action) {\n\t\t\t\tquickActions.finish(action);\n\t\t\t};\n\n\t\t\t$scope.quickActionTransferLabel = function(){\n\t\t\t\treturn transactionsService.isFinished($scope.transactionItem)\n\t\t\t\t\t? 'Reabrir'\n\t\t\t\t\t: 'Transferir';\n\t\t\t};\n\n\t\t\tvar setTransactionItem = function(data){\n\t\t\t\t$scope.transactionItem = data;\n\t\t\t\t$scope.clientItem = data.expand.clients;\n\t\t\t\t$scope.cardActionsResource.id = data.id;\n\t\t\t};\n\n\t\t\t$scope.viewTitleExtra = [];\n\n\t\t\tvar setViewTitle = function(){\n\n\t\t\t\t$scope.viewTitleDesc =\n\t\t\t\t\t'Cdigo de negcio: '\n\t\t\t\t\t+ $scope.transactionItem.fields.atendimento.atendimentoCodigo;\n\n\t\t\t\t$scope.viewTitleExtra.splice(0,$scope.viewTitleExtra.length);\n\n\t\t\t\t// $scope.viewTitleExtra.push(\n\t\t\t\t// \t'Fase: ' + $scope.transactionItem.extraInfo.pipelineStageNome\n\t\t\t\t// \t'Status: ' + $scope.transactionItem.fields.atendimento.atendimentoStatus\n\t\t\t\t// );\n\n\t\t\t\t// if($scope.transactionItem.extraInfo.usuarioNome) {\n\t\t\t\t// \t$scope.viewTitleExtra.push(\n\t\t\t\t// \t\t'Corretor: ' + $scope.transactionItem.extraInfo.usuarioNome\n\t\t\t\t// \t);\n\t\t\t\t// }\n\n\t\t\t};\n\n\t\t\t$scope.cardActionsData = cardActionFactory.getNewCardActionsData();\n\n\t\t\tvar setCardActionsData = function(){\n\n\t\t\t\tif($scope.clientItem.fields){\n\n\t\t\t\t\t$scope.transactionItem.extraInfo.prospectNome =\n\t\t\t\t\t\t$scope.clientItem.fields.prospect.prospectNome;\n\n\t\t\t\t\t$scope.cardActionsData.update(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: $scope.transactionItem.extraInfo.produtoNome,\n\t\t\t\t\t\t\temailFollowup: $scope.transactionItem.extraInfo.atendimentoFollowUpEmail,\n\t\t\t\t\t\t\tprospectNome: $scope.transactionItem.extraInfo.prospectNome,\n\t\t\t\t\t\t\tphones: $scope.clientItem.fields.prospectTelefones,\n\t\t\t\t\t\t\temails: $scope.clientItem.fields.prospectEmails,\n\t\t\t\t\t\t\turlModuleSells: $scope.transactionItem.extraInfo.integracaoVendasUrl\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar toastAttended;\n\n\t\t\tvar setToastAttended = function(){\n\t\t\t\ttoastAttended = function(){\n\t\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\t\tpath.get('transaction').withItem($scope.transactionItem)\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tvar attendBeforeDisplay = function(attrs){\n\n\t\t\t\tvar item = attrs.item;\n\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\tvar userProfile = response.data;\n\n\t\t\t\t\t\tif(transactionsService.isOnQueue(item)){\n\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t.fields\n\t\t\t\t\t\t\t\t.atendimento\n\t\t\t\t\t\t\t\t.atendimentoUsuarioContaSistemaIdGuid == userProfile.id\n\t\t\t\t\t\t\t){\n\n\t\t\t\t\t\t\t\ttransactionsService.actions({\n\t\t\t\t\t\t\t\t\titem: item,\n\t\t\t\t\t\t\t\t\taction: 'attend',\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Parabns!',\n\t\t\t\t\t\t\t\t\t\t\tmessage: 'Voc acaba de iniciar o atendimento com '\n\t\t\t\t\t\t\t\t\t\t\t\t+ item.expand.clients.fields.prospect.prospectNome\n\t\t\t\t\t\t\t\t\t\t\t\t+ '. Ns do Anapro desejamos uma tima venda.',\n\t\t\t\t\t\t\t\t\t\t\tautoDismiss: false,\n\t\t\t\t\t\t\t\t\t\t\tonTap: function(){\n\t\t\t\t\t\t\t\t\t\t\t\tif(toastAttended){\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastAttended();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tforbidden: {\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Desculpe, aparentemente voc no pode iniciar esse atendimento ou, ele j foi atendido por outra pessoa.',\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para iniciar esse atendimento.',\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\t\t\t\t\ttransactionsService.updateItem(\n\t\t\t\t\t\t\t\t\t\t\titem,\n\t\t\t\t\t\t\t\t\t\t\tresponse.data\n\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\tnotificationCenterFactory.removeNotificationByAttribute(\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tattribute: 'atendimentoIdGuid',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: item.id\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\tattrs.callback(item);\n\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror: function(){\n\n\t\t\t\t\t\t\t\t\t\t$scope.error = true;\n\t\t\t\t\t\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t}else if(usersService.isAdm()){\n\n\t\t\t\t\t\t\t\ttoastrFactory.warn({\n\t\t\t\t\t\t\t\t\ttitle: 'Desculpe!',\n\t\t\t\t\t\t\t\t\tmessage: 'O cliente '\n\t\t\t\t\t\t\t\t\t\t+ item.expand.clients.fields.prospect.prospectNome\n\t\t\t\t\t\t\t\t\t\t+ ' pertence a outro usurio. Para iniciar esse atendimento basta transferi-lo  voc. '\n\t\t\t\t\t\t\t\t\t\t+ 'Clique aqui se deseja transferir agora.',\n\t\t\t\t\t\t\t\t\tonTap: quickActions.transfer\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tattrs.callback(item);\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar getItem = function(id){\n\t\t\t\ttransactionsService.getItem(\n\t\t\t\t\t{\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t'_expand': ['clients']\n\t\t\t\t\t\t},\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\tpayloadError: {\n\t\t\t\t\t\t\t\tonlyErrorMessage: true,\n\t\t\t\t\t\t\t\ttitle: 'Esse atendimento no existe.',\n\t\t\t\t\t\t\t\tmessage: ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tforbidden: {\n\t\t\t\t\t\t\t\ttitle: 'Esse cliente pertence a outro usurio.',\n\t\t\t\t\t\t\t\tmessage: 'Se ele estava aguardando atendimento, algum o atendeu antes de voc.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\tattendBeforeDisplay({\n\t\t\t\t\t\t\t\titem: response.data,\n\t\t\t\t\t\t\t\tcallback: function(item){\n\t\t\t\t\t\t\t\t\tsetTransactionItem(item);\n\t\t\t\t\t\t\t\t\tsetCardActionsData();\n\t\t\t\t\t\t\t\t\tsetViewTitle();\n\t\t\t\t\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(response){\n\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t\t\t$scope.error = response.config.errorMessage;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t};\n\n\t\t\t$scope.isOnQueue = function(){\n\t\t\t\treturn transactionsService.isOnQueue($scope.transactionItem);\n\t\t\t};\n\n\t\t\t$scope.isFinished = function(){\n\t\t\t\treturn transactionsService.isFinished($scope.transactionItem);\n\t\t\t};\n\n\t\t\t$scope.canEditWhenNotActive = function(){\n\t\t\t\treturn transactionsService.canEditWhenNotActive($scope.transactionItem);\n\t\t\t};\n\n\t\t\t$scope.delegates = {\n\t\t\t\tcardActions: {\n\t\t\t\t\tpostItem: function(item){\n\t\t\t\t\t\t$scope.delegates.cardFollowup.addItem(item);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcardFollowup: {\n\t\t\t\t\tgetSuccess: function(data){\n\t\t\t\t\t\tif($scope.delegates.cardSells.updateInteractions){\n\t\t\t\t\t\t\t$scope.delegates.cardSells.updateInteractions(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcardSells: {},\n\t\t\t\tstage: setViewTitle\n\t\t\t};\n\n\t\t\t$scope.delegates.cardClient = {\n\t\t\t\tcardActions: $scope.delegates.cardActions\n\t\t\t};\n\n\t\t\t$scope.showModal = function(){\n\n\t\t\t\tcardActionFactory.showModal({\n\t\t\t\t\tdata: $scope.cardActionsData,\n\t\t\t\t\tresource: $scope.cardActionsResource,\n\t\t\t\t\tdelegate: $scope.delegates.cardActions\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.getStatusClassName = function(){\n\t\t\t\treturn transactionsService\n\t\t\t\t\t.statusesByFieldValue[\n\t\t\t\t\t\t$scope.transactionItem.fields.atendimento.atendimentoStatus\n\t\t\t\t\t];\n\t\t\t};\n\n\t\t\t$scope.getDaysToExpires = function(item){\n\n\t\t\t\tvar days = transactionsService.getExpiresTimeInDays(item);\n\n\t\t\t\treturn days > 99 ? '99+' : days;\n\t\t\t};\n\n\t\t\t$scope.getExpiresTooltip = function(item){\n\t\t\t\treturn transactionsService.getExpiresText(item);\n\t\t\t};\n\n\t\t\t$scope.$on(\n\t\t\t\t'$viewContentLoaded',\n\t\t\t\tfunction(){\n\t\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t\tif($routeParams.id){\n\t\t\t\t\t\t\tgetItem($routeParams.id);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t$scope.$on(\n\t\t\t\t'$destroy', function(){\n\t\t\t\t\tsetToastAttended();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tdestroyFactory({\n\t\t\t\tscope: $scope,\n\t\t\t\tobjects: [\n\t\t\t\t\t$scope.delegates\n\t\t\t\t]\n\t\t\t});\n\n\t\t}\n\t)\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transactions',[])\n\n\t.controller(\n\t\t'ViewTransactionsController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$routeParams,\n\t\t\t$location,\n\t\t\tpath,\n\t\t\ttransactionsService,\n\t\t\tpipelinesService,\n\t\t\tstageFormFactory,\n\t\t\tlistFactory,\n\t\t\tnavigationBarFactory,\n\t\t\tdestroyFactory,\n\t\t\tnotificationCenterTransactionsAwaiting,\n\t\t\tpendingProcessingService\n\t\t){\n\n\t\t\tnavigationBarFactory.backButton.hide();\n\n\t\t\tpath.setCurrent('transactions');\n\n\t\t\t$scope.breadcrumbs = [\n\t\t\t\t{\n\t\t\t\t\tlabel: path.getCurrent().label,\n\t\t\t\t\tpath: false\n\t\t\t\t}\n\t\t\t];\n\n\t\t\t$scope.loading = true;\n\t\t\t$scope.empty = false;\n\t\t\t$scope.error = false;\n\n\t\t\tvar generateStageSelectOption = function(response){\n\t\t\t\tif(!$scope.listObj.stageSelectOptions.length){\n\t\t\t\t\t$scope.listObj.stageSelectOptions = response.data.data;\n\t\t\t\t\tattachStagesToTransactions();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar attachStagesToTransactions = function(){\n\n\t\t\t\tvar stagesById = {};\n\t\t\t\t$scope.listObj.stageSelectOptions.map(function(item){\n\t\t\t\t\tstagesById[item.id] = item;\n\t\t\t\t});\n\n\t\t\t\t$scope.listObj.data.data.map(function(item){\n\t\t\t\t\titem.originalStageItem = item.stageItem =\n\t\t\t\t\t\tstagesById[item.fields.atendimento.atendimentoPipelineStageIdGuid];\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar viewStatuses = null;\n\n\t\t\tvar setViewStatuses = function(filters){\n\n\t\t\t\tif(!viewStatuses){\n\n\t\t\t\t\tviewStatuses = {};\n\n\t\t\t\t\tfilters.map(function(item){\n\t\t\t\t\t\tif(item.field == 'atendimentoStatus'){\n\t\t\t\t\t\t\tviewStatuses.defaultValue = item.defaultValue;\n\t\t\t\t\t\t\titem.options.map(function(status){\n\t\t\t\t\t\t\t\tviewStatuses[status.value] = status.name;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.viewTitle = {};\n\n\t\t\tvar setViewTitle = function(attrs, filters){\n\n\t\t\t\tsetViewStatuses(filters);\n\n\t\t\t\t$scope.viewTitle.title = path.getCurrent().label;\n\n\t\t\t\tif(attrs.params && attrs.params.filters && attrs.params.filters.atendimentoStatus){\n\t\t\t\t\t$scope.viewTitle.desc = viewStatuses[attrs.params.filters.atendimentoStatus];\n\t\t\t\t}else{\n\t\t\t\t\t$scope.viewTitle.desc = viewStatuses[viewStatuses.defaultValue];\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar fixWhenEmptyFilterByWaitingClients = function(filter){\n\n\t\t\t\tif(\n\t\t\t\t\t$scope.empty\n\t\t\t\t\t&&\n\t\t\t\t\tfilter\n\t\t\t\t\t&&\n\t\t\t\t\tfilter.filters\n\t\t\t\t\t&&\n\t\t\t\t\tObject.keys(filter.filters)[0] == 'atendimentoStatus'\n\t\t\t\t\t&&\n\t\t\t\t\tfilter.filters.atendimentoStatus == transactionsService.statuses.queue\n\t\t\t\t\t&&\n\t\t\t\t\tfilter.removeFilterWhenEmpty\n\t\t\t\t\t&&\n\t\t\t\t\tnotificationCenterTransactionsAwaiting.getTotalNewClients() > 0\n\t\t\t\t){\n\t\t\t\t\tpendingProcessingService.setEmptyTransactionsAwaiting();\n\t\t\t\t\t$scope.mainController.go(path.getPath('transactions'), true);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar get = function(attrs){\n\n\t\t\t\t$scope.empty = false;\n\t\t\t\t$scope.loading = true;\n\t\t\t\t$scope.error = false;\n\n\t\t\t\ttransactionsService.get(\n\t\t\t\t\t{\n\t\t\t\t\t\tparams: attrs.params,\n\t\t\t\t\t\tlink: attrs.link,\n\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\t\ttitle: 'Momentaneamente nenhum atendimento foi localizado.',\n\t\t\t\t\t\t\t\tmessage: 'Realize sua busca novamente.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\t\t$scope.listObj.data = response.data;\n\t\t\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t\t\t$scope.empty = !response.data.data || !response.data.data.length;\n\n\t\t\t\t\t\t\tfixWhenEmptyFilterByWaitingClients(attrs.params);\n\n\t\t\t\t\t\t\tif(!$scope.empty){\n\t\t\t\t\t\t\t\tpipelinesService.get({\n\t\t\t\t\t\t\t\t\tsuccess: generateStageSelectOption,\n\t\t\t\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\t\t\t\t\tonlyErrorMessage: true,\n\t\t\t\t\t\t\t\t\t\t\ttitle: 'Desculpe, estamos momentaneamente com dificuldades para permitir a troca de fases dos atendimentos',\n\t\t\t\t\t\t\t\t\t\t\tmessage: 'Por favor, tente novamente mais tarde, obrigado.'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(attrs.success){\n\t\t\t\t\t\t\t\tattrs.success();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetViewTitle(attrs, response.data.filters);\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(response){\n\t\t\t\t\t\t\t$scope.error = response.config.errorMessage;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar gerFilterHashLink = function(attrs){\n\n\t\t\t\treturn transactionsService.gerFilterHashLink(\n\t\t\t\t\tpath.getPath('transactions'),\n\t\t\t\t\tattrs,\n\t\t\t\t\t$routeParams\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.listObj = {\n\t\t\t\tdata: {},\n\t\t\t\tstageSelectOptions: [],\n\t\t\t\tdelegate: {\n\t\t\t\t\tget: function(attrs){\n\t\t\t\t\t\tvar hashLink = gerFilterHashLink(attrs);\n\t\t\t\t\t\t$scope.mainController.go(hashLink);\n\t\t\t\t\t},\n\t\t\t\t\tgerFilterHashLink: gerFilterHashLink\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.$on(\n\t\t\t\t'$viewContentLoaded',\n\t\t\t\tfunction(){\n\t\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t\tvar attrs = listFactory.getAttrsFromRouteParams($routeParams);\n\n\t\t\t\t\t\tget(attrs);\n\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t$scope.$on(\n\t\t\t\t'$destroy',\n\t\t\t\tfunction() {\n\t\t\t\t\tnavigationBarFactory.backButton.show();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tdestroyFactory({\n\t\t\t\tscope: $scope,\n\t\t\t\tobjects: [\n\t\t\t\t\t$scope.listObj\n\t\t\t\t]\n\t\t\t});\n\n\t\t}\n\t)\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.user-profile',[])\n\n\t.controller(\n\t\t'ViewUserProfileController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$filter,\n\t\t\t$timeout,\n\t\t\tpath,\n\t\t\tusersService\n\t\t){\n\n\t\t\tpath.setCurrent('user-profile');\n\n\t\t\t$scope.breadcrumbs = [{\n\t\t\t\tlabel: path.get('user-profile').label,\n\t\t\t\tpath: false\n\t\t\t}];\n\n\t\t\t$scope.viewTitle = {\n\t\t\t\ttitle: 'Dados',\n\t\t\t\tsubtitle: 'pessoais'\n\t\t\t};\n\n\t\t\tvar data = {};\n\n\t\t\t$scope.urlAvatar;\n\n\t\t\t$scope.formOptions = {};\n\t\t\t$scope.model = {};\n\t\t\t$scope.fields = [];\n\n\t\t\t$scope.error = false;\n\t\t\t$scope.loading = true;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\tvar setFields = function(){\n\n\t\t\t\tvar fieldsLayout = 'column';\n\n\t\t\t\t$scope.fields = [\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\tkey: 'usuarioNome',\n\t\t\t\t\t\tdefaultValue: data.fields.usuario.usuarioNome,\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Nome completo:',\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tminlength: 6,\n\t\t\t\t\t\t\tmaxlength: 100\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\tkey: 'usuarioApelido',\n\t\t\t\t\t\tdefaultValue: data.fields.usuario.usuarioApelido,\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Apelido:',\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\tmaxlength: 100\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'anaproEmail',\n\t\t\t\t\t\tkey: 'usuarioEmail',\n\t\t\t\t\t\tdefaultValue: data.fields.usuario.usuarioEmail,\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Email:',\n\t\t\t\t\t\t\tplaceholder: 'exemplo@exemplo.com',\n\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\tkey: 'usuarioSexo',\n\t\t\t\t\t\tdefaultValue: data.fields.usuario.usuarioSexo,\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Sexo:',\n\t\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: 'M',\n\t\t\t\t\t\t\t\t\tname: 'Masculino'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvalue: 'F',\n\t\t\t\t\t\t\t\t\tname: 'Feminino'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\tkey: 'usuarioCPF',\n\t\t\t\t\t\tclassName: 'fieldCPF',\n\t\t\t\t\t\tdefaultValue: data.fields.usuario.usuarioCPF,\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'CPF:',\n\t\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tcpf: true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'anaproDate',\n\t\t\t\t\t\tkey: 'usuarioDtNascimento',\n\t\t\t\t\t\tdefaultValue: data.fields.usuario.usuarioDtNascimento,\n\t\t\t\t\t\tclassName: 'input-nogrow',\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tlabel: 'Data de nascimento:',\n\t\t\t\t\t\t\tplaceholder: 'dd/mm/aaaa',\n\t\t\t\t\t\t\tmax: $filter('date')(\n\t\t\t\t\t\t\t\tnew Date(),\n\t\t\t\t\t\t\t\t'yyyy-MM-ddT00:00:00'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tdateFormat: 'yyyy-MM-ddT00:00:00',\n\t\t\t\t\t\t\ticon: 'calendar'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvalidation: {\n\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\tmax: function(){\n\t\t\t\t\t\t\t\t\treturn 'A data de nascimento precisa ser menor ou igual a hoje';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'multiinput',\n\t\t\t\t\t\tkey: 'usuarioTelefones',\n\t\t\t\t\t\tclassName: 'user-profile-phones-field',\n\t\t\t\t\t\tdefaultValue: data.fields.usuario.usuarioTelefones,\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tisArrayOfValues: true,\n\t\t\t\t\t\t\taddLabel: '+',\n\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'maskedInput',\n\t\t\t\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t\t\t\t'flex': ''\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\t\t\t\t\tmask: '(99) 9?9999-9999'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\tlabel: 'Telefones:'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\tclassName: 'dividerPassword',\n\t\t\t\t\t\ttemplate: '<hr/>'\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\tkey: 'usuarioSenhaAtual',\n\t\t\t\t\t\tclassName: 'fieldPassword',\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\ttype: 'password',\n\t\t\t\t\t\t\tlabel: 'Senha atual:',\n\t\t\t\t\t\t\thint: 'Deixe em branco caso no queira alterar a senha'\n\t\t\t\t\t\t},\n\t\t\t\t\t\texpressionProperties: {\n\t\t\t\t\t\t\t'templateOptions.required': '!!model.usuarioSenhaNova'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\tkey: 'usuarioSenhaNova',\n\t\t\t\t\t\tclassName: 'fieldPassword',\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\texpressionProperties: {\n\t\t\t\t\t\t\t'templateOptions.required': '!!model.usuarioSenhaAtual'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\ttype: 'password',\n\t\t\t\t\t\t\tlabel: 'Nova senha:',\n\t\t\t\t\t\t\tminlength: 8,\n\t\t\t\t\t\t\tmaxlength: 15,\n\t\t\t\t\t\t\thint: 'A senha deve conter entre 8 e 15 caracteres.'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvalidators: {\n\t\t\t\t\t\t\tpasswordConfirm: {\n\t\t\t\t\t\t\t\texpression: function(viewValue, modelValue){\n\n\t\t\t\t\t\t\t\t\tif(!modelValue){\n\t\t\t\t\t\t\t\t\t\tvar passwordConfirmField = $scope.fields[$scope.fields.length-1];\n\t\t\t\t\t\t\t\t\t\tpasswordConfirmField.value('');\n\t\t\t\t\t\t\t\t\t\tpasswordConfirmField.resetModel();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'input',\n\t\t\t\t\t\tkey: 'usuarioSenhaNovaConfirmacao',\n\t\t\t\t\t\tclassName: 'fieldPassword',\n\t\t\t\t\t\tmodel: {},\n\t\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\t\t'layout': fieldsLayout\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\ttype: 'password',\n\t\t\t\t\t\t\tlabel: 'Confirmar nova senha:',\n\t\t\t\t\t\t\thint: 'Digite novamente sua nova senha'\n\t\t\t\t\t\t},\n\t\t\t\t\t\texpressionProperties: {\n\t\t\t\t\t\t\t'templateOptions.required': function(){\n\t\t\t\t\t\t\t\tif($scope.model.usuarioSenhaNova){\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'templateOptions.disabled': function(){\n\t\t\t\t\t\t\t\tif($scope.model.usuarioSenhaNova){\n\t\t\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\treturn 'true';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tvalidators: {\n\t\t\t\t\t\t\tpasswordConfirm: {\n\t\t\t\t\t\t\t\texpression: function(viewValue, modelValue){\n\t\t\t\t\t\t\t\t\treturn modelValue == $scope.model.usuarioSenhaNova;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tmessage: '\"A confirmao de senha no confere.\"'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t];\n\t\t\t};\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar submitError = function(){\n\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\tpostExecute();\n\t\t\t};\n\n\t\t\tvar success = function(response){\n\n\t\t\t\tdata = response.data;\n\n\t\t\t\tsetFields();\n\t\t\t\tsetUrlAvatar();\n\n\t\t\t\t$scope.loading = false;\n\n\t\t\t};\n\n\t\t\tvar setUrlAvatar = function(){\n\t\t\t\t$scope.urlAvatar = data.fields.usuario.usuarioUrlImagem;\n\t\t\t};\n\n\t\t\tvar submitSuccess = function(response){\n\n\t\t\t\t$scope.submitStatus.success = true;\n\n\t\t\t\tdata = response.data;\n\n\t\t\t\tusersService.updateCurrentProfile(data.fields.usuario);\n\n\t\t\t\t$scope.model = {};\n\n\t\t\t\tsetFields();\n\t\t\t\tsetUrlAvatar();\n\n\t\t\t\tpostExecute();\n\n\t\t\t};\n\n\t\t\t$scope.submit = function(form){\n\n\t\t\t\tif(form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\tusersService.patchMyUser({\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\t\tusuario: $scope.model\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: submitSuccess,\n\t\t\t\t\t\terror: submitError\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\n\t\t\t\t$scope.formOptions.resetModel();\n\n\t\t\t};\n\n\t\t\tvar getUserProfileError = function(response){\n\t\t\t\t$scope.error = response.config.errorMessage;\n\t\t\t};\n\n\t\t\t$scope.$on(\n\t\t\t\t'$viewContentLoaded',\n\t\t\t\tfunction(){\n\t\t\t\t\tusersService.getMyUser({\n\t\t\t\t\t\tsuccess: success,\n\t\t\t\t\t\terror: getUserProfileError,\n\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\t\ttitle: 'Os seus dados esto indisponveis.',\n\t\t\t\t\t\t\t\tmessage: 'Por favor, tente novamente mais tarde.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\n\t\t}\n\t)\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.firebase', [])\n\n\t.factory(\n\t\t'firebaseService',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$timeout,\n\t\t\t$http,\n\t\t\tusersService,\n\t\t\tfirebaseProvider,\n\t\t\turls\n\t\t){\n\n\t\t\tvar listeners = [];\n\n\t\t\tvar firebaseInitSuccess = function(){\n\t\t\t\tlisteners.map(function(listenerProvider){\n\t\t\t\t\tif(listenerProvider.start){\n\t\t\t\t\t\tlistenerProvider.start();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar addListener = function(listenerProvider){\n\t\t\t\tlisteners.push(listenerProvider);\n\t\t\t};\n\n\t\t\tvar getTokenFromUserProfile = function(attrs){\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\tvar embedResouceFirebase = ((response.data.embed || {}).firebase);\n\n\t\t\t\t\t\tif(embedResouceFirebase){\n\n\t\t\t\t\t\t\tif(attrs.success){\n\t\t\t\t\t\t\t\tattrs.success(embedResouceFirebase);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}else if(attrs.error){\n\t\t\t\t\t\t\tattrs.error();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar getTokenFromService = function(attrs){\n\t\t\t\t$http({\n\t\t\t\t\turl: urls.apiHost + urls.apiPaths.firebaseToken,\n\t\t\t\t\tmethod: 'GET'\n\t\t\t\t}).then(function(response){\n\t\t\t\t\tattrs.success(response);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar getToken = function(attrs){\n\n\t\t\t\tif(attrs.fromUserProfile){\n\t\t\t\t\tgetTokenFromUserProfile({\n\t\t\t\t\t\tsuccess: function(embedResourceFirebase){\n\t\t\t\t\t\t\tif(embedResourceFirebase){\n\t\t\t\t\t\t\t\tattrs.success({\n\t\t\t\t\t\t\t\t\tdata: embedResourceFirebase\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tgetTokenFromService({\n\t\t\t\t\t\t\t\t\tsuccess: attrs.success\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(){\n\t\t\t\t\t\t\tgetTokenFromService({\n\t\t\t\t\t\t\t\tsuccess: attrs.success\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tgetTokenFromService({\n\t\t\t\t\t\tsuccess: attrs.success\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar init = function(){\n\n\t\t\t\tfirebaseProvider.init({\n\t\t\t\t\tgetToken: getToken,\n\t\t\t\t\tsuccess: firebaseInitSuccess\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tinit: init,\n\t\t\t\tgetToken: getToken,\n\t\t\t\taddListener: addListener\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.firebase')\n\n\t.provider(\n\t\t'firebaseProvider',\n\t\tfunction(){\n\n\t\t\tvar\n\t\t\t\tself = this,\n\t\t\t\tfirestoreDB,\n\t\t\t\ttoken;\n\n\t\t\tvar signout = function(success){\n\t\t\t\tfirebase.auth().signOut().then(function() {\n\n\t\t\t\t\tconsole.log('firebase: sign out success');\n\n\t\t\t\t\tif(typeof success == 'function'){\n\t\t\t\t\t\tsuccess();\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(function(error) {\n\t\t\t\t\tconsole.log('firebase: sign out error', error);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar signin = function(attrs){\n\n\t\t\t\tconsole.log('signin()');\n\n\t\t\t\tsignout(function(){\n\n\t\t\t\t\tfirebase.auth().signInWithCustomToken(token)\n\t\t\t\t\t\t.then(function(){\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'firebase: sign in success',\n\t\t\t\t\t\t\t\t'uid: ' + firebase.auth().currentUser.uid\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif(attrs.success){\n\t\t\t\t\t\t\t\tattrs.success();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error){\n\n\t\t\t\t\t\t\tconsole.log('sign in error', error);\n\n\t\t\t\t\t\t\tif(attrs.error){\n\t\t\t\t\t\t\t\tattrs.error();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tself.setFirestoreDB = function(){\n\t\t\t\tfirestoreDB = firebase.firestore();\n\t\t\t};\n\n\t\t\tself.getFirestoreDB = function(){\n\t\t\t\treturn firestoreDB;\n\t\t\t};\n\n\t\t\tself.getCurrentUser = function(){\n\t\t\t\treturn firebase.auth().currentUser;\n\t\t\t};\n\n\t\t\tvar getTokenService;\n\n\t\t\tvar getTokenServiceSuccess = function(response){\n\t\t\t\ttoken = response.data.fields.firebaseUserWebToken;\n\t\t\t};\n\n\t\t\tself.$get = function($rootScope, $timeout){\n\n\t\t\t\tvar countErrorLimit = 4;\n\n\t\t\t\tvar getToken = function(attrs){\n\t\t\t\t\tgetTokenService({\n\t\t\t\t\t\tfromUserProfile: attrs.fromUserProfile,\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\tgetTokenServiceSuccess(response);\n\t\t\t\t\t\t\tsignin(attrs);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tvar init = function(attrs){\n\n\t\t\t\t\tif(attrs.getToken){\n\t\t\t\t\t\tgetTokenService = attrs.getToken;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar errorInitCallback = attrs.error;\n\n\t\t\t\t\tattrs.error = function(){\n\n\t\t\t\t\t\tcountErrorLimit--;\n\t\t\t\t\t\tattrs.fromUserProfile = false;\n\n\t\t\t\t\t\tif(countErrorLimit >= 0){\n\t\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\t\tgetToken(attrs);\n\t\t\t\t\t\t\t},3000);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(errorInitCallback){\n\t\t\t\t\t\t\terrorInitCallback();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\tif(token){\n\t\t\t\t\t\tsignin(attrs);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tattrs.fromUserProfile = true;\n\t\t\t\t\t\tgetToken(attrs);\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tself.init = init;\n\t\t\t\tself.signout = signout;\n\n\t\t\t\treturn self;\n\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.firebase')\n\n\t.run(function(\n\t\tfirebaseService,\n\t\tfirebaseListenerChatLegacy\n\t){\n\n\t\tfirebaseService.addListener(firebaseListenerChatLegacy);\n\n\t})\n\n\t.provider(\n\t\t'firebaseListenerChatLegacy',\n\t\tfunction(){\n\n\t\t\tvar self = this;\n\n\t\t\tself.$get = function(\n\t\t\t\t$rootScope,\n\t\t\t\tfirebaseProvider,\n\t\t\t\tfirebaseBroadcastsNames,\n\t\t\t\tfirebaseCollections,\n\t\t\t\tfirebaseCollectionsItemId,\n\t\t\t\tnotificationCenterFactory\n\t\t\t){\n\n\t\t\t\tvar onSnapshot = function(snapshot){\n\n\t\t\t\t\tvar chats = [];\n\n\t\t\t\t\tsnapshot.forEach(function(doc){\n\n\t\t\t\t\t\tvar data = doc.data();\n\t\t\t\t\t\tdata.id = data[firebaseCollectionsItemId.chat];\n\n\t\t\t\t\t\tchats.push(data);\n\n\t\t\t\t\t});\n\n\t\t\t\t\tnotificationCenterFactory.dispatch(\n\t\t\t\t\t\tfirebaseCollections.chat,\n\t\t\t\t\t\tchats\n\t\t\t\t\t);\n\n\t\t\t\t\t$rootScope.$digest();\n\n\t\t\t\t};\n\n\t\t\t\tvar start = function(){\n\n\t\t\t\t\tfirebaseProvider\n\t\t\t\t\t.getFirestoreDB()\n\t\t\t\t\t.collection(firebaseCollections.chat)\n\t\t\t\t\t.where('UsuarioIdGuid', '==', firebaseProvider.getCurrentUser().uid)\n\t\t\t\t\t.where('ChatStatus', '==', 'Criado')\n\t\t\t\t\t.onSnapshot(onSnapshot);\n\n\t\t\t\t};\n\n\t\t\t\tself.start = start;\n\n\t\t\t\treturn self;\n\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.firebase')\n\n\t.run(function(\n\t\tfirebaseService,\n\t\tfirebaseListenerPendenciaProcessamento\n\t){\n\n\t\tfirebaseService.addListener(firebaseListenerPendenciaProcessamento);\n\n\t})\n\n\t.provider(\n\t\t'firebaseListenerPendenciaProcessamento',\n\t\tfunction(){\n\n\t\t\tvar self = this;\n\n\t\t\tself.$get = function(\n\t\t\t\t$rootScope,\n\t\t\t\tfirebaseProvider,\n\t\t\t\tfirebaseBroadcastsNames,\n\t\t\t\tfirebaseCollections\n\t\t\t){\n\n\t\t\t\tvar start = function(){\n\n\t\t\t\t\tfirebaseProvider\n\t\t\t\t\t.getFirestoreDB()\n\t\t\t\t\t.collection(firebaseCollections.pendingProcessing)\n\t\t\t\t\t.doc(firebaseProvider.getCurrentUser().uid)\n\t\t\t\t\t.onSnapshot(function(doc){\n\t\t\t\t\t\t$rootScope.$broadcast(\n\t\t\t\t\t\t\tfirebaseBroadcastsNames.pendenciaprocessamento,\n\t\t\t\t\t\t\tdoc.data()\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tself.start = start;\n\n\t\t\t\treturn self;\n\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.firebase')\n\n\t.run(function(\n\t\tfirebaseService,\n\t\tfirebaseListenerPositionInQueues\n\t){\n\n\t\tfirebaseService.addListener(firebaseListenerPositionInQueues);\n\n\t})\n\n\t.provider(\n\t\t'firebaseListenerPositionInQueues',\n\t\tfunction(){\n\n\t\t\tvar self = this;\n\n\t\t\tself.$get = function(\n\t\t\t\t$rootScope,\n\t\t\t\tnotificationCenterFactory,\n\t\t\t\tfirebaseProvider,\n\t\t\t\tfirebaseBroadcastsNames,\n\t\t\t\tfirebaseCollections,\n\t\t\t\tusersService\n\t\t\t){\n\n\t\t\t\tvar onSnapshot = function(doc){\n\t\t\t\t\tnotificationCenterFactory.dispatch(\n\t\t\t\t\t\tfirebaseCollections.queuesChannelChatByUser,\n\t\t\t\t\t\tdoc.data() || {}\n\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tvar getUserProfile = function(){\n\n\t\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\tstartFirebaseCollectionSnapshot({\n\t\t\t\t\t\t\t\tusuarioIdGuid: response.data.fields.usuario.usuarioIdGuid,\n\t\t\t\t\t\t\t\tcontaSistemaIdGuid: response.data.extraInfo.contaSistemaIdGuid\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tvar startFirebaseCollectionSnapshot = function(attrs){\n\n\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t'firebaseListenerPositionInQueues.startFirebaseCollectionSnapshot',\n\t\t\t\t\t\tattrs,\n\t\t\t\t\t\t'/' + firebaseCollections.queuesChannelChatByUser\n\t\t\t\t\t\t+ '/' + attrs.contaSistemaIdGuid + ':' + attrs.usuarioIdGuid\n\t\t\t\t\t]);\n\n\t\t\t\t\tfirebaseProvider\n\t\t\t\t\t.getFirestoreDB()\n\t\t\t\t\t.collection(firebaseCollections.queuesChannelChatByUser)\n\t\t\t\t\t.doc(attrs.contaSistemaIdGuid + ':' + attrs.usuarioIdGuid)\n\t\t\t\t\t.onSnapshot(onSnapshot);\n\n\t\t\t\t};\n\n\t\t\t\tvar start = function(){\n\n\t\t\t\t\tgetUserProfile();\n\n\t\t\t\t};\n\n\t\t\t\tself.start = start;\n\n\t\t\t\treturn self;\n\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.firebase')\n\n\t.factory(\n\t\t'firebaseListenerQueuesChannel',\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\tfirebaseProvider,\n\t\t\tfirebaseCollections\n\t\t){\n\n\t\t\tvar getListener = function(attrs){\n\n\t\t\t\treturn firebaseProvider\n\t\t\t\t.getFirestoreDB()\n\t\t\t\t.collection(firebaseCollections.queuesChannel[attrs.channel])\n\t\t\t\t.doc(attrs.id)\n\t\t\t\t.onSnapshot(function(doc){\n\n\t\t\t\t\tvar data = doc.data();\n\n\t\t\t\t\tif(data){\n\n\t\t\t\t\t\tconsole.log([\n\t\t\t\t\t\t\t'firebaseListenerQueuesChannel.getListenerOnSnapShort()',\n\t\t\t\t\t\t\tattrs,\n\t\t\t\t\t\t\tangular.copy(data)\n\t\t\t\t\t\t]);\n\n\t\t\t\t\t\tdata.collection = firebaseCollections.queuesChannel[attrs.channel];\n\t\t\t\t\t\tdata.channel = attrs.channel;\n\n\t\t\t\t\t\tif(typeof attrs.success == 'function'){\n\t\t\t\t\t\t\tattrs.success(data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tif(typeof attrs.error == 'function'){\n\t\t\t\t\t\t\tattrs.error({});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t$rootScope.$digest();\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tgetListener: getListener\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('services.firebase')\n\n\t.run(function(\n\t\tfirebaseService,\n\t\tfirebaseListenerSystemMessages\n\t){\n\n\t\tfirebaseService.addListener(firebaseListenerSystemMessages);\n\n\t})\n\n\t.provider(\n\t\t'firebaseListenerSystemMessages',\n\t\tfunction(){\n\n\t\t\tvar self = this;\n\n\t\t\tself.$get = function(\n\t\t\t\t$rootScope,\n\t\t\t\tfirebaseProvider,\n\t\t\t\tfirebaseBroadcastsNames,\n\t\t\t\tfirebaseCollections,\n\t\t\t\tnotificationCenterFactory,\n\t\t\t\tusersService\n\t\t\t){\n\n\t\t\t\tvar contaSistemaIdGuid;\n\n\t\t\t\tvar getUserDocumentPath = function(){\n\t\t\t\t\treturn firebaseCollections.systemMessages\n\t\t\t\t\t+ '/'\n\t\t\t\t\t+ contaSistemaIdGuid\n\t\t\t\t\t+ ':'\n\t\t\t\t\t+ firebaseProvider.getCurrentUser().uid;\n\t\t\t\t};\n\n\t\t\t\tvar setMessageRead = function(id){\n\t\t\t\t\tfirebaseProvider\n\t\t\t\t\t\t.getFirestoreDB()\n\t\t\t\t\t\t.doc(getUserDocumentPath(contaSistemaIdGuid))\n\t\t\t\t\t\t.collection('messages')\n\t\t\t\t\t\t.doc(id)\n\t\t\t\t\t\t.set({\n\t\t\t\t\t\t\tunread: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmerge: true\n\t\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tvar startFirebaseCollection = function(){\n\n\t\t\t\t\tif(contaSistemaIdGuid){\n\n\t\t\t\t\t\tconsole.log(contaSistemaIdGuid + ':' + firebaseProvider.getCurrentUser().uid);\n\n\t\t\t\t\t\tfirebaseProvider\n\t\t\t\t\t\t\t.getFirestoreDB()\n\t\t\t\t\t\t\t.doc(getUserDocumentPath(contaSistemaIdGuid))\n\t\t\t\t\t\t\t.collection('messages')\n\t\t\t\t\t\t\t.where('unread', '==', true)\n\t\t\t\t\t\t\t.onSnapshot(function(snapshot){\n\n\t\t\t\t\t\t\t\tvar newMessages = [];\n\n\t\t\t\t\t\t\t\tsnapshot.docChanges.forEach(function(change){\n\t\t\t\t\t\t\t\t\tif(change.type == 'added'){\n\n\t\t\t\t\t\t\t\t\t\tvar data = change.doc.data();\n\n\t\t\t\t\t\t\t\t\t\tif(!data.id){\n\t\t\t\t\t\t\t\t\t\t\tdata.id = change.doc.id;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tdata.onTap = function(){\n\t\t\t\t\t\t\t\t\t\t\tsetMessageRead(data.id);\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tdata.onHidden = function(){\n\t\t\t\t\t\t\t\t\t\t\tsetMessageRead(data.id);\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tnewMessages.push(data);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tnotificationCenterFactory.dispatch(\n\t\t\t\t\t\t\t\t\tfirebaseCollections.systemMessages,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tsystemMessages: newMessages\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar start = function(){\n\n\t\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\tcontaSistemaIdGuid = response.data.extraInfo.contaSistemaIdGuid;\n\t\t\t\t\t\t\tstartFirebaseCollection();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\tself.start = start;\n\n\t\t\t\treturn self;\n\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-followup-item',[\n\t\t'directives.card-followup-email',\n\t\t'directives.card-followup-email-modal',\n\t\t'directives.card-followup-ligacao',\n\t\t'directives.card-followup-chat',\n\t\t'directives.card-followup-sells'\n\t])\n\n\t.factory(\n\t\t'cardFollowupItemFactory',\n\n\t\tfunction(){\n\n\t\t\tvar\n\n\t\t\t\ttypeSVGIcon = {\n\t\t\t\t\tinteracaoNota: 'note',\n\t\t\t\t\tinteracaoAtividade: 'appointment',\n\t\t\t\t\tcall: 'phone',\n\t\t\t\t\tinteracaoEmail: 'envelope',\n\t\t\t\t\tinteracaoLog: 'gear',\n\t\t\t\t\tinteracaoChat: 'chat3',\n\t\t\t\t\tinteracaoLigacao: 'phone',\n\t\t\t\t\tdone: 'checked',\n\t\t\t\t\tinteracaoNegociacao: {\n\t\t\t\t\t\t'defaultType': 'house-with-dollar-sign2',\n\t\t\t\t\t\t'NEGOCIACAOSIMULACAO': 'house-calculator',\n\t\t\t\t\t\t'NEGOCIACAOPROPOSTA': 'house-calculator'\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tcontentByType = {\n\t\t\t\t\tinteracaoAtividade: 'interacaoTexto',\n\t\t\t\t\tinteracaoNota: 'interacaoTexto',\n\t\t\t\t\tinteracaoChat: 'interacaoChatConversas',\n\t\t\t\t\tinteracaoLog: 'interacaoTexto',\n\t\t\t\t\tinteracaoLigacao: 'interacaoLigacaoDuracao',\n\t\t\t\t\tinteracaoEmail: 'interacaoEmailAssunto'\n\t\t\t\t};\n\n\t\t\tvar getTypeSVGIcon = function(type, interaction){\n\n\t\t\t\tif(typeSVGIcon[type].defaultType){\n\n\t\t\t\t\treturn typeSVGIcon[type][interaction.interacaoTipoSubSys] || typeSVGIcon[type].defaultType;\n\n\t\t\t\t}else{\n\n\t\t\t\t\treturn typeSVGIcon[type];\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tgetTypeSVGIcon: getTypeSVGIcon,\n\t\t\t\tcontentByType: contentByType\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.controller(\n\t\t'CardFollowupItemController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$sce,\n\t\t\tpath,\n\t\t\tcardFollowupItemFactory,\n\t\t\tfollowupService,\n\t\t\toriginalEmailFactory,\n\t\t\tligacaoFollowupFactory,\n\t\t\tchatFollowupFactory,\n\t\t\tsellsFollowupFactory\n\t\t){\n\n\t\t\tvar\n\t\t\t\ttype,\n\t\t\t\tcardContentSize = 200;\n\n\t\t\t// to be used when set pill colors`\n\t\t\t$scope.clientName;\n\n\t\t\tvar generateContentByType = {\n\t\t\t\tinteracaoChat: function(){\n\n\t\t\t\t\treturn chatFollowupFactory.generateChatContent({\n\t\t\t\t\t\titem: $scope.item.fields.interacaoChat\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tinteracaoLigacao: function(){\n\n\t\t\t\t\treturn ligacaoFollowupFactory.generateLigacaoContent({\n\t\t\t\t\t\titem: $scope.item.fields.interacaoLigacao\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tinteracaoNegociacao: function(){\n\n\t\t\t\t\treturn sellsFollowupFactory.generateContent({\n\t\t\t\t\t\titem: $scope.item.fields.interacaoNegociacao\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar setContentHashTags = function(){\n\t\t\t\t$scope.content = $sce.trustAsHtml(\n\t\t\t\t\t$scope.content.replace(\n\t\t\t\t\t\t/(#.*?)(\\s|\\n|$)/g,\n\t\t\t\t\t\tfunction(arg1, arg2, arg3){\n\t\t\t\t\t\t\treturn '<a href=\"'\n\t\t\t\t\t\t\t+ path.getPath('transactions')\n\t\t\t\t\t\t\t+ encodeURIComponent(arg1)\n\t\t\t\t\t\t\t+ '\">' + arg2 + '</a>' + arg3;\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tvar setContent = function(){\n\t\t\t\t$scope.content = generateContentByType[type]\n\t\t\t\t\t? generateContentByType[type]()\n\t\t\t\t\t: $scope.interaction[cardFollowupItemFactory.contentByType[type] || 'interacaoTexto'];\n\t\t\t};\n\n\t\t\tvar setItem = function(){\n\t\t\t\ttype = followupService.getType($scope.item);\n\t\t\t\t$scope.interaction = followupService.getInteraction($scope.item);\n\t\t\t};\n\n\t\t\t$scope.getTypeInteraction = function(){\n\t\t\t\tvar type = followupService.getType($scope.item);\n\n\t\t\t\tif(\n\t\t\t\t\t/interacaoNota|interacaoAtividade|interacaoNegociacao/.test(type)\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.interaction.interacaoTipoSub\n\t\t\t\t){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tvar getAlarmDate = function(){\n\n\t\t\t\tif($scope.interaction.tarefa && $scope.interaction.tarefa.alarme){\n\t\t\t\t\treturn $scope.interaction.tarefa.alarme.alarmeDtAlarme;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t\tvar setDateTemplate = function(){\n\t\t\t\t$scope.dateTemplate = getAlarmDate()\n\t\t\t\t\t|| $scope.interaction.interacaoDtConclusao\n\t\t\t\t\t|| $scope.interaction.interacaoDtInclusao;\n\t\t\t};\n\n\t\t\tvar setDropdownMenu = function(){\n\t\t\t\tif($scope.interaction.interacaoRealizado){\n\t\t\t\t\t$scope.hasTask = false;\n\t\t\t\t\t$scope.hasTaskToBeDone = false;\n\t\t\t\t\t$scope.hasAlarm = false;\n\t\t\t\t}else{\n\t\t\t\t\t$scope.hasTask = !!$scope.interaction.tarefa;\n\t\t\t\t\t$scope.hasTaskToBeDone = $scope.hasTask && !$scope.interaction.interacaoRealizado;\n\t\t\t\t\t$scope.hasAlarm = !$scope.interaction.interacaoRealizado\n\t\t\t\t\t\t&& $scope.hasTask && !!$scope.interaction.tarefa.alarme;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.toggleDropdownMenu = function(event){\n\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\t$($(event.target).closest('.btn-group')).find('.dropdown-menu').dropdown('toggle');\n\n\t\t\t};\n\n\t\t\t$scope.getDescriptionBodyClass = function(){\n\t\t\t\treturn {\n\t\t\t\t\t'hidden-content': $scope.showButtonMoreContent && $scope.isContentHidden,\n\t\t\t\t\t'display-content': $scope.showButtonMoreContent && !$scope.isContentHidden\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t$scope.showButtonMoreContent = false;\n\t\t\t$scope.isContentHidden = true;\n\n\t\t\t$scope.toggleHiddenContent = function(){\n\t\t\t\t$scope.isContentHidden = !$scope.isContentHidden;\n\t\t\t};\n\n\t\t\tvar setShowButtonMoreContent = function(){\n\t\t\t\tvar content = $scope.content;\n\n\t\t\t\tif(content.length > cardContentSize){\n\t\t\t\t\t$scope.showButtonMoreContent = true;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar processItem = function(){\n\t\t\t\tsetItem();\n\t\t\t\tsetContent();\n\t\t\t\tsetShowButtonMoreContent();\n\t\t\t\tsetContentHashTags();\n\t\t\t\tsetDateTemplate();\n\t\t\t\tsetDropdownMenu();\n\t\t\t\tsetAvatarItem();\n\t\t\t};\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\t$scope.resource = $scope.$parent.resource;\n\n\t\t\t$scope.modalDelegate = {\n\t\t\t\thide: function(){\n\t\t\t\t\t$scope.edit = false;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.getSVGIcon = function(){\n\n\t\t\t\treturn cardFollowupItemFactory.getTypeSVGIcon(type, $scope.interaction);\n\n\t\t\t\t// if(/interacaoNota|interacaoAtividade/.test(type)\n\t\t\t\t// \t&& $scope.interaction.interacaoRealizado\n\t\t\t\t// \t&& $scope.interaction.tarefa\n\t\t\t\t// ){\n\t\t\t\t// \tsvgIcon = typeSVGIcon['done'];\n\t\t\t\t// }\n\n\t\t\t\t// return svgIcon;\n\t\t\t};\n\n\t\t\t$scope.edit = false;\n\n\t\t\t$scope.activeEdit = function(){\n\t\t\t\t$scope.edit = true;\n\t\t\t};\n\n\t\t\t$scope.done = function(){\n\n\t\t\t\t$scope.edit = false;\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\tfollowupService.actions({\n\t\t\t\t\titem: $scope.item,\n\t\t\t\t\taction: 'taskDone',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\ttarefa: {\n\t\t\t\t\t\t\t\ttarefaRealizado: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttoastrMessages: getToastMessage('atualizar'),\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t\t$scope.itemDelegate.reschedule(response.data);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(){\n\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t// $scope.deleteItem = function(){\n\n\t\t\t// \t$scope.loading = true;\n\n\t\t\t// \tfollowupService.deleteItem({\n\t\t\t// \t\titem: $scope.item,\n\t\t\t// \t\tsuccess: function(response){\n\t\t\t// \t\t\t$scope.submitStatus.success = true;\n\t\t\t// \t\t\tpostExecute(function(){\n\t\t\t// \t\t\t\t$scope.delegate.deleteItem($scope.item);\n\t\t\t// \t\t\t});\n\t\t\t// \t\t\tshowToast(response);\n\t\t\t// \t\t},\n\t\t\t// \t\terror: function(response){\n\t\t\t// \t\t\t$scope.submitStatus.error = true;\n\t\t\t// \t\t\tpostExecute();\n\t\t\t// \t\t\tshowToast(response);\n\t\t\t// \t\t}\n\t\t\t// \t});\n\n\t\t\t// };\n\n\t\t\t$scope.getOriginalEmail = function() {\n\n\t\t\t\toriginalEmailFactory.show({\n\t\t\t\t\titem: $scope.item\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$scope.itemDelegate = {\n\t\t\t\treschedule: function(item){\n\n\t\t\t\t\tvar oldItem = $scope.item;\n\n\t\t\t\t\t$scope.item = item;\n\n\t\t\t\t\tprocessItem();\n\n\t\t\t\t\titemClass.overdue = false;\n\n\t\t\t\t\tif($scope.interaction.tarefa){\n\t\t\t\t\t\tif($scope.interaction.tarefa.tarefaRealizado){\n\t\t\t\t\t\t\titemClass.due = false;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\titemClass.due = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.delegate.patchItem(oldItem, item);\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.getType = function(){\n\t\t\t\treturn type;\n\t\t\t};\n\n\t\t\t$scope.isType = function(itemType){\n\t\t\t\treturn type == itemType;\n\t\t\t};\n\n\t\t\tvar getToastMessage = function(action){\n\n\t\t\t\treturn {\n\t\t\t\t\tserverError: {\n\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para '\n\t\t\t\t\t\t\t+ action\n\t\t\t\t\t\t\t+ ' esse item',\n\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tvar postExecute = function(callback){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\tif(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tif($scope.item.added){\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tdelete $scope.item.added;\n\t\t\t\t},1000);\n\t\t\t}\n\n\t\t\t$scope.isOverdue = function(){\n\t\t\t\treturn itemClass.overdue;\n\t\t\t};\n\n\t\t\tvar itemClass = {\n\t\t\t\toverdue: $scope.overdue === 'true',\n\t\t\t\tdue: $scope.due === 'true'\n\t\t\t};\n\n\t\t\t$scope.getItemClass = function(){\n\t\t\t\treturn itemClass;\n\t\t\t};\n\n\t\t\t$scope.avatarItem = {};\n\n\t\t\tvar setAvatarItem = function(){\n\n\t\t\t\t$scope.avatarItem= angular.merge(\n\t\t\t\t\t{},\n\t\t\t\t\t$scope.interaction.interacaoAtorPartida.usuario,\n\t\t\t\t\t$scope.interaction.interacaoAtorPartida.prospect\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.hasAvatar = function(){\n\n\t\t\t\treturn $scope.avatarItem.usuarioUrlImagem || $scope.avatarItem.prospectUrlImagem;\n\t\t\t};\n\n\t\t\tprocessItem();\n\n\t\t}\n\t)\n\n\t.directive('cardFollowupItem', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-followup/item/item.html',\n\t\t\tcontroller: 'CardFollowupItemController',\n\t\t\tscope: {\n\t\t\t\toverdue: '@',\n\t\t\t\tdue: '@',\n\t\t\t\titem: '=item',\n\t\t\t\tdelegate: '=delegate'\n\t\t\t}\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.navigationBarActions', [])\n\n\t\t.factory(\n\t\t\t'navigationBarActionsFactory',\n\t\t\tfunction($modal){\n\n\t\t\t\tvar showModal = function(){\n\n\t\t\t\t\t$modal({\n\t\t\t\t\t\ttemplateUrl: 'navigation-bar/actions/modal.html',\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\t\tcontroller: function($scope){\n\n\t\t\t\t\t\t\t$scope.delegate = {};\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tshowModal: showModal\n\t\t\t\t};\n\n\t\t\t}\n\t\t)\n\n\t\t.controller(\n\t\t\t'NavigationBarActionsController',\n\n\t\t\tfunction(\n\t\t\t\t$rootScope,\n\t\t\t\t$scope,\n\t\t\t\tpath,\n\t\t\t\tautomateNewLeadFactory,\n\t\t\t\taddClientFactory,\n\t\t\t\tcardActionFactory,\n\t\t\t\tusersService\n\t\t\t){\n\n\t\t\t\t$scope.urlModuleSells = false;\n\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t$scope.urlModuleSells = response.data.extraInfo.contaSistemaVendasUrl;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$scope.btnClass = {\n\t\t\t\t\t'btn-bigicon-text': $scope.modalDelegate\n\t\t\t\t};\n\n\t\t\t\tvar addClientDelegate = {\n\t\t\t\t\treset: function() {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'NavigationBarActionsController.addClientDelegate.reset()'\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\titemAddedCurrentUserHasNoAccess: function(item) {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'NavigationBarActionsController.addClientDelegate.',\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\titemAddedToCurrentUser: function(item) {\n\t\t\t\t\t\tconsole.log('NavigationBarActionsController.addClientDelegate.');\n\t\t\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\t\t\tpath.get('transaction').withItem(item)\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\titemAddedToOtherUser: function(item) {\n\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t'NavigationBarActionsController.addClientDelegate.itemAddedToOtherUser()',\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvar hideModal = function(){\n\t\t\t\t\tif($scope.modalDelegate){\n\t\t\t\t\t\t$scope.modalDelegate.hide();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t$scope.showModalAddClient = function() {\n\n\t\t\t\t\thideModal();\n\n\t\t\t\t\taddClientFactory.showModal({\n\t\t\t\t\t\tdelegate: addClientDelegate\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\t$scope.showCardActionsModal = function(tabButtonActivated){\n\n\t\t\t\t\thideModal();\n\n\t\t\t\t\tcardActionFactory.showModal({\n\t\t\t\t\t\tresource: {\n\t\t\t\t\t\t\tid: null,\n\t\t\t\t\t\t\tresource: 'transactions'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttabButtonActivated: tabButtonActivated\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\t$scope.getNewLead = function() {\n\t\t\t\t\thideModal();\n\t\t\t\t\tautomateNewLeadFactory.get();\n\t\t\t\t};\n\n\t\t\t\t$scope.getNewLeadButtonClass = function(){\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'disabled-item' : automateNewLeadFactory.isDisabled()\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t$scope.isAutomateNewLeadDisabled = function(){\n\t\t\t\t\treturn automateNewLeadFactory.isDisabled();\n\t\t\t\t};\n\n\t\t\t\t$scope.activeOfferMessage = function(){\n\t\t\t\t\treturn automateNewLeadFactory.activeOfferMessage();\n\t\t\t\t};\n\n\t\t\t}\n\t\t)\n\n\t\t.directive('navigationBarActions', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\treplace: true,\n\t\t\t\ttemplateUrl: 'navigation-bar/actions/actions.html',\n\t\t\t\tcontroller: 'NavigationBarActionsController',\n\t\t\t\tscope: {\n\t\t\t\t\tmodalDelegate: '='\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.navigationBarChat', [])\n\n\t\t.controller(\n\t\t\t'NavigationBarChatController',\n\n\t\t\tfunction(\n\t\t\t\t$scope,\n\t\t\t\tuserStatusFactory,\n\t\t\t\tnotificationCenterTransactionsAwaiting\n\t\t\t) {\n\n\t\t\t\t$scope.isEnabled = function(){\n\t\t\t\t\treturn userStatusFactory.isEnabled('chat');\n\t\t\t\t};\n\n\t\t\t\tvar bulletClass = {};\n\n\t\t\t\t$scope.getBulletClass = function(){\n\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\tbulletClass,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdisabled: userStatusFactory.isDisabled('chat'),\n\t\t\t\t\t\t\tonline: userStatusFactory.isOnline('chat'),\n\t\t\t\t\t\t\toffline: userStatusFactory.isOffline('chat'),\n\t\t\t\t\t\t\tpaused: userStatusFactory.isPaused('chat')\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\treturn bulletClass;\n\n\t\t\t\t};\n\n\t\t\t\t$scope.getTotalChats = function(){\n\t\t\t\t\treturn notificationCenterTransactionsAwaiting.getTotalChats() || '';\n\t\t\t\t};\n\n\t\t\t}\n\t\t)\n\n\t\t.directive('navigationBarChat', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\treplace: true,\n\t\t\t\ttemplateUrl: 'navigation-bar/chat/navigation-bar-chat.html',\n\t\t\t\tcontroller: 'NavigationBarChatController as navigationBarChatController'\n\t\t\t};\n\t\t});\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.navigationBarMobileUserStatus', [])\n\n\t.controller(\n\t\t'NavigationBarMobileUserStatusController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$element,\n\t\t\t$timeout,\n\t\t\tpath,\n\t\t\tuserStatusFactory,\n\t\t\tusersService\n\t\t) {\n\n\t\t\t$scope.userProfile = {};\n\t\t\t$scope.delegate = $scope.delegate || {};\n\n\t\t\t$scope.classToggle = {\n\t\t\t\tshow: false\n\t\t\t};\n\n\t\t\t$scope.toggle = function(){\n\t\t\t\t$scope.classToggle.show = !$scope.classToggle.show;\n\t\t\t\trunDelegate();\n\t\t\t};\n\n\t\t\t$element.on(\n\t\t\t\t'click',\n\t\t\t\tfunction(event){\n\t\t\t\t\tif(!$(event.target).closest('[hide-mobile-menu-on-tap]').length){\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tvar runDelegate = function(){\n\t\t\t\tif($scope.classToggle.show && $scope.delegate.show){\n\t\t\t\t\t$scope.delegate.show();\n\t\t\t\t}else if(!$scope.classToggle.show && $scope.delegate.hide){\n\t\t\t\t\t$scope.delegate.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getUserProfile = function(reload){\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\treload: reload,\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t$scope.userProfile = response.data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\trunDelegate();\n\t\t\tgetUserProfile();\n\n\t\t}\n\t)\n\n\t.directive('navigationBarMobileUserStatus', function() {\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tdelegate: '='\n\t\t\t},\n\t\t\ttemplateUrl: 'navigation-bar/mobile-user-status/mobile-user-status.html',\n\t\t\tcontroller: 'NavigationBarMobileUserStatusController as navigationBarMobileUserStatusController'\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.navigationBarWhatsnew', [])\n\n\t\t.controller(\n\t\t\t'NavigationBarWhatsnewController',\n\n\t\t\tfunction(\n\t\t\t\t$timeout,\n\t\t\t\tbeamerFactory\n\t\t\t) {\n\n\t\t\t\t$timeout(beamerFactory.init);\n\n\t\t\t}\n\t\t)\n\n\t\t.directive('navigationBarWhatsnew', function() {\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\treplace: true,\n\t\t\t\ttemplateUrl: 'navigation-bar/whatsnew/whatsnew.html',\n\t\t\t\tcontroller: 'NavigationBarWhatsnewController'\n\t\t\t};\n\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.notifications-container.dialog-container',[\n\t\t'directives.notifications-container.dialog'\n\t])\n\n\t.provider('notificationsContainerDialogContainer', function(){\n\n\t\tvar self = this;\n\n\t\tvar element;\n\n\t\tvar scope;\n\n\t\tself.setElement = function(scopeElement, directiveElement){\n\t\t\tscope = scopeElement;\n\t\t\telement = directiveElement;\n\t\t};\n\n\t\tself.getNewScope = function(){\n\t\t\treturn scope.$new();\n\t\t};\n\n\t\tself.$get = function(\n\t\t\t$timeout\n\t\t){\n\n\t\t\tself.append = function(dialog){\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\telement.append(dialog.element);\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\treturn self;\n\n\t\t};\n\n\t})\n\n\t.controller(\n\t\t'NotificationsContainerDialogContainerController',\n\n\t\tfunction($scope){\n\t\t\t$scope;\n\t\t}\n\t)\n\n\t.directive(\n\t\t'notificationsContainerDialogContainer',\n\n\t\tfunction(notificationsContainerDialogContainer){\n\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplateUrl: 'notifications-container/dialog-container/dialog-container.html',\n\t\t\t\tcontroller: 'NotificationsContainerDialogContainerController',\n\t\t\t\tscope: {},\n\t\t\t\tcompile: function(){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpre: function(scope, element){\n\t\t\t\t\t\t\tnotificationsContainerDialogContainer.setElement(scope, element);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.queues-handler-position')\n\n\t.controller(\n\t\t'QueuesHandlerPositionInputController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$element,\n\t\t\tpermission,\n\t\t\tqueuesService\n\t\t){\n\n\t\t\tvar currentPosition;\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\t$scope.reset = function(){\n\t\t\t\t$scope.edit = false;\n\t\t\t\t$scope.model = {};\n\t\t\t};\n\n\t\t\t$scope.setEdit = function(){\n\n\t\t\t\tif($scope.hasHandlerPositionPermission() !== true){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$scope.$parent.$parent.$broadcast('QueuesHandlerPositionEditing', $scope.item);\n\n\t\t\t\tcurrentPosition = $scope.item.Ordem;\n\n\t\t\t\t$scope.edit = true;\n\n\t\t\t\t$scope.fields = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'numberInput',\n\t\t\t\t\t\tkey: 'position',\n\t\t\t\t\t\tdefaultValue: currentPosition,\n\t\t\t\t\t\tclassName: 'input-position',\n\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tdecimals: 0,\n\t\t\t\t\t\t\tminValue: 1,\n\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$($element).find('input').focus();\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$scope.formOptions = {};\n\t\t\t$scope.model = {};\n\n\t\t\t$scope.submit = function(form){\n\n\t\t\t\tif(form.$valid){\n\n\t\t\t\t\t$scope.edit = false;\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\t$scope.item.Ordem = $scope.model.position;\n\n\t\t\t\t\tif($scope.item.Ordem > $scope.queue.Posicoes.length){\n\t\t\t\t\t\t$scope.item.Ordem = $scope.queue.Posicoes.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tqueuesService.actions({\n\t\t\t\t\t\taction: 'position',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\t\tqueue: {\n\t\t\t\t\t\t\t\t\tcampanhaIdGuid: $scope.queue.CampanhaIdGuid,\n\t\t\t\t\t\t\t\t\tcanalIdGuid: $scope.queue.CanalIdGuid,\n\t\t\t\t\t\t\t\t\tusuarioIdGuid: $scope.item.UsuarioContaSistemaIdGuid,\n\t\t\t\t\t\t\t\t\tqueuePosition: $scope.item.Ordem\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function(){\n\t\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\t\tcurrentPosition = $scope.item.Ordem;\n\t\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(){\n\t\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\t\t$scope.item.Ordem = currentPosition;\n\t\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.hasHandlerPositionPermission = function(){\n\n\t\t\t\tif($scope.channelProperties.permissionHandlerPositionInQueue){\n\t\t\t\t\treturn permission.checkPermissions(\n\t\t\t\t\t\t$scope.channelProperties.permissionHandlerPositionInQueue\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\tvar bsTooltip = {\n\t\t\t\ttype: '',\n\t\t\t\ttitle: ''\n\t\t\t};\n\n\t\t\t$scope.getBsTooltip = function(){\n\n\t\t\t\tvar permisionStatus = $scope.hasHandlerPositionPermission();\n\n\t\t\t\tif(permisionStatus === true){\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\tbsTooltip,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\ttitle: 'Alterar posio'\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}else if(permisionStatus === false){\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\tbsTooltip,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'warn',\n\t\t\t\t\t\t\ttitle: 'Voc no tem permisso para alterar a ordem da fila'\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}else if(permisionStatus === 'disabled'){\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\tbsTooltip,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttitle: 'Alterar ordem da fila foi desligado temporariamente'\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn bsTooltip;\n\n\t\t\t};\n\n\t\t\t$scope.$on('QueuesHandlerPositionEditing', function(item){\n\t\t\t\tif(item != $scope.item){\n\t\t\t\t\t$scope.reset();\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive('queuesHandlerPositionInput', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'queues-handler-position/directives/queues-handler-position-input.html',\n\t\t\tcontroller: 'QueuesHandlerPositionInputController',\n\t\t\tscope: {\n\t\t\t\tqueue: '=',\n\t\t\t\titem: '=',\n\t\t\t\tchannelProperties: '='\n\t\t\t}\n\t\t};\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-email-select',[])\n\n\t.controller(\n\t\t'CardActionsEmailSelect',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\n\t\t\t$scope.delegate = $scope.delegate || {};\n\n\t\t\t$scope.emailSelect = function(email){\n\n\t\t\t\tif(typeof $scope.delegate.emailSelected == 'function'){\n\t\t\t\t\t$scope.delegate.emailSelected(email);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsEmailSelect', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/directives/email-select/email-select.html',\n\t\t\tcontroller: 'CardActionsEmailSelect',\n\t\t\tscope: {\n\t\t\t\titem: '=?',\n\t\t\t\tdelegate: '=?'\n\t\t\t},\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-phone-select',[])\n\n\t.controller(\n\t\t'CardActionsPhoneSelect',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\n\t\t\t$scope.delegate = $scope.delegate || {};\n\n\t\t\t$scope.phoneSelect = function(phoneNumber){\n\n\t\t\t\tif(typeof $scope.delegate.phoneSelected == 'function'){\n\t\t\t\t\t$scope.delegate.phoneSelected(phoneNumber);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('cardActionsPhoneSelect', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/directives/phone-select/card-actions-phone-select.html',\n\t\t\tcontroller: 'CardActionsPhoneSelect',\n\t\t\tscope: {\n\t\t\t\titem: '=?',\n\t\t\t\tdelegate: '=?'\n\t\t\t},\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-actions-select-client',[])\n\n\t.controller(\n\t\t'CardActionsSelectClient',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$element,\n\t\t\t$timeout,\n\t\t\ttransactionsService,\n\t\t\tcardActionFactory\n\t\t){\n\n\t\t\t$scope.item;\n\t\t\t$scope.model = {\n\t\t\t\tq: ''\n\t\t\t};\n\n\t\t\t$scope.empty = false;\n\t\t\t$scope.error = false;\n\t\t\t$scope.loading = false;\n\n\t\t\t//Digite o nome do cliente antes de inserir uma atividade.\n\n\t\t\tvar labelTextsByTabName = {\n\t\t\t\tactivity: 'inserir uma ',\n\t\t\t\tnote: 'inserir uma ',\n\t\t\t\t'call-activity': 'realizar uma ',\n\t\t\t\temail: 'enviar um ',\n\t\t\t\twhatsapp: 'enviar um ',\n\t\t\t\tsells: 'fazer uma '\n\t\t\t};\n\n\t\t\tvar setLabel = function(){\n\n\t\t\t\t$scope.label = 'Digite o nome do cliente antes de ';\n\n\t\t\t\tif($scope.tabButtonActivated){\n\t\t\t\t\t$scope.label += labelTextsByTabName[$scope.tabButtonActivated];\n\t\t\t\t\t$scope.labelTabName =\n\t\t\t\t\t\tcardActionFactory.modalTitlesByTabName[$scope.tabButtonActivated]\n\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t}else{\n\t\t\t\t\t$scope.label += ' inserir ';\n\t\t\t\t\t$scope.labelTabName =\n\t\t\t\t\t\tcardActionFactory.modalTitlesByTabName['default']\n\t\t\t\t\t\t.toLowerCase();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar setInputFocus = function(){\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$element[0].querySelector('input[type=text]').focus();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.fields = [\n\t\t\t\t{\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tkey: 'q',\n\t\t\t\t\tclassName: 'icon-right',\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\tplaceholder: 'Busca por cliente, email, cdigo, telefone ou #hashtag',\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tminlength: 3\n\t\t\t\t\t},\n\t\t\t\t\ttemplateManipulators: {\n\t\t\t\t\t\tpostWrapper: [function(template){\n\n\t\t\t\t\t\t\tvar tmp = $('<div></div>').html(template);\n\n\t\t\t\t\t\t\ttmp.find('.form-input-extras').append('<button class=\"btn-lupa\" type=\"submit\"><icon-svg name=\"search\"></icon-svg></button>');\n\n\t\t\t\t\t\t\treturn tmp.html();\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\n\t\t\t$scope.setClientId = function(item){\n\t\t\t\t$scope.delegate.setClientId(item);\n\t\t\t};\n\n\t\t\t$scope.submit = function(){\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.empty = false;\n\t\t\t\t\t$scope.error = false;\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\ttransactionsService.get(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparams: $scope.model,\n\t\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\t\t$scope.item = response.data.data;\n\t\t\t\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t\t\t\t$scope.empty = !response.data.data || !response.data.data.length;\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function(response){\n\t\t\t\t\t\t\t\t$scope.error = response.config.errorMessage;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsetLabel();\n\t\t\tsetInputFocus();\n\n\t\t}\n\t)\n\n\t.directive('cardActionsSelectClient', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'card-actions/directives/select-client/card-actions-select-client.html',\n\t\t\tcontroller: 'CardActionsSelectClient',\n\t\t\tscope: {\n\t\t\t\tdelegate: '=?',\n\t\t\t\ttabButtonActivated: '='\n\t\t\t},\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-followup-chat', [])\n\t\t.controller(\n\t\t\t'CardFollowupChat',\n\t\t\tfunction(\n\t\t\t\t$scope,\n\t\t\t\tchatFollowupFactory\n\t\t\t){\n\t\t\t\t$scope.item;\n\t\t\t\t$scope.clientName = chatFollowupFactory.getName($scope.item);\n\t\t\t}\n\t\t)\n\n\t\t.directive('chatFollowupItem', function(){\n\t\t\treturn {\n\t\t\t\t'restrict': 'E',\n\t\t\t\ttemplateUrl: 'card-followup/item/chat/chat.html',\n\t\t\t\tcontroller: 'CardFollowupChat',\n\t\t\t\tscope: {\n\t\t\t\t\titem: '='\n\t\t\t\t}\n\t\t\t};\n\t\t})\n\t\t\n\t\t.factory('chatFollowupFactory',\n\t\t\tfunction(){\n\n\t\t\t\tvar getName = function(item){\n\t\t\t\t\t\n\t\t\t\t\tvar name;\n\t\t\t\t\titem.interacaoChatParticipantes.map(function(itemChat){\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tif(itemChat.interacaoChatParticipantePerfil == 'Solicitante'){\n\t\t\t\t\t\t\tname = itemChat.interacaoChatParticipanteNome;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn name;\n\t\t\t\t};\n\n\t\t\t\tvar generateChatContent = function(attrs){\n\n\t\t\t\t\tvar content = 'Conversa entre os participantes: ';\n\n\t\t\t\t\tattrs.item.interacaoChatParticipantes.map(function(item, index){\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tcontent += (index ? ', ' : '')\n\t\t\t\t\t\t\t+ item.interacaoChatParticipanteNome;\n\t\t\t\t\t}); \n\n\t\t\t\t\treturn content;\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tgenerateChatContent: generateChatContent,\n\t\t\t\t\tgetName: getName\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.card-followup-email', [])\n\n\t\t.controller(\n\t\t\t'CardFollowupEmail',\n\t\t\tfunction(\n\t\t\t\t$scope\n\t\t\t){\n\n\t\t\t\t$scope.getEmailTo = function(){\n\t\t\t\t\treturn $scope.item.interacaoEmailDestinatario\n\t\t\t\t\t\t.replace(/,.+@email.anapro.com.br/,'');\n\t\t\t\t};\n\n\t\t\t\t$scope.emailContent = $scope\n\t\t\t\t\t.item\n\t\t\t\t\t.interacaoEmailConteudoTexto\n\t\t\t\t\t.replace(/\\s+\\r/g,'\\n')\n\t\t\t\t\t.replace(/\\n\\s+/g,'\\n\\n');\n\n\t\t\t}\n\t\t)\n\n\t\t.directive('emailFollowupItem', function(){\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplateUrl: 'card-followup/item/email/email.html',\n\t\t\t\tcontroller: 'CardFollowupEmail',\n\t\t\t\tscope: {\n\t\t\t\t\titem: '='\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.card-followup-email-modal', [])\n\n\t\t.factory('originalEmailFactory',\n\n\t\t\tfunction($modal) {\n\n\t\t\t\tvar show = function(attrs) {\n\t\t\t\t\tattrs = attrs || {};\n\n\t\t\t\t\tvar emailModal = $modal({\n\t\t\t\t\t\ttemplateUrl: 'card-followup/item/email-modal/email-modal.html',\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\t\tcontroller: function($scope) {\n\t\t\t\t\t\t\t$scope.emailSubject = attrs.item.fields.interacaoEmail.interacaoEmailAssunto || 'Email original';\n\t\t\t\t\t\t\t$scope.emailProspect = attrs.item.fields.interacaoEmail.interacaoEmailDestinatario;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonShow: function() {\n\t\t\t\t\t\t\tvar emailBody = emailModal.$element[0].querySelector('modal-body .box-content');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(emailBody.attachShadow){\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\temailBody = emailBody.attachShadow({\n\t\t\t\t\t\t\t\t\tmode: 'open'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tangular.element(emailBody).html(attrs.item.fields.interacaoEmail.interacaoEmailConteudoHtml);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tshow: show\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.card-followup-ligacao', [])\n\t\t.controller(\n\t\t\t'CardFollowupLigacaoController',\n\n\t\t\tfunction(\n\t\t\t\t$scope,\n\t\t\t\tligacaoFollowupFactory\n\t\t\t) {\n\n\t\t\t\t$scope.ligacaoOrigem = {\n\t\t\t\t\tstatus: $scope.item.interacaoLigacaoOrigemStatus,\n\t\t\t\t\tclassName: ligacaoFollowupFactory.pillColorClassName[$scope.item.interacaoLigacaoOrigemStatus] || ''\n\t\t\t\t};\n\n\t\t\t\t$scope.ligacaoDestino = {\n\t\t\t\t\tstatus: $scope.item.interacaoLigacaoDestinoStatus,\n\t\t\t\t\tclassName: ligacaoFollowupFactory.pillColorClassName[$scope.item.interacaoLigacaoDestinoStatus] || ''\n\t\t\t\t};\n\t\t\t\t\n\t\t\t}\n\t\t)\n\n\t\t.directive('ligacaoFollowupItem', function() {\n\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplateUrl: 'card-followup/item/ligacao/ligacao.html',\n\t\t\t\tcontroller: 'CardFollowupLigacaoController',\n\t\t\t\tscope: {\n\t\t\t\t\titem: '=item'\n\t\t\t\t}\n\t\t\t};\n\n\t\t})\n\n\t\t.factory('ligacaoFollowupFactory',\n\n\t\t\tfunction() {\n\n\t\t\t\tvar generateLigacaoContent = function(attrs) {\n\n\t\t\t\t\tvar telefoneDestino = '(' + attrs.item.interacaoLigacaoDestinoDDD + ') '\n\t\t\t\t\t\t+ attrs.item.interacaoLigacaoDestinoNumero;\n\n\t\t\t\t\tvar telefoneOrigem = '(' + attrs.item.interacaoLigacaoOrigemDDD + ') '\n\t\t\t\t\t\t+ attrs.item.interacaoLigacaoOrigemNumero;\n\n\t\t\t\t\tvar content = 'Ligao realizada a partir do telefone ' + telefoneOrigem\n\t\t\t\t\t\t\t+ ' para o telefone ' + telefoneDestino\n\t\t\t\t\t\t+ ' com durao de ' + attrs.item.interacaoLigacaoDuracao;\n\n\t\t\t\t\treturn content;\n\n\t\t\t\t};\n\n\t\t\t\tvar pillColorClassName = {\n\t\t\t\t\t'atendida': 'ligacaoAtendidaPillColor',\n\t\t\t\t\t'cancelada': 'ligacaoCanceladaPillColor',\n\t\t\t\t\t'sem resposta': 'ligacaoSemRespostaPillColor',\n\t\t\t\t\t'ocupado': 'ligacaoOcupadaPillColor'\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tgenerateLigacaoContent: generateLigacaoContent,\n\t\t\t\t\tpillColorClassName: pillColorClassName\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\n})();\n","\n'use strict';\n\n(function() {\n\n\tangular.module('directives.card-followup-sells', [])\n\t\t.controller(\n\t\t\t'CardFollowupSellsController',\n\n\t\t\tfunction(\n\t\t\t\t$scope\n\t\t\t){\n\n\t\t\t\t$scope;\n\n\t\t\t}\n\t\t)\n\n\t\t.directive('sellsFollowupItem', function() {\n\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\ttemplateUrl: 'card-followup/item/sells/sells.html',\n\t\t\t\tcontroller: 'CardFollowupSellsController',\n\t\t\t\tscope: {\n\t\t\t\t\titem: '=item'\n\t\t\t\t}\n\t\t\t};\n\n\t\t})\n\n\t\t.factory('sellsFollowupFactory',\n\n\t\t\tfunction() {\n\n\t\t\t\tvar generateContent = function(attrs) {\n\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\tattrs.item,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tinteracaoNegociacaoProduto: {}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\treturn attrs.item.interacaoNegociacaoProduto.interacaoNegociacaoProdutoNome;\n\n\t\t\t\t};\n\n\t\t\t\tvar pillColorClassName = {\n\t\t\t\t\t// 'atendida': 'ligacaoAtendidaPillColor',\n\t\t\t\t\t// 'cancelada': 'ligacaoCanceladaPillColor',\n\t\t\t\t\t// 'sem resposta': 'ligacaoSemRespostaPillColor',\n\t\t\t\t\t// 'ocupado': 'ligacaoOcupadaPillColor'\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\tgenerateContent: generateContent,\n\t\t\t\t\tpillColorClassName: pillColorClassName\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.notifications-container.dialog',[\n\t\t'directives.notifications-container.dialog.provider',\n\t\t'directives.notifications-container.dialog.new-lead',\n\t\t'directives.notifications-container.dialog.new-chat'\n\t])\n\n\t.controller(\n\t\t'NotificationsContainerDialogController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\taudioFactory,\n\t\t\tdesktopNotificationsFactory\n\t\t){\n\n\t\t\tvar\n\t\t\t\tdialogType = $scope.dialog.getType(),\n\t\t\t\tsound,\n\t\t\t\tsoundResume = true;\n\n\t\t\tvar playSound = function(){\n\t\t\t\tif(dialogType.sound && soundResume){\n\t\t\t\t\tsound = audioFactory.play(dialogType.sound, playSound);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tplaySound();\n\n\t\t\t$scope.stopSound = function(){\n\n\t\t\t\tif(sound){\n\t\t\t\t\tsound.pause();\n\t\t\t\t\tsound.src = '';\n\t\t\t\t\tsound = null;\n\t\t\t\t}\n\n\t\t\t\tsoundResume = false;\n\t\t\t};\n\n\t\t\t$scope.dialogClick = function(){\n\t\t\t\tif($scope.dialog.data.minimized && $scope.open){\n\t\t\t\t\t$scope.open();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar closeDesktopNotification = function(){\n\t\t\t\tif($scope.dialog.data.id){\n\t\t\t\t\tdesktopNotificationsFactory.closeById($scope.dialog.data.id);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.remove = function(event, attrs){\n\n\t\t\t\tcloseDesktopNotification();\n\n\t\t\t\tif(event){\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\t$scope.dialog.remove(attrs);\n\t\t\t};\n\n\t\t\t$scope.onRemove = function(){\n\n\t\t\t\t$scope.stopSound();\n\n\t\t\t\tif($scope.onRemoveDialogType){\n\t\t\t\t\t$scope.onRemoveDialogType();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive(\n\t\t'notificationsContainerDialog',\n\n\t\tfunction(\n\t\t\t$compile\n\t\t){\n\n\t\t\tvar compile = function(){\n\n\t\t\t\treturn {\n\n\t\t\t\t\tpre: function(scope, iElement){\n\n\t\t\t\t\t\tvar type = scope.dialog.getType();\n\n\t\t\t\t\t\tvar dialogTypeElement = $compile(\n\t\t\t\t\t\t\t'<dialog-'\n\t\t\t\t\t\t\t\t+ type.directive\n\t\t\t\t\t\t\t\t+ ' layout=\"row\" '\n\t\t\t\t\t\t\t\t+ ' layout-fill '\n\t\t\t\t\t\t\t\t+ ' layout-align=\"start center\" '\n\t\t\t\t\t\t\t\t+ '></' + type.directive + '>'\n\t\t\t\t\t\t)(scope);\n\n\t\t\t\t\t\tiElement.append(dialogTypeElement);\n\n\t\t\t\t\t},\n\n\t\t\t\t\tpost: function(scope, iElement){\n\n\t\t\t\t\t\tiElement.on(\n\t\t\t\t\t\t\t'$destroy',\n\t\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t\tscope.$destroy();\n\t\t\t\t\t\t\t\tdelete scope.dialog;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tscope.$on(\n\t\t\t\t\t\t\t'$destroy',\n\t\t\t\t\t\t\tfunction(){\n\t\t\t\t\t\t\t\tscope.onRemove();\n\t\t\t\t\t\t\t\tscope.$destroy();\n\t\t\t\t\t\t\t\tdelete scope.dialog;\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\t\t\t\treplace: true,\n\t\t\t\ttemplateUrl: 'notifications-container/dialog-container/dialog/dialog.html',\n\t\t\t\tcontroller: 'NotificationsContainerDialogController',\n\t\t\t\tscope: {\n\t\t\t\t\tdialog: '='\n\t\t\t\t},\n\t\t\t\tcompile: compile\n\t\t\t};\n\n\t\t}\n\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.notifications-container.dialog.provider', [])\n\n\t.provider('notificationsContainerDialog', function(){\n\n\t\tconsole.log('notificationsContainerDialog.provider');\n\n\t\tvar\n\t\t\tself = this,\n\t\t\tbaseAnimationDuration = 400,\n\t\t\tdialogTypes = {},\n\t\t\tdialogTypesByPriority = [],\n\t\t\tdialogs = [];\n\n\t\tself.getDialogType = function(type){\n\t\t\treturn dialogTypes[type];\n\t\t};\n\n\t\tself.putDialogType = function(type, obj){\n\n\t\t\tobj.type = type;\n\n\t\t\tdialogTypes[type] = obj;\n\n\t\t\tdialogTypesByPriority.push(obj);\n\n\t\t\tdialogTypesByPriority.sort(function(a, b){\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\n\t\t\treturn obj;\n\t\t};\n\n\t\tself.getDialogTypesByPriority = function(){\n\t\t\treturn dialogTypesByPriority;\n\t\t};\n\n\t\tvar getType = function(){\n\n\t\t\tvar dialog = this;\n\n\t\t\treturn dialogTypes[dialog.data.type];\n\n\t\t};\n\n\t\tvar isValidDialog = function(newDialog){\n\n\t\t\tif(!newDialog.type || !dialogTypes[newDialog.type]){\n\n\t\t\t\tconsole.warn(\n\t\t\t\t\t'Sorry, this dialog type has been not register yet. type = `',\n\t\t\t\t\tnewDialog.type, '`, ',\n\t\t\t\t\tnewDialog\n\t\t\t\t);\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t};\n\n\t\tvar minimizeAllCurrentDialogs = function(newDialogObj){\n\n\t\t\tif(!newDialogObj.data.minimized){\n\t\t\t\tdialogs.map(function(dialog){\n\t\t\t\t\tif(dialog.minimize){\n\t\t\t\t\t\tdialog.minimize();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\n\t\tvar setMinimizedWhenLessPriority = function(newDialogObj){\n\n\t\t\tvar currentMaxmizedDialog = self.getCurrentMaxmized();\n\n\t\t\tif(\n\t\t\t\tcurrentMaxmizedDialog\n\t\t\t\t&&\n\t\t\t\tcurrentMaxmizedDialog.getType().priority < newDialogObj.getType().priority\n\t\t\t){\n\t\t\t\tnewDialogObj.data.minimized = true;\n\t\t\t}\n\n\t\t};\n\n\t\tvar noop = function(){\n\t\t\treturn;\n\t\t};\n\n\t\tself.$get = function(\n\t\t\t$timeout,\n\t\t\t$compile,\n\t\t\tmainController,\n\t\t\tnotificationsContainerDialogContainer,\n\t\t\tCacheFactory\n\t\t){\n\n\t\t\tvar cache = CacheFactory(\n\t\t\t\t'dialog.provider',\n\t\t\t\t{\n\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\tstorageMode: 'localStorage'\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tvar setDialogAttrsWhenDeviceMobile = function(attrs){\n\n\t\t\t\t// init dialog always minimized when running on mobile\n\t\t\t\tif(mainController.getDevice() == 'mobile'){\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\tattrs,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tminimized: true\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar getNewDialogObj = function(attrs){\n\n\t\t\t\tsetDialogAttrsWhenDeviceMobile(attrs);\n\n\t\t\t\tif(isMinimizedIdCache(attrs.id) >= 0){\n\t\t\t\t\tattrs.minimized = true;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tdata: attrs,\n\t\t\t\t\tremove: remove,\n\t\t\t\t\tminimize: minimize,\n\t\t\t\t\tgetType: getType\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tself.getDialogs = function(){\n\t\t\t\treturn dialogs;\n\t\t\t};\n\n\t\t\tself.getCurrentMaxmized = function(){\n\n\t\t\t\tvar dialog;\n\n\t\t\t\tdialogs.map(function(item){\n\t\t\t\t\tif(item && item.data && !item.data.minimized){\n\t\t\t\t\t\tdialog = item;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn dialog;\n\n\t\t\t};\n\n\t\t\tself.put = function(attrs){\n\n\t\t\t\tif(!isValidDialog(attrs)){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar newDialogObj = getNewDialogObj(attrs);\n\n\t\t\t\tsetMinimizedWhenLessPriority(newDialogObj);\n\n\t\t\t\tminimizeAllCurrentDialogs(newDialogObj);\n\n\t\t\t\tdialogs.push(newDialogObj);\n\n\t\t\t\tcompile(newDialogObj);\n\n\t\t\t\tappend(newDialogObj);\n\n\t\t\t\t// setContainerHeight();\n\n\t\t\t\twindow.dialog = newDialogObj;\n\n\t\t\t\treturn newDialogObj;\n\n\t\t\t};\n\n\t\t\t// [todo] animation container height resize\n\t\t\t// var setContainerHeight = function(){\n\n\t\t\t// \tvar height = 0;\n\n\t\t\t// \tdialogs.map(function(item){\n\t\t\t// \t\tif(item.data.minimized){\n\t\t\t// \t\t\theight += 60;\n\t\t\t// \t\t}\n\t\t\t// \t});\n\n\t\t\t// \tcontainerElement.css({\n\t\t\t// \t\theight: height + 'px'\n\t\t\t// \t});\n\t\t\t// };\n\n\t\t\tvar compile = function(dialog){\n\n\t\t\t\tvar scope = notificationsContainerDialogContainer.getNewScope();\n\n\t\t\t\tscope.dialog = dialog;\n\n\t\t\t\tscope.dialog.element = $compile(\n\t\t\t\t\t'<notifications-container-dialog dialog=\"dialog\">'\n\t\t\t\t\t+ '</notifications-container-dialog>'\n\t\t\t\t)(scope);\n\n\t\t\t};\n\n\t\t\tvar append = function(dialog){\n\n\t\t\t\tnotificationsContainerDialogContainer.append(dialog);\n\n\t\t\t};\n\n\t\t\tvar isMinimizedIdCache = function(id){\n\n\t\t\t\tvar cacheIds = cache.get('minimizedIds') || [];\n\n\t\t\t\treturn cacheIds.indexOf(id);\n\n\t\t\t};\n\n\t\t\tvar addMinimizedCache = function(dialog){\n\n\t\t\t\tif(dialog.data && dialog.data.id){\n\n\t\t\t\t\tvar id = dialog.data.id;\n\n\t\t\t\t\tvar cacheIds = cache.get('minimizedIds') || [];\n\n\t\t\t\t\tif(isMinimizedIdCache(id) < 0){\n\t\t\t\t\t\tcacheIds.push(id);\n\t\t\t\t\t\tcache.put('minimizedIds', cacheIds);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar removeMinimizedCache = function(dialog){\n\n\t\t\t\tif(dialog.data && dialog.data.id){\n\n\t\t\t\t\tvar id = dialog.data.id;\n\n\t\t\t\t\tvar cacheIds = cache.get('minimizedIds') || [];\n\n\t\t\t\t\tvar index = isMinimizedIdCache(id);\n\n\t\t\t\t\tif(index >= 0){\n\t\t\t\t\t\tcacheIds.splice(index, 1);\n\t\t\t\t\t\tcache.put('minimizedIds', cacheIds);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar remove = function(attrs){\n\n\t\t\t\tattrs = attrs || {};\n\n\t\t\t\tvar\n\t\t\t\t\tdialog = this,\n\t\t\t\t\tindex = dialogs.indexOf(dialog);\n\n\t\t\t\tif(attrs.actionOrigin == 'open'){\n\t\t\t\t\tremoveMinimizedCache(dialog);\n\t\t\t\t}\n\n\t\t\t\tdialog.element.addClass('removing');\n\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\tdialog.element.remove();\n\t\t\t\t\t// delete scope.dialog;\n\t\t\t\t\t// scope.$destroy();\n\n\t\t\t\t\tif(index >= 0){\n\t\t\t\t\t\tdialogs.splice(index, 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn('Sorry, this dialog do not exist!', dialog);\n\t\t\t\t\t}\n\n\t\t\t\t\tObject.keys(dialog).map(function(key){\n\t\t\t\t\t\tdelete dialog[key];\n\t\t\t\t\t});\n\n\t\t\t\t\t// setContainerHeight();\n\n\t\t\t\t}, baseAnimationDuration);\n\n\t\t\t\t// replace remove by noop in order to prevent double remove invokes\n\t\t\t\tdialog.remove = noop;\n\n\t\t\t};\n\n\t\t\tvar minimize = function(){\n\n\t\t\t\tvar dialog = this;\n\n\t\t\t\taddMinimizedCache(dialog);\n\n\t\t\t\tif(!dialog.data.minimized){\n\n\t\t\t\t\tdialog.element.addClass('minimizing');\n\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tif(dialog.data){\n\t\t\t\t\t\t\tdialog.data.minimized = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, baseAnimationDuration);\n\n\t\t\t\t\t// setContainerHeight();\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn self;\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.calendar.link-integration-factory', [])\n\n\t\t.factory(\n\n\t\t\t'linkIntegrationFactory',\n\n\t\t\tfunction(\n\t\t\t\t$modal\n\t\t\t){\n\n\t\t\t\tvar showModal = function(){\n\t\t\t\t\t$modal({\n\t\t\t\t\t\ttemplateUrl: 'calendar/directives/link-integration/link-integration-modal.html',\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\t\tcontroller: function($scope) {\n\t\t\t\t\t\t\t$scope;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonHide: function() {\n\t\t\t\t\t\t\tconsole.log('modalAddClient hide');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tvar factory = {\n\t\t\t\t\tshowModal: showModal\n\t\t\t\t};\n\n\t\t\t\treturn factory;\n\n\t\t\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.calendar.link-integration', [\n\t\t'views.calendar.link-integration-factory'\n\t])\n\n\t.controller(\n\t\t'linkIntegrationController',\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tschedulesService\n\t\t){\n\t\t\tvar item;\n\n\t\t\t$scope.schedulesManual = false;\n\t\t\t$scope.loading = false;\n\n\t\t\t$scope.integrationManual = function(){\n\t\t\t\t$scope.schedulesManual = true;\n\t\t\t};\n\n\t\t\tvar buttons = {\n\n\t\t\t\tdefault: {\n\t\t\t\t\ticon: 'calendar'\n\t\t\t\t},\n\t\t\t\tintegrationSchedulesApple: {\n\t\t\t\t\tlabel: 'Apple',\n\t\t\t\t\ticon: 'apple'\n\t\t\t\t},\n\t\t\t\tintegrationSchedulesGoogleOnline: {\n\t\t\t\t\tlabel: 'Google',\n\t\t\t\t\ticon: 'google',\n\t\t\t\t},\n\t\t\t\tintegrationSchedulesManual: {\n\t\t\t\t\tlabel: 'Manualmente',\n\t\t\t\t\ticon: 'calendar-download',\n\t\t\t\t},\n\t\t\t\tintegrationSchedulesOutlook: {\n\t\t\t\t\tlabel: 'Outlook',\n\t\t\t\t\ticon: 'outlook',\n\t\t\t\t},\n\t\t\t\tintegrationSchedulesOutlookOnline: {\n\t\t\t\t\tlabel: 'Outlook',\n\t\t\t\t\tsmall: '(online)',\n\t\t\t\t\ticon: 'outlook',\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.getButtons = function(key){\n\t\t\t\treturn buttons[key] || buttons.default;\n\t\t\t};\n\n\t\t\tvar get = function(){\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\tschedulesService.get(\n\t\t\t\t\t{\n\t\t\t\t\t\tsuccess:  success,\n\t\t\t\t\t\terror: error\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.list;\n\t\t\t$scope.listKeys;\n\n\t\t\tvar setList = function(){\n\t\t\t\t$scope.listKeys = Object.keys(item.data[0].fields.integrationSchedules);\n\t\t\t\t$scope.list = item.data[0].fields.integrationSchedules;\n\t\t\t};\n\n\t\t\tvar success = function(response){\n\t\t\t\titem = response.data;\n\t\t\t\tsetList();\n\t\t\t\t$scope.loading = false;\n\t\t\t};\n\n\t\t\tvar error = function(response){\n\t\t\t\t$scope.error = response.config.errorMessage;\n\t\t\t};\n\n\t\t\tget();\n\n\t\t}\n\t)\n\n\t.directive('linkIntegration', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\n\t\t\tscope: {},\n\t\t\tcontroller: 'linkIntegrationController',\n\t\t\ttemplateUrl: 'calendar/directives/link-integration/link-integration.html'\n\t\t};\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.calendar.list', [\n\t\t'views.calendar.list-item'\n\t])\n\n\t.controller(\n\t\t'viewCalendarListController',\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$window,\n\t\t\t$rootScope,\n\t\t\tpath\n\t\t){\n\t\t\t$scope.list = [];\n\t\t\t$scope.listFilter = $scope.$parent.$parent.listFilter;\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\n\t\t\tvar setList = function(){\n\t\t\t\t$scope.list = $scope.listObj.data.data;\n\t\t\t};\n\n\t\t\tvar redirToPathItem = function(item){\n\t\t\t\t$rootScope.mainController.go(path.get('transaction').withItem(item));\n\t\t\t};\n\n\t\t\tvar goToItem = function(item, event){\n\n\t\t\t\tconsole.log(item);\n\n\t\t\t\tvar pathItem = path.get('transaction').withItem(item.parentResources.transactions);\n\n\t\t\t\tif(event.ctrlKey || event.which === 2){\n\t\t\t\t\t$window.open(pathItem);\n\t\t\t\t}else if(event.which === 1){\n\t\t\t\t\tredirToPathItem(item.parentResources.transactions);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.clickItem = function(item, $event){\n\n\t\t\t\tif(\n\t\t\t\t\t$($event.target).closest('[preventClickItem]').length\n\t\t\t\t\t||\n\t\t\t\t\t$($event.target).closest('.expanded').length\n\t\t\t\t\t||\n\t\t\t\t\tangular.element($event.target).hasClass('dropdown-backdrop')\n\t\t\t\t){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$event.preventDefault();\n\t\t\t\tgoToItem(item, $event);\n\t\t\t};\n\n\t\t\tvar patchItem = function(oldItem, newItem){\n\n\t\t\t\tvar index = $scope.list.indexOf(oldItem);\n\t\t\t\t$scope.list[index].fields = newItem.fields;\n\t\t\t};\n\n\t\t\t$scope.delegate ={\n\t\t\t\tpatchItem: patchItem,\n\t\t\t\tcalendarListItem: $scope.listObj.delegate.calendarListItem\n\t\t\t};\n\n\t\t\tsetList();\n\t\t}\n\t)\n\n\t.directive('viewCalendarList', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\n\t\t\tscope: {},\n\t\t\tcontroller: 'viewCalendarListController',\n\t\t\ttemplateUrl: 'calendar/directives/list/list.html'\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.calendar.list-filter', [])\n\n\t.controller(\n\n\t\t'viewCalendarListFilterController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tanaproFormlyFactory,\n\t\t\tlinkIntegrationFactory,\n\t\t\tmainController\n\t\t){\n\n\t\t\t$scope.listFilter = $scope.$parent.$parent.listFilter;\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\t\t\t$scope.fields = [];\n\n\t\t\tvar filterList = function(){\n\t\t\t\treturn $scope.listObj.data.filters.filter(function(item){\n\t\t\t\t\treturn !/dateEnd/.test(item.field);\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tanaproFormlyFactory.createFormlyFieldsFromAPI(\n\t\t\t\tfilterList(),\n\t\t\t\t$scope.fields,\n\t\t\t\t{\n\t\t\t\t\tmerge: {\n\t\t\t\t\t\tdateStart: {\n\t\t\t\t\t\t\tclassName: 'field-month layout-reverse',\n\t\t\t\t\t\t\ttype: 'anaproDate',\n\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\tlabel: 'Escolha o ms',\n\t\t\t\t\t\t\t\tdateFormat: 'yyyy-MM-01T00:00:00',\n\t\t\t\t\t\t\t\tplaceholder: 'mm/aaaa',\n\t\t\t\t\t\t\t\ticon: 'calendar',\n\t\t\t\t\t\t\t\ttype: 'month',\n\t\t\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\t\t\tdatePickerOnHide: 'to.onHide',\n\t\t\t\t\t\t\t\tonHide: function(){\n\t\t\t\t\t\t\t\t\tsetFilters();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\telementAttributes:{\n\t\t\t\t\t\t\t\tlayout: 'row'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfollowupScheduleOpcao:{\n\t\t\t\t\t\t\tclassName: 'followup-schedule-opcao',\n\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\ttemplateOptions:{\n\t\t\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\tonChange: function(){\n\t\t\t\t\t\t\t\t\tsetFilters();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfollowupScheduleStatus:{\n\t\t\t\t\t\t\tclassName: 'followup-schedule-status',\n\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\ttemplateOptions:{\n\t\t\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tonChange: function(){\n\t\t\t\t\t\t\t\t\tsetFilters();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tvar setFilters = function(){\n\t\t\t\tif(mainController.getDevice() == 'desktop'){\n\t\t\t\t\t$scope.setFilters();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.setFilters = function(){\n\t\t\t\tif($scope.listFilter.model.filters.dateStart){\n\t\t\t\t\t$scope.listFilter.model.filters.dateEnd = moment($scope.listFilter.model.filters.dateStart)\n\t\t\t\t\t\t.add(1, 'month')\n\t\t\t\t\t\t.subtract(1, 'day')\n\t\t\t\t\t\t.format('YYYY-MM-DDT23:59:59');\n\t\t\t\t}\n\n\t\t\t\t$scope.listFilter.setFilters();\n\t\t\t};\n\n\t\t\t$scope.resetFilters = function(){\n\t\t\t\t$scope.listFilter.model.filters = {};\n\t\t\t\t$scope.listFilter.setFilters();\n\t\t\t};\n\n\t\t\t$scope.addNewAppointment = function(){\n\t\t\t\t$scope.listObj.delegate.calendarListFilter.newAction();\n\t\t\t};\n\n\t\t\t$scope.showModalLinkIntegration = function(){\n\t\t\t\tlinkIntegrationFactory.showModal();\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('viewCalendarListFilter', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {},\n\t\t\tcontroller: 'viewCalendarListFilterController',\n\t\t\ttemplateUrl: 'calendar/directives/list-filter/list-filter.html'\n\t\t};\n\t})\n\n\t.directive('calendarListFilterForm', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'calendar/directives/list-filter/list-filter-form.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.calendar.list-item', [])\n\n\t.controller(\n\t\t'ViewCalendarListItemController',\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$element,\n\t\t\t$popover,\n\t\t\t$timeout,\n\t\t\t$rootScope,\n\t\t\t$modal,\n\t\t\t$sce,\n\t\t\tfollowupService,\n\t\t\tusersService\n\t\t){\n\n\t\t\t$scope.hasAlarm;\n\t\t\t$scope.hasTaskToBeDone;\n\t\t\t$scope.loading = false;\n\t\t\t$scope.showItemUser = false;\n\t\t\t$scope.descriptionItem;\n\n\t\t\tvar showModalReschedule = function() {\n\n\t\t\t\tvar cardActionsNoteDelegate = $scope.cardActionsNoteDelegate;\n\t\t\t\tvar item = $scope.item;\n\n\t\t\t\t$modal({\n\t\t\t\t\ttemplateUrl: 'calendar/directives/list-item/list-item-note-modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tcontroller: function($scope) {\n\t\t\t\t\t\t$scope.cardActionsNoteDelegate = cardActionsNoteDelegate;\n\t\t\t\t\t\t$scope.item = item;\n\n\t\t\t\t\t\t$scope.modalDelegate = {\n\t\t\t\t\t\t\thide: function(){\n\t\t\t\t\t\t\t\t$scope.cardActionsNoteDelegate.hide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tonHide: function() {\n\t\t\t\t\t\tconsole.log('modalAddClient hide');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$scope.addNewAppointment = function(){\n\t\t\t\tif($scope.delegate.calendarListItem.newAction){\n\n\t\t\t\t\t$scope.delegate.calendarListItem.newAction({\n\t\t\t\t\t\tresource: $scope.clientContactsResource\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.cardActionsNoteDelegate = {\n\t\t\t\treschedule: function(item){\n\t\t\t\t\tvar oldItem = $scope.item;\n\n\t\t\t\t\t$scope.delegate.patchItem(oldItem, item);\n\n\t\t\t\t\tprocessItem();\n\n\t\t\t\t\t$scope.modalDelegate.hide();\n\n\t\t\t\t\tconsole.log('itemreschedule', $scope.item);\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.canExpandDescription = false;\n\t\t\t$scope.expandedDescription = false;\n\n\t\t\t$scope.expandDescription = function(event){\n\n\t\t\t\tif(\n\t\t\t\t\t$scope.expandedDescription\n\t\t\t\t\t&&\n\t\t\t\t\t$(event.target).closest('.description-task').length\n\t\t\t\t){\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\t$scope.expandedDescription = !$scope.expandedDescription;\n\t\t\t\tsetDescription();\n\n\t\t\t};\n\n\t\t\tvar setDescription = function(){\n\n\t\t\t\tvar desc = $scope.interaction.interacaoTexto || '';\n\n\t\t\t\tif(desc.length > 100 && !$scope.expandedDescription){\n\n\t\t\t\t\t$scope.canExpandDescription = true;\n\n\t\t\t\t\tdesc = desc.substring(0,100) + '...';\n\n\t\t\t\t}\n\n\t\t\t\t$scope.descriptionItem = $sce.trustAsHtml(desc.replace(/\\n/g, '<br />'));\n\n\t\t\t};\n\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\tvar getToastMessage = function(action){\n\n\t\t\t\treturn {\n\t\t\t\t\tserverError: {\n\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para '\n\t\t\t\t\t\t\t+ action\n\t\t\t\t\t\t\t+ ' esse item',\n\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t};\n\n\t\t\tvar postExecute = function(callback){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\tif(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\t$scope.done = function(){\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\tfollowupService.actions({\n\t\t\t\t\titem: $scope.item,\n\t\t\t\t\taction: 'taskDone',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\ttarefa: {\n\t\t\t\t\t\t\t\ttarefaRealizado: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttoastrMessage: getToastMessage('atualizar'),\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\t// $scope.overdue = false;\n\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t\t$scope.cardActionsNoteDelegate.reschedule(response.data);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(){\n\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$scope.modalDelegate = {\n\t\t\t\thide: function(){\n\t\t\t\t\tif(reschedulePopover){\n\t\t\t\t\t\treschedulePopover.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar setItem = function(){\n\t\t\t\t$scope.interaction = followupService.getInteraction($scope.item);\n\t\t\t};\n\n\t\t\t$scope.getType = function(){\n\t\t\t\tvar type = followupService.getType($scope.item);\n\n\t\t\t\tif(\n\t\t\t\t\t/interacaoNota|interacaoAtividade/.test(type)\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.interaction.interacaoTipoSub\n\t\t\t\t){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tvar setActionsButtons = function(){\n\t\t\t\tif($scope.interaction.interacaoRealizado){\n\t\t\t\t\t$scope.hasTask = false;\n\t\t\t\t\t$scope.hasTaskToBeDone = false;\n\t\t\t\t\t$scope.hasAlarm = false;\n\t\t\t\t}else{\n\t\t\t\t\t$scope.hasTask = !!$scope.interaction.tarefa;\n\t\t\t\t\t$scope.hasTaskToBeDone = $scope.hasTask && !$scope.interaction.interacaoRealizado;\n\t\t\t\t\t$scope.hasAlarm = !$scope.interaction.interacaoRealizado\n\t\t\t\t\t\t&& $scope.hasTask && !!$scope.interaction.tarefa.alarme;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar processItem = function(){\n\t\t\t\tsetItem();\n\t\t\t\tsetActionsButtons();\n\t\t\t\tsetDescription();\n\t\t\t\tsetReschedulePopover();\n\t\t\t};\n\n\t\t\tvar reschedulePopover;\n\n\t\t\tvar setReschedulePopover = function(){\n\t\t\t\tif($scope.hasAlarm && $rootScope.mainController.device == 'desktop'){\n\t\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t\treschedulePopover = $popover(\n\t\t\t\t\t\t\tangular.element($element[0].querySelector('.dropdown-toggle')),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tscope: $scope,\n\t\t\t\t\t\t\t\ttitle: 'Reagendar', //[todo] remove\n\t\t\t\t\t\t\t\tcontentTemplate: 'calendar/directives/list-item/list-item-note-popover.html',\n\t\t\t\t\t\t\t\ttrigger: 'manual',\n\t\t\t\t\t\t\t\tautoClose: true,\n\t\t\t\t\t\t\t\tanimation: 'am-flip-x',\n\t\t\t\t\t\t\t\tplacement: 'bottom-left'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.reschedule = function(){\n\t\t\t\tif($rootScope.mainController.device == 'desktop'){\n\t\t\t\t\treschedulePopover.show();\n\t\t\t\t}else{\n\t\t\t\t\tshowModalReschedule();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.clientContactsResource = {\n\t\t\t\tid: $scope.item.parentResources.transactions.id,\n\t\t\t\tresource: 'transactions'\n\t\t\t};\n\n\t\t\tvar setUser = function(){\n\n\t\t\t\tusersService.getUserProfile({\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\tif(\n\t\t\t\t\t\t\tresponse.data.id\n\t\t\t\t\t\t\t!=\n\t\t\t\t\t\t\t$scope.interaction.interacaoAtorPartida.usuario.usuarioIdGuid\n\t\t\t\t\t\t){\n\t\t\t\t\t\t\t$scope.showItemUser = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tprocessItem();\n\t\t\tsetUser();\n\t\t}\n\t)\n\n\t.directive('calendarListItem', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\n\t\t\tscope: {\n\t\t\t\titem: '=',\n\t\t\t\tdelegate: '=delegate'\n\t\t\t},\n\t\t\tcontroller: 'ViewCalendarListItemController',\n\t\t\ttemplateUrl: 'calendar/directives/list-item/list-item.html'\n\t\t};\n\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t// .controller(\n\t// \t'viewTransactionAgentController',\n\t// \tfunction(){\n\n\t// \t\t// var getFirstAndLastName = function(){\n\t// \t\t// \tvar tempName = $scope.item.extraInfo.usuarioNome.match(/^\\w+|\\w+$/g, '');\n\t// \t\t// \tvar name = tempName[0];\n\t// \t\t// \tvar lastName = tempName[1] || '';\n\n\t// \t\t// \t$scope.agentName = name + ' ' + lastName;\n\t// \t\t// };\n\n\t// \t\t// getFirstAndLastName();\n\n\t// \t}\n\t// )\n\n\t.directive('viewTransactionAgent', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\titem: '='\n\t\t\t},\n\t\t\ttransclude: true,\n\t\t\t// controller: 'viewTransactionAgentController',\n\t\t\ttemplateUrl: 'transaction/directives/agent/agent.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionAmountsController',\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$element,\n\t\t\t$timeout,\n\t\t\t$popover,\n\t\t\t$tooltip,\n\t\t\ttransactionsService\n\t\t){\n\n\t\t\t$scope.mainController = $rootScope.mainController;\n\n\t\t\t$scope.isFinished = function(){\n\t\t\t\treturn transactionsService.isFinished($scope.transactionItem);\n\t\t\t};\n\n\t\t\tvar amountPopover;\n\n\t\t\t$timeout(function(){\n\n\t\t\t\tamountPopover = $popover(\n\t\t\t\t\tangular.element($element[0]),\n\t\t\t\t\t{\n\t\t\t\t\t\tscope: $scope,\n\t\t\t\t\t\ttitle: 'Alterar valor e comisso',\n\t\t\t\t\t\tcontentTemplate: 'transaction/directives/edit-amounts/popover-content.html',\n\t\t\t\t\t\ttrigger: 'manual',\n\t\t\t\t\t\tautoClose: true,\n\t\t\t\t\t\tanimation: 'am-flip-x',\n\t\t\t\t\t\tplacement: 'bottom'\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\n\t\t\t$scope.setAmount = function(){\n\t\t\t\tif(\n\t\t\t\t\t$scope.canEditWhenNotActive()\n\t\t\t\t\t&&\n\t\t\t\t\t$rootScope.mainController.device == 'desktop'\n\t\t\t\t){\n\t\t\t\t\tamountPopover.show();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.canEditWhenNotActive = function(){\n\t\t\t\treturn transactionsService.canEditWhenNotActive($scope.transactionItem);\n\t\t\t};\n\n\t\t\tif(!$scope.canEditWhenNotActive()){\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$tooltip(\n\t\t\t\t\t\t$element,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Voc no pode editar o valor de negcio<br />do cliente que no esta em atendimento',\n\t\t\t\t\t\t\ttype: 'warn',\n\t\t\t\t\t\t\ttrigger: 'click',\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionAmounts', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionAmountsController',\n\t\t\ttemplateUrl: 'transaction/directives/amounts/amounts.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionClientController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\ttransactionsService\n\t\t){\n\t\t\tconsole.log('client controller');\n\n\t\t\t$scope.clientPath = '/client-path/' + $scope.transactionItem.id;\n\n\t\t\t$scope.editData = function(content){\n\n\t\t\t\tif(!content){\n\n\t\t\t\t\t$('#external-info').collapse('hide');\n\t\t\t\t\t$('#bloco-clientes-informacoespessoais').collapse('show');\n\t\t\t\t\t$('#bloco-clientes-contato').collapse('show');\n\n\t\t\t\t}else{\n\n\t\t\t\t\t$('.client-tab-button').removeClass('active');\n\n\t\t\t\t\tvar tabButton = $('.client-tab-button.' + content);\n\t\t\t\t\ttabButton.addClass('active');\n\t\t\t\t\ttabButton.tab('show');\n\n\t\t\t\t\twindow.scrollTo(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t$('card-client-profile[blocks=' + content + ']').offset().top\n\t\t\t\t\t\t- $('navigation-bar .navbar').outerHeight()\n\t\t\t\t\t\t- 20\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.canEditWhenNotActive = function(){\n\t\t\t\treturn transactionsService.canEditWhenNotActive($scope.transactionItem);\n\t\t\t};\n\n\t\t\t$scope.clientContactsResource = {\n\t\t\t\tid: $scope.transactionItem.id,\n\t\t\t\tresource: 'transactions'\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionClient', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '=',\n\t\t\t\tdelegate: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionClientController',\n\t\t\ttemplateUrl: 'transaction/directives/client/client.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionDetailsController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$modal,\n\t\t\t$timeout,\n\t\t\tproductsService,\n\t\t\ttransactionsService,\n\t\t\tutilsStatesService\n\t\t){\n\n\t\t\t$scope.loading = true;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\t\t\t$scope.item;\n\t\t\t$scope.total = 0;\n\n\t\t\tvar data;\n\n\t\t\tvar productsServiceGetSuccess = function(response){\n\t\t\t\tresponse.data.data = response.data.data || [];\n\t\t\t\tdata = response.data.data;\n\t\t\t\tsetProduct();\n\t\t\t\t$scope.total = data.length;\n\t\t\t\t$scope.loading = false;\n\t\t\t};\n\n\t\t\tvar setProduct = function(){\n\n\t\t\t\t$scope.item = {\n\t\t\t\t\tfields: {\n\t\t\t\t\t\tproduto: {\n\t\t\t\t\t\t\tprodutoNome: 'Sem produto de interesse',\n\t\t\t\t\t\t\tprodutoValorMedio: 0,\n\t\t\t\t\t\t\tprodutoComissaoMedio: 0\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tdata.map(function(item){\n\t\t\t\t\tif(item.id == $scope.transactionItem.fields.atendimento.atendimentoProdutoIdGuid){\n\t\t\t\t\t\t$scope.item = item;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar patchProductSuccess = function(response){\n\n\t\t\t\t$scope.submitStatus.success = true;\n\n\t\t\t\ttransactionsService.updateItem(\n\t\t\t\t\t$scope.transactionItem,\n\t\t\t\t\tresponse.data\n\t\t\t\t);\n\t\t\t\tsetProduct();\n\t\t\t\tpostExecute();\n\n\t\t\t};\n\n\t\t\t$scope.getStateName = function(state){\n\t\t\t\treturn utilsStatesService[state];\n\t\t\t};\n\n\t\t\t$scope.getComissao = function(item){\n\t\t\t\treturn item.fields.produto.produtoValorMedio / 100 * item.fields.produto.produtoComissaoMedio;\n\t\t\t};\n\n\t\t\t$scope.canEditWhenNotActive = function(){\n\t\t\t\treturn transactionsService.canEditWhenNotActive($scope.transactionItem);\n\t\t\t};\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar patchProduct = function(item){\n\n\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\ttransactionsService.patchItem({\n\t\t\t\t\titem: $scope.transactionItem,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\tatendimento: {\n\t\t\t\t\t\t\t\tatendimentoProdutoIdGuid: item.id\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: patchProductSuccess,\n\t\t\t\t\terror: function(){\n\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\tpostExecute();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar modalDelegate = {\n\t\t\t\tpatchProduct: function(item){\n\t\t\t\t\tpatchProduct(item);\n\t\t\t\t\tmodalDelegate.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.showProducts = function(){\n\n\t\t\t\tvar item = $scope.item;\n\n\t\t\t\tvar getStateName = function(state){\n\t\t\t\t\treturn utilsStatesService[state];\n\t\t\t\t};\n\n\t\t\t\tvar getComissao = function(item){\n\t\t\t\t\treturn item.fields.produto.produtoValorMedio / 100 * item.fields.produto.produtoComissaoMedio;\n\t\t\t\t};\n\n\t\t\t\t$modal({\n\t\t\t\t\ttemplateUrl: 'transaction/directives/details/details-modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tcontroller: function($scope){\n\n\t\t\t\t\t\t$scope.data = data;\n\t\t\t\t\t\t$scope.patchProduct = modalDelegate.patchProduct;\n\t\t\t\t\t\t$scope.delegate = modalDelegate;\n\t\t\t\t\t\t$scope.getStateName = getStateName;\n\t\t\t\t\t\t$scope.getComissao = getComissao;\n\n\t\t\t\t\t\t$scope.showFilter = data.length > 20;\n\t\t\t\t\t\t$scope.model = {};\n\n\t\t\t\t\t\t$scope.getClassButton = function(itemProduct){\n\t\t\t\t\t\t\treturn itemProduct == item ? 'selected' : '';\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t$scope.getData = function(){\n\n\t\t\t\t\t\t\tvar regExp = new RegExp(\n\t\t\t\t\t\t\t\t($scope.model.filter || '')\n\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t\t\t\t\t\t.replace(/([*()\\u005B\\u005D{}.?^$])/g,'\\\\$1'),\n\t\t\t\t\t\t\t\t'i'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif($scope.showFilter && $scope.model.filter){\n\t\t\t\t\t\t\t\treturn data.filter(function(item){\n\t\t\t\t\t\t\t\t\treturn regExp.test(\n\t\t\t\t\t\t\t\t\t\titem.fields.produto.produtoNome\n\t\t\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tproductsService.get({\n\t\t\t\titem: $scope.transactionItem,\n\t\t\t\tsuccess: productsServiceGetSuccess\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionDetails', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionDetailsController',\n\t\t\ttemplateUrl: 'transaction/directives/details/details.html'\n\t\t};\n\t})\n\n\t.directive('viewTransactionDetailsProduct', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'transaction/directives/details/details-product.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionEditAmountsController',\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\ttransactionsService,\n\t\t\tanaproFormlyFactory,\n\t\t\tpermission\n\t\t){\n\n\t\t\t$scope.getHide = function(){\n\t\t\t\treturn $scope.$parent.$hide || $scope.modalDelegate.hide || null;\n\t\t\t};\n\n\t\t\t$scope.loading = false;\n\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\t$scope.form = {};\n\t\t\t$scope.formOptions = {};\n\n\t\t\tvar readOnlyValue = !permission.permissionStatus('resfim_editar_atd_valor');\n\t\t\tvar readOnlyCommission = !permission.permissionStatus('resfim_editar_atd_comissao');\n\n\t\t\t$scope.model = {\n\t\t\t\tfields: {\n\t\t\t\t\tatendimento: {}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar resetModel = function(){\n\t\t\t\t$scope.formOptions.resetModel();\n\t\t\t};\n\n\t\t\t$scope.fields = [];\n\n\t\t\tif(permission.permissionStatus('resfim_mostrar_atd_valor') === true){\n\t\t\t\t$scope.fields.push({\n\t\t\t\t\ttype: 'numberInput',\n\t\t\t\t\tkey: 'atendimentoNegocioValor',\n\t\t\t\t\tdefaultValue: $scope.transactionItem.fields.atendimento.atendimentoNegocioValor,\n\t\t\t\t\tmodel: readOnlyValue\n\t\t\t\t\t\t? {}\n\t\t\t\t\t\t: $scope.model.fields.atendimento,\n\t\t\t\t\tngModelElAttrs: readOnlyValue\n\t\t\t\t\t\t? {disabled: 'true'}\n\t\t\t\t\t\t: {},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\tlabel: 'Valor:',\n\t\t\t\t\t\ticon: 'currency',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmoney: 2,\n\t\t\t\t\t\tminValue: 1,\n\t\t\t\t\t\thint: readOnlyValue\n\t\t\t\t\t\t\t? 'Voc no tem permisso para alterar o valor.'\n\t\t\t\t\t\t\t: 'Valor aproximado do imvel que est sendo negociado.'\n\t\t\t\t\t},\n\t\t\t\t\tngModelAttrs: {\n\t\t\t\t\t\toff: {\n\t\t\t\t\t\t\tvalue: 'autocomplete'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\tlayout: 'row'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(permission.permissionStatus('resfim_mostrar_atd_comissao') === true){\n\t\t\t\t$scope.fields.push({\n\t\t\t\t\ttype: 'numberInput',\n\t\t\t\t\tkey: 'atendimentoNegocioComissao',\n\t\t\t\t\tdefaultValue: $scope.transactionItem.fields.atendimento.atendimentoNegocioComissao,\n\t\t\t\t\tmodel: readOnlyCommission\n\t\t\t\t\t\t? {}\n\t\t\t\t\t\t: $scope.model.fields.atendimento,\n\t\t\t\t\tclassName: 'input-nogrow atendimentoNegocioComissao align-right',\n\t\t\t\t\tngModelElAttrs: readOnlyCommission\n\t\t\t\t\t\t? {disabled: 'true'}\n\t\t\t\t\t\t: {},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'tel',\n\t\t\t\t\t\ticon: 'percentage',\n\t\t\t\t\t\tlabel: 'Comisso:',\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tdecimals: 2,\n\t\t\t\t\t\tminValue: 0.01,\n\t\t\t\t\t\tmaxValue: 99.99,\n\t\t\t\t\t\thint: readOnlyCommission\n\t\t\t\t\t\t\t? 'Voc no tem permisso para alterar a comisso.'\n\t\t\t\t\t\t\t: 'Percentual aproximado da comisso na venda do imvel negociado.'\n\t\t\t\t\t},\n\t\t\t\t\tngModelAttrs: {\n\t\t\t\t\t\toff: {\n\t\t\t\t\t\t\tvalue: 'autocomplete'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\telementAttributes: {\n\t\t\t\t\t\tlayout: 'row'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar updateTransactionItem = function(data){\n\n\t\t\t\t$scope.transactionItem.fields.atendimento.atendimentoNegocioValor =\n\t\t\t\t\tdata.fields.atendimento.atendimentoNegocioValor;\n\n\t\t\t\t$scope.transactionItem.fields.atendimento.atendimentoNegocioComissao =\n\t\t\t\t\tdata.fields.atendimento.atendimentoNegocioComissao;\n\n\t\t\t\t$scope.transactionItem.extraInfo.atendimentoNegocioComissaoValor =\n\t\t\t\t\tdata.extraInfo.atendimentoNegocioComissaoValor;\n\n\t\t\t};\n\n\t\t\tvar postExecute = function(callback){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t},500);\n\n\t\t\t\tif(callback){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t},700);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.submit = function(callback){\n\n\t\t\t\tif($scope.form.$valid && !$scope.loading){\n\n\t\t\t\t\t$scope.loading = true;\n\n\t\t\t\t\ttransactionsService.actions({\n\t\t\t\t\t\titem: $scope.transactionItem,\n\t\t\t\t\t\taction: 'amounts',\n\t\t\t\t\t\tdata: $scope.model,\n\t\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para atualizar o valor e comisso do negcio.',\n\t\t\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\t\t\tupdateTransactionItem(response.data);\n\t\t\t\t\t\t\tpostExecute(callback);\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: function(){\n\t\t\t\t\t\t\t$scope.submitStatus.error = true;\n\n\t\t\t\t\t\t\tpostExecute(callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.cancel = function(callback){\n\n\t\t\t\tresetModel();\n\n\t\t\t\tif(callback){\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionEditAmounts', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '=',\n\t\t\t\tmodalDelegate: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionEditAmountsController',\n\t\t\ttemplateUrl: 'transaction/directives/edit-amounts/edit-amounts.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionFollowersController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$modal,\n\t\t\tusersService,\n\t\t\ttransactionsService\n\t\t){\n\n\t\t\tangular.merge(\n\t\t\t\t$scope.transactionItem.extraInfo,\n\t\t\t\t{\n\t\t\t\t\tusuarioSeguidores: []\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tvar currentUser;\n\t\t\tvar followersList = $scope.transactionItem.extraInfo.usuarioSeguidores;\n\n\t\t\tusersService.getUserProfile({\n\t\t\t\tsuccess: function(response){\n\t\t\t\t\tcurrentUser = response.data;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.summary = {};\n\t\t\t$scope.btnLikeClassName = {\n\t\t\t\tactive: false\n\t\t\t};\n\n\t\t\t$scope.canEditWhenNotActive = function(){\n\t\t\t\treturn transactionsService.canEditWhenNotActive($scope.transactionItem);\n\t\t\t};\n\n\t\t\tvar setSummary = function(){\n\n\t\t\t\t$scope.summary = {\n\t\t\t\t\tnames: '',\n\t\t\t\t\ttotal: 0\n\t\t\t\t};\n\n\t\t\t\t$scope.btnLikeClassName = {\n\t\t\t\t\tactive: !!followersList.filter(function(item){\n\t\t\t\t\t\treturn item.usuarioIdGuid == currentUser.id;\n\t\t\t\t\t}).length\n\t\t\t\t};\n\n\t\t\t\tvar limit = 2;\n\t\t\t\tvar count = followersList.length;\n\n\t\t\t\tif(count){\n\n\t\t\t\t\tvar names = '';\n\n\t\t\t\t\tfor(var i=0; i<followersList.length; i++){\n\n\t\t\t\t\t\tvar item = followersList[i];\n\n\t\t\t\t\t\tnames += names\n\t\t\t\t\t\t\t? ' e '\n\t\t\t\t\t\t\t: '';\n\n\t\t\t\t\t\tnames += item.usuarioApelido || item.usuarioNome;\n\n\t\t\t\t\t\tif(i == (limit - 1)){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t$scope.summary.names = names;\n\t\t\t\t\t$scope.summary.total = count;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar followersListDelegate = {\n\t\t\t\tupdateTransactionItemFollowers: function(newFollowersList){\n\n\t\t\t\t\tfollowersList.splice(0);\n\n\t\t\t\t\tangular.extend(\n\t\t\t\t\t\tfollowersList,\n\t\t\t\t\t\tnewFollowersList\n\t\t\t\t\t);\n\n\t\t\t\t\tsetSummary();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar success = function(response){\n\n\t\t\t\tfollowersList.splice(0);\n\n\t\t\t\tangular.extend(\n\t\t\t\t\tfollowersList,\n\t\t\t\t\tresponse.data.extraInfo.usuarioSeguidores\n\t\t\t\t);\n\n\t\t\t\tsetSummary();\n\n\t\t\t};\n\n\t\t\tvar error = function(){\n\n\t\t\t\ttoggleLike();\n\n\t\t\t\tsetFollowersList();\n\n\t\t\t\tsetSummary();\n\n\t\t\t};\n\n\t\t\tvar toggleLike = function(){\n\t\t\t\t$scope.btnLikeClassName.active = !$scope.btnLikeClassName.active;\n\t\t\t};\n\n\t\t\tvar setFollowersList = function(){\n\t\t\t\tif($scope.btnLikeClassName.active){\n\t\t\t\t\tfollowersList.push({\n\t\t\t\t\t\tusuarioIdGuid: currentUser.id,\n\t\t\t\t\t\tusuarioNome: currentUser.fields.usuario.usuarioNome,\n\t\t\t\t\t\tusuarioApelido: currentUser.fields.usuario.usuarioApelido\n\t\t\t\t\t});\n\t\t\t\t}else{\n\n\t\t\t\t\tvar listRemovedCurrentUser = followersList.filter(function(item){\n\t\t\t\t\t\treturn item.usuarioIdGuid != currentUser.id;\n\t\t\t\t\t});\n\n\t\t\t\t\tfollowersList.splice(0);\n\t\t\t\t\tangular.extend(followersList, listRemovedCurrentUser);\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.toggleFollowing = function(){\n\n\t\t\t\ttoggleLike();\n\n\t\t\t\tsetFollowersList();\n\n\t\t\t\tvar list = followersList.map(function(item){\n\t\t\t\t\treturn item.usuarioIdGuid;\n\t\t\t\t});\n\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\taction: 'followers',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\titem: $scope.transactionItem,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\tusuarioSeguidoresIdGuids: list\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: success,\n\t\t\t\t\terror: error\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$scope.showListModal = function(){\n\n\t\t\t\tif(!$scope.canEditWhenNotActive() && !$scope.summary.total){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar transactionItem = $scope.transactionItem;\n\n\t\t\t\t$modal({\n\t\t\t\t\ttemplateUrl: 'transaction/directives/followers/modal.html',\n\t\t\t\t\tshow: true,\n\t\t\t\t\tanimation: 'am-fade-and-slide-top',\n\t\t\t\t\tcontroller: function($scope){\n\t\t\t\t\t\t$scope.delegate = followersListDelegate;\n\t\t\t\t\t\t$scope.transactionItem = transactionItem;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tsetSummary();\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionFollowers', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionFollowersController',\n\t\t\ttemplateUrl: 'transaction/directives/followers/followers.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionFollowersListController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\ttransactionsService\n\t\t){\n\n\t\t\tvar followersObject;\n\t\t\tvar listFollowers = [];\n\t\t\tvar followersObjectList;\n\t\t\tvar initEmptyFollowers = true;\n\n\t\t\t$scope.delegate = $scope.delegate || {};\n\t\t\t$scope.empty = false;\n\t\t\t$scope.loading = true;\n\t\t\t$scope.model = {};\n\t\t\t$scope.fields = [{\n\t\t\t\ttype: 'input',\n\t\t\t\tkey: 'filter',\n\t\t\t\tmodel: $scope.model,\n\t\t\t\tmodelOptions: {\n\t\t\t\t\tdebounce: {\n\t\t\t\t\t\tdefault: 200,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttemplateOptions: {\n\t\t\t\t\tplaceholder: 'Busque pelo nome ou apelido',\n\t\t\t\t\thint: 'Se o usurio no estiver na lista,  porque ele no pertence  campanha e canal deste atendimento.',\n\t\t\t\t\tminlength: 2,\n\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t}\n\t\t\t}];\n\n\t\t\tvar setFollowersObject = function(filters){\n\n\t\t\t\tfilters.map(function(item){\n\t\t\t\t\tif(item.field == 'usuarioSeguidoresIdGuids'){\n\t\t\t\t\t\tfollowersObject = item;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfollowersObjectList = followersObject.defaultValue || [];\n\n\t\t\t};\n\n\t\t\tvar setListFollowers = function(){\n\n\t\t\t\tif(!followersObject.options || !followersObject.options.length){\n\t\t\t\t\t$scope.empty = true;\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlistFollowers = followersObject.options.filter(function(followersObjectItem){\n\t\t\t\t\treturn followersObjectList.indexOf(followersObjectItem.value) >= 0;\n\t\t\t\t});\n\n\t\t\t\tinitEmptyFollowers = !listFollowers.length;\n\n\t\t\t};\n\n\t\t\tvar getFollowersSuccess = function(response){\n\n\t\t\t\tsetFollowersObject(response.data.filters);\n\t\t\t\tsetListFollowers();\n\n\t\t\t\t$scope.loading = false;\n\n\t\t\t};\n\n\t\t\tvar getFollowersError = function(){\n\t\t\t\tif($scope.delegate.hide){\n\t\t\t\t\t$scope.delegate.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.getLimitTo = function(){\n\t\t\t\treturn listFollowers.length ? null : 100;\n\t\t\t};\n\n\t\t\t$scope.isFollowing = function(item){\n\t\t\t\treturn listFollowers.indexOf(item) >= 0;\n\t\t\t};\n\n\t\t\t$scope.getList = function(){\n\n\t\t\t\tif(!followersObject){\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tvar regExp = new RegExp(\n\t\t\t\t\t($scope.model.filter || '')\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t\t\t.replace(/([*()\\u005B\\u005D{}.?^$])/g,'\\\\$1'),\n\t\t\t\t\t'i'\n\t\t\t\t);\n\n\t\t\t\tif($scope.model.filter){\n\t\t\t\t\treturn followersObject.options.filter(function(item){\n\t\t\t\t\t\treturn regExp.test(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\titem.name\n\t\t\t\t\t\t\t\t+ ' '\n\t\t\t\t\t\t\t\t+ (item.properties.usuarioEmail || '')\n\t\t\t\t\t\t\t\t+ ' '\n\t\t\t\t\t\t\t\t+ (item.properties.usuarioApelido || '')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '')\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif(listFollowers.length && !initEmptyFollowers){\n\t\t\t\t\treturn listFollowers;\n\t\t\t\t}\n\n\t\t\t\treturn followersObject.options;\n\n\t\t\t};\n\n\t\t\t$scope.add = function(item){\n\t\t\t\tlistFollowers.push(item);\n\t\t\t\tpostAction();\n\t\t\t};\n\n\t\t\t$scope.remove = function(item){\n\t\t\t\tlistFollowers.splice(listFollowers.indexOf(item), 1);\n\t\t\t\tpostAction();\n\t\t\t};\n\n\t\t\t$scope.canEditWhenNotActive = function(){\n\t\t\t\treturn transactionsService.canEditWhenNotActive($scope.transactionItem);\n\t\t\t};\n\n\t\t\tvar runDelegates = function(transactionItemFollowers){\n\n\t\t\t\tif($scope.delegate.updateTransactionItemFollowers){\n\t\t\t\t\t$scope.delegate.updateTransactionItemFollowers(transactionItemFollowers);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar postActionSuccess = function(response){\n\t\t\t\trunDelegates(response.data.extraInfo.usuarioSeguidores || []);\n\t\t\t};\n\n\t\t\tvar postActionError = function(){\n\t\t\t\tsetListFollowers();\n\t\t\t};\n\n\t\t\tvar postAction = function(){\n\n\t\t\t\tvar ids = (listFollowers.map(function(item){\n\t\t\t\t\treturn item.value;\n\t\t\t\t}));\n\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\taction: 'followers',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\titem: $scope.transactionItem,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\tusuarioSeguidoresIdGuids: ids\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: postActionSuccess,\n\t\t\t\t\terror: postActionError\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\ttransactionsService.actions({\n\t\t\t\taction: 'followers',\n\t\t\t\tmethod: 'GET',\n\t\t\t\titem: $scope.transactionItem,\n\t\t\t\tsuccess: getFollowersSuccess,\n\t\t\t\terror: getFollowersError\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionFollowersList', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '=',\n\t\t\t\tdelegate: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionFollowersListController',\n\t\t\ttemplateUrl: 'transaction/directives/followers/list.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionHashtagController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$element,\n\t\t\tclientsService,\n\t\t\tpath\n\t\t){\n\t\t\tangular.merge(\n\t\t\t\t$scope.transactionItem.expand.clients.fields,\n\t\t\t\t{\n\t\t\t\t\tprospectHashTags: []\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tvar prospectHashTagsOriginal = [];\n\n\t\t\tvar setProspectHashTagsOriginal = function(){\n\t\t\t\tprospectHashTagsOriginal = angular.copy($scope.transactionItem.expand.clients.fields.prospectHashTags);\n\t\t\t};\n\n\t\t\tvar resetProspectHashTags = function(){\n\t\t\t\tvar hashtags = $scope.transactionItem.expand.clients.fields.prospectHashTags;\n\t\t\t\thashtags.splice(0, hashtags.length);\n\n\t\t\t\tangular.extend(hashtags,prospectHashTagsOriginal);\n\t\t\t};\n\n\t\t\t$scope.model = {};\n\t\t\t$scope.edit = false;\n\t\t\t$scope.loading = false;\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\t$scope.editHashtag = function(){\n\t\t\t\tsetTextArea();\n\t\t\t\t$scope.edit = true;\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$($element).find('textarea').focus();\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar setTextArea = function(){\n\t\t\t\t$scope.model.textArea = $scope.transactionItem.expand.clients.fields.prospectHashTags.join(' #');\n\n\t\t\t\tif($scope.model.textArea){\n\t\t\t\t\t$scope.model.textArea = '#' + $scope.model.textArea;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar getToastrMessages = function(){\n\n\t\t\t\treturn {\n\t\t\t\t\tserverError: {\n\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para atualizar os dados do cliente.',\n\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t$scope.getPath = function(hashtag){\n\t\t\t\treturn path.getPath('transactions')\n\t\t\t\t+ encodeURIComponent(\n\t\t\t\t\t'#'\n\t\t\t\t\t+ hashtag.toLowerCase()\n\t\t\t\t);\n\t\t\t};\n\n\t\t\t$scope.patchHashtag = function(attrs){\n\n\t\t\t\tconsole.log(attrs);\n\n\t\t\t\tattrs = attrs || {};\n\n\t\t\t\tif($scope.edit){\n\t\t\t\t\tattrs.hashtags = $scope.model.textArea\n\t\t\t\t\t? $scope.model.textArea.replace(/#/g,'').replace(/\\s+/g,' ').split(' ')\n\t\t\t\t\t: [];\n\t\t\t\t}\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\tclientsService.patchItem({\n\t\t\t\t\titem: $scope.transactionItem.expand.clients,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tfields: {\n\t\t\t\t\t\t\tprospectHashTags: attrs.hashtags\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttoastrMessages: getToastrMessages(),\n\t\t\t\t\tsuccess: success,\n\t\t\t\t\terror: function(){\n\n\t\t\t\t\t\tif(!$scope.edit){\n\t\t\t\t\t\t\tresetProspectHashTags();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\t\tpostExecute();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\t$scope.removeHashtag = function(index){\n\t\t\t\t$scope.transactionItem.expand.clients.fields.prospectHashTags.splice(index, 1);\n\n\t\t\t\t$scope.patchHashtag({\n\t\t\t\t\thashtags: $scope.transactionItem.expand.clients.fields.prospectHashTags\n\t\t\t\t});\n\n\t\t\t\t$scope.loading = false;\n\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t$scope.submitStatus.error = false;\n\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\t\t\t\tsetTextArea();\n\t\t\t\t$scope.edit = false;\n\t\t\t};\n\n\t\t\tvar success = function(response){\n\t\t\t\tvar hashtags = $scope.transactionItem.expand.clients.fields.prospectHashTags;\n\t\t\t\thashtags.splice(0, hashtags.length);\n\n\t\t\t\tangular.extend(hashtags, response.data.fields.prospectHashTags);\n\t\t\t\tsetProspectHashTagsOriginal();\n\t\t\t\t$scope.submitStatus.success = true;\n\n\t\t\t\t$scope.edit = false;\n\t\t\t\tpostExecute();\n\t\t\t};\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$scope.loading = false;\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tsetProspectHashTagsOriginal();\n\n\t\t}\n\t)\n\n\t.directive('hashtag', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionHashtagController',\n\t\t\ttemplateUrl: 'transaction/directives/hashtag/hashtag.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionInfoController',\n\t\tfunction($scope){\n\n\t\t\t$scope.copy = function(){\n\t\t\t\tvar input = document.createElement('input');\n\t\t\t\tdocument.body.appendChild(input);\n\t\t\t\tinput.className = 'input-copy-hidden';\n\t\t\t\tinput.value = $scope.transactionItem.extraInfo.atendimentoFollowUpEmail;\n\t\t\t\tinput.select();\n\t\t\t\tdocument.execCommand('copy', false);\n\t\t\t\tinput.remove();\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionInfo', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionInfoController',\n\t\t\ttemplateUrl: 'transaction/directives/info/info.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionInstructions',\n\t\tfunction(\n\t\t\t$scope,\n\t\t\ttransactionsService,\n\t\t\tusersService\n\t\t){\n\n\t\t\t$scope.userWillSoonLooseIt = false;\n\t\t\t$scope.companyName;\n\n\t\t\tusersService.getUserProfile({\n\t\t\t\tsuccess: function(response){\n\t\t\t\t\t$scope.companyName = response.data.extraInfo.contaSistemaNome;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar setUserWillSoonLooseIt = function(){\n\n\t\t\t\t$scope.userWillSoonLooseIt =\n\t\t\t\t\t!!$scope.transactionItem.extraInfo.atendimentoExpiracaoAutomaticaQtdMinutosConf\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.getExpiresTimeInDays($scope.transactionItem) <= 2;\n\n\t\t\t};\n\n\t\t\t$scope.getExpiresTimeInDays = function(){\n\t\t\t\treturn transactionsService.getExpiresTimeInDays($scope.transactionItem);\n\t\t\t};\n\n\t\t\t$scope.getExpiresTimeConfInDays = function(){\n\t\t\t\treturn transactionsService.getExpiresTimeConfInDays($scope.transactionItem);\n\t\t\t};\n\n\t\t\t$scope.showInstructions = function(){\n\n\t\t\t\treturn !$scope.transactionItem.extraInfo.alarmeProximoDtAlarme\n\t\t\t\t||\n\t\t\t\t$scope.transactionItem.extraInfo.alarmeProximoInteracaoQtdMinutosRestantesMax < 0\n\t\t\t\t||\n\t\t\t\t$scope.userWillSoonLooseIt;\n\n\t\t\t};\n\n\t\t\tsetUserWillSoonLooseIt();\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionInstructions', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '='\n\t\t\t},\n\t\t\ttransclude: true,\n\t\t\tcontroller: 'viewTransactionInstructions',\n\t\t\ttemplateUrl: 'transaction/directives/instructions/instructions.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.factory(\n\t\t'stageFormFactory',\n\t\tfunction(\n\t\t\t$compile,\n\t\t\tpermission,\n\t\t\ttoastrFactory\n\t\t){\n\t\t\treturn {\n\t\t\t\tsetTransactionStage: function(attrs){\n\n\t\t\t\t\tvar scope = attrs.scope.$new();\n\t\t\t\t\tvar element = $(attrs.element).closest('[stage-form]');\n\n\t\t\t\t\tscope.stageFormScope = attrs;\n\n\t\t\t\t\tangular.element(element).append(\n\t\t\t\t\t\t$compile(\n\t\t\t\t\t\t\t'<view-transaction-stage-form stage-form-scope=\"stageFormScope\">'\n\t\t\t\t\t\t\t+ '</view-transaction-stage-form>'\n\t\t\t\t\t\t)(scope)\n\t\t\t\t\t);\n\n\t\t\t\t},\n\n\t\t\t\tcheckPermissionsToastr: function(){\n\t\t\t\t\tvar permissionSetStage = permission.checkPermissions('atd_expectativa');\n\n\t\t\t\t\tif(permissionSetStage === true){\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(permissionSetStage === false){\n\t\t\t\t\t\ttoastrFactory.warn({\n\t\t\t\t\t\t\tmessage: 'Voc no tem permisso para alterar a fase do cliente'\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if(permissionSetStage == 'disabled'){\n\t\t\t\t\t\ttoastrFactory.error({\n\t\t\t\t\t\t\tmessage: 'Desculpe, alterar a fase do cliente est temporariamente desabilitado.'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t)\n\n\t.controller(\n\t\t'viewTransactionStageFormController',\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$element,\n\t\t\ttransactionsService,\n\t\t\tanaproFormlyFactory\n\t\t){\n\n\t\t\tvar stageItem = {};\n\n\t\t\tvar delegate = $scope.stageFormScope.delegate;\n\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\t$scope.formFields = {\n\t\t\t\tfields: [],\n\t\t\t\tmodel: {},\n\t\t\t\tform: {},\n\t\t\t\toptions: {}\n\t\t\t};\n\n\t\t\t$scope.cancel = function(){\n\n\t\t\t\t$scope.$destroy();\n\t\t\t\t$element.remove();\n\n\t\t\t\tif($scope.formFields.options.resetModel){\n\t\t\t\t\t$scope.formFields.options.resetModel();\n\t\t\t\t}\n\n\t\t\t\tif(delegate.onFormDestroy){\n\t\t\t\t\tdelegate.onFormDestroy();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar showStageFields = function(stage){\n\n\t\t\t\tif(delegate.onFormShowUp){\n\t\t\t\t\tdelegate.onFormShowUp();\n\t\t\t\t}\n\n\t\t\t\tanaproFormlyFactory.createFormlyFieldsFromAPI(\n\t\t\t\t\tangular.copy(stage.fields.pipelineStage.pipelineStageFields),\n\t\t\t\t\t$scope.formFields.fields\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tvar forceDownloadStage = function(){\n\n\t\t\t\ttransactionsService.getPipelines({\n\t\t\t\t\tid: $scope.stageFormScope.transactionItem.id,\n\t\t\t\t\tstageId: $scope.stageFormScope.stageItem.id,\n\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t$scope.stageFormScope.stageItem = response.data;\n\t\t\t\t\t\t$scope.stageFormScope.forceDownloadStage = false;\n\t\t\t\t\t\tsetTransactionStage();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar setTransactionStage = function(){\n\n\t\t\t\tstageItem = $scope.stageFormScope.stageItem;\n\n\t\t\t\t// workaround\n\t\t\t\tif(!stageItem.id){\n\t\t\t\t\tstageItem.id = stageItem.fields.pipelineStage.pipelineStageIdGuid;\n\t\t\t\t}\n\n\t\t\t\tif($scope.stageFormScope.forceDownloadStage){\n\t\t\t\t\tforceDownloadStage();\n\t\t\t\t}else if(stageItem.fields.pipelineStage.pipelineStageFields){\n\t\t\t\t\tshowStageFields(stageItem);\n\t\t\t\t}else{\n\t\t\t\t\tpostActionPipelineStage();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.submit = function(){\n\t\t\t\tif($scope.formFields.form.$valid && !$scope.loading){\n\t\t\t\t\tpostActionPipelineStage();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar postActionPipelineStage = function(){\n\n\t\t\t\tif(delegate.onInitSetStage){\n\t\t\t\t\tdelegate.onInitSetStage();\n\t\t\t\t}\n\n\t\t\t\t$scope.loading = true;\n\n\t\t\t\tvar data = {\n\t\t\t\t\tfields: {\n\t\t\t\t\t\tpipelineStage: {\n\t\t\t\t\t\t\tpipelineStageIdGuid: stageItem.id,\n\t\t\t\t\t\t\tpipelineStageFields: $scope.formFields.model\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\ttransactionsService.actions({\n\t\t\t\t\titem: $scope.stageFormScope.transactionItem,\n\t\t\t\t\taction: 'pipelineStage',\n\t\t\t\t\tdata: data,\n\t\t\t\t\ttoastrMessages: {\n\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\ttitle: 'Fase alterada com sucesso.'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tserverError: {\n\t\t\t\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para atualizar a fase do negcio.',\n\t\t\t\t\t\t\tmessage: 'Tente novamente mais tarde, obrigado.'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(response){\n\n\t\t\t\t\t\tif(delegate.success){\n\t\t\t\t\t\t\tdelegate.success(response);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$scope.cancel();\n\n\t\t\t\t\t},\n\t\t\t\t\terror: function(response){\n\n\t\t\t\t\t\tif(delegate.error){\n\t\t\t\t\t\t\tdelegate.error(response);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$scope.cancel();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tsetTransactionStage();\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionStageForm', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tstageFormScope: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionStageFormController',\n\t\t\ttemplateUrl: 'transaction/directives/stage/stage-form.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionStageController',\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\ttransactionsService,\n\t\t\tstageFormFactory,\n\t\t\tmomentFactory,\n\t\t\tpermission\n\t\t){\n\n\t\t\t$scope.stages = [];\n\n\t\t\tvar stageField = 'atendimentoPipelineStageIdGuid';\n\t\t\tvar fields = $scope.transactionItem.fields.atendimento;\n\n\t\t\t$scope.loading = false;\n\t\t\t$scope.hideOverlay = false;\n\t\t\t$scope.hasPermissionToBackwardsPipeline =\n\t\t\t\tpermission.checkPermissions('atd_voltar_fase');\n\n\t\t\t$scope.submitStatus = {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: false\n\t\t\t};\n\n\t\t\tvar setStagesDone = function(reset){\n\n\t\t\t\tif(reset){\n\t\t\t\t\t$scope.stages.map(function(stage){\n\t\t\t\t\t\tstage.done = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tfor(var i=0; i<$scope.stages.length; i++){\n\n\t\t\t\t\tvar stage = $scope.stages[i];\n\t\t\t\t\tstage.done = true;\n\n\t\t\t\t\tif(stage.id === fields[stageField]){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\tvar postExecute = function(){\n\t\t\t\t$timeout(function(){\n\n\t\t\t\t\tsetStagesDone(true);\n\t\t\t\t\t$scope.submitStatus.success = false;\n\t\t\t\t\t$scope.submitStatus.error = false;\n\t\t\t\t\t$scope.loading = false;\n\n\t\t\t\t\tif($scope.modalSetStageDelegate.hide){\n\t\t\t\t\t\t$scope.modalSetStageDelegate.hide();\n\t\t\t\t\t}\n\n\t\t\t\t},500);\n\t\t\t};\n\n\t\t\tvar updatePipelines = function(data){\n\t\t\t\tif(data.embed && data.embed.pipelines){\n\t\t\t\t\tgetPipelinesSuccess({\n\t\t\t\t\t\tdata: data.embed.pipelines\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar setTransactionItem = function(item){\n\t\t\t\tangular.extend(\n\t\t\t\t\t$scope.transactionItem,\n\t\t\t\t\titem\n\t\t\t\t);\n\t\t\t\tfields = $scope.transactionItem.fields.atendimento;\n\t\t\t};\n\n\t\t\tvar callDelegate = function(response){\n\t\t\t\tif($scope.delegate){\n\t\t\t\t\t$scope.delegate(response);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.modal = {};\n\n\t\t\t$scope.setModal = function(group, index){\n\t\t\t\t$scope.modal = {\n\t\t\t\t\tgroup: group,\n\t\t\t\t\tindex: index\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t$scope.modalSetStageDelegate = {};\n\n\t\t\tvar stageFormDelegate = {\n\t\t\t\tonFormShowUp: function(){\n\t\t\t\t\t$scope.hideOverlay = true;\n\t\t\t\t},\n\t\t\t\tonFormDestroy: function(){\n\t\t\t\t\t$scope.hideOverlay = false;\n\t\t\t\t},\n\t\t\t\tonInitSetStage: function(){\n\t\t\t\t\t$scope.loading = true;\n\t\t\t\t},\n\t\t\t\tsuccess: function(response){\n\t\t\t\t\t$scope.submitStatus.success = true;\n\t\t\t\t\tsetTransactionItem(response.data);\n\t\t\t\t\tupdatePipelines(response.data);\n\t\t\t\t\tpostExecute();\n\t\t\t\t\tcallDelegate(response);\n\t\t\t\t},\n\t\t\t\terror: function(){\n\t\t\t\t\t$scope.submitStatus.error = true;\n\t\t\t\t\tpostExecute();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.durationsByGroup = {};\n\n\t\t\tvar setDurations = function(){\n\n\t\t\t\tvar durations = {};\n\n\t\t\t\t$scope.stages.map(function(item){\n\n\t\t\t\t\tvar group = item.fields.pipelineStage.pipelineStageGrupo;\n\n\t\t\t\t\tdurations[group] = durations[group] || {total: 0};\n\t\t\t\t\tdurations[group].total += item.fields.pipelineStage.pipelineStagePermanencia || 0;\n\n\t\t\t\t});\n\n\t\t\t\tObject.keys(durations).map(function(group){\n\t\t\t\t\tdurations[group].moment =\n\t\t\t\t\t\tmomentFactory.getDuration(\n\t\t\t\t\t\t\tdurations[group].total > 0 && durations[group].total < 60\n\t\t\t\t\t\t\t? 60\n\t\t\t\t\t\t\t: durations[group].total,\n\t\t\t\t\t\t\t'seconds'\n\t\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\t$scope.durationsByGroup = durations;\n\n\t\t\t};\n\n\t\t\tvar getPipelinesSuccess = function(response){\n\n\t\t\t\t// response.data.data.map(function(item){\n\t\t\t\t// \tvar stage = item.fields.pipelineStage;\n\t\t\t\t// \t$scope.stages.push({\n\t\t\t\t// \t\tindex: stage.pipelineStageOrdem + 1,\n\t\t\t\t// \t\tid: stage.pipelineStageIdGuid,\n\t\t\t\t// \t\tname: stage.pipelineStageNome,\n\t\t\t\t// \t\tgroup: stage.pipelineStageGrupo,\n\t\t\t\t// \t\tfields: stage.pipelineStageFields\n\t\t\t\t// \t});\n\t\t\t\t// \tinitSwiper();\n\t\t\t\t// });\n\n\t\t\t\tinitSwiper();\n\n\t\t\t\t$scope.stages = response.data.data;\n\n\t\t\t\tsetDurations();\n\n\t\t\t\tsetStagesDone();\n\n\t\t\t};\n\n\t\t\t$scope.getCurrentPipelineStage = function(){\n\t\t\t\treturn $scope.transactionItem.extraInfo.pipelineStageNome.replace(/.*?\\/\\W/,'');\n\t\t\t};\n\n\t\t\t$scope.setTransactionStage = function(event, item){\n\t\t\t\tif(!stageFormFactory.checkPermissionsToastr()){\n\t\t\t\t\treturn;\n\t\t\t\t}else if(\n\t\t\t\t\t$scope.hasPermissionToBackwardsPipeline\n\t\t\t\t\t||\n\t\t\t\t\t!item.fields.pipelineStage.pipelineStageFulFilled\n\t\t\t\t){\n\t\t\t\t\tstageFormFactory.setTransactionStage({\n\t\t\t\t\t\telement: event.target,\n\t\t\t\t\t\tscope: $scope,\n\t\t\t\t\t\tdelegate: stageFormDelegate,\n\t\t\t\t\t\ttransactionItem: $scope.transactionItem,\n\t\t\t\t\t\tstageItem: item\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.swiperLoaded = true;\n\n\t\t\tvar initSwiper = function(){\n\n\t\t\t\tif($rootScope.mainController.device == 'mobile'){\n\t\t\t\t\t$scope.swiperLoaded = false;\n\n\t\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t\tnew Swiper(\n\t\t\t\t\t\t\t'view-transaction-stage .swiper',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpagination: '.swiper-pagination',\n\t\t\t\t\t\t\t\tslidesPerView: 1,\n\t\t\t\t\t\t\t\tslidesPerGroup: 1,\n\t\t\t\t\t\t\t\tpaginationClickable: true,\n\t\t\t\t\t\t\t\tspaceBetween: 0,\n\t\t\t\t\t\t\t\tinitialSlide: Object.keys($scope.durationsByGroup)\n\t\t\t\t\t\t\t\t\t.indexOf($scope.transactionItem.extraInfo.pipelineStageGrupo)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t$scope.swiperLoaded = true;\n\n\t\t\t\t\t},0);\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\ttransactionsService.getPipelines({\n\t\t\t\tid: $scope.transactionItem.id,\n\t\t\t\tsuccess: getPipelinesSuccess\n\t\t\t});\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionStage', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\ttransactionItem: '=',\n\t\t\t\tdelegate: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionStageController',\n\t\t\ttemplateUrl: 'transaction/directives/stage/stage.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transactions')\n\n\t.controller(\n\t\t'viewTransactionsListController',\n\t\tfunction(\n\t\t\t$window,\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\tpath,\n\t\t\tstageFormFactory,\n\t\t\ttransactionsService,\n\t\t\ttransactionTransferFactory,\n\t\t\ttransactionFinishFactory,\n\t\t\tcardActionFactory,\n\t\t\tpermission\n\t\t){\n\n\t\t\t$scope.listFilter = $scope.$parent.$parent.listFilter;\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\n\t\t\t$scope.isOnQueue = transactionsService.isOnQueue;\n\t\t\t$scope.isFinished = transactionsService.isFinished;\n\t\t\t$scope.expiresProgressThreshold = transactionsService.getExpiresProgressThreshold();\n\n\t\t\tvar redirToPathItem = function(item){\n\t\t\t\t$rootScope.mainController.go(path.get('transaction').withItem(item));\n\t\t\t};\n\n\t\t\tvar goToItem = function(item, event){\n\n\t\t\t\tvar pathItem = path.get('transaction').withItem(item);\n\n\t\t\t\tif(event.ctrlKey || event.which === 2){\n\t\t\t\t\t$window.open(pathItem);\n\t\t\t\t}else if(event.which === 1){\n\t\t\t\t\tredirToPathItem(item);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.showCardActionsModal = function(item){\n\t\t\t\tcardActionFactory.showModal({\n\t\t\t\t\tdata: cardActionFactory\n\t\t\t\t\t\t.getNewCardActionsData()\n\t\t\t\t\t\t.update({\n\t\t\t\t\t\t\ttitle: item.extraInfo.produtoNome,\n\t\t\t\t\t\t\temailFollowup: item.extraInfo.atendimentoFollowUpEmail,\n\t\t\t\t\t\t\tprospectNome: item.extraInfo.prospectNome,\n\t\t\t\t\t\t\tphones: item.extraInfo.prospectTelefones,\n\t\t\t\t\t\t\temails: item.extraInfo.prospectEmails,\n\t\t\t\t\t\t}),\n\t\t\t\t\tresource: {\n\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t\tresource: 'transactions'\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.transfer = function(item){\n\n\t\t\t\ttransactionTransferFactory.show({\n\t\t\t\t\titem: item,\n\t\t\t\t\tdelegate: {\n\t\t\t\t\t\ttransferedFromOtherToSameCurrentUser: function(transferredItem){\n\t\t\t\t\t\t\tredirToPathItem(transferredItem);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tupdateItem: function(transferredItem){\n\t\t\t\t\t\t\ttransactionsService.updateItem(item, transferredItem);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremoveItemFromUser: function(){\n\t\t\t\t\t\t\t$scope.listObj.removeItem(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$scope.finish = function(action, item) {\n\n\t\t\t\ttransactionFinishFactory.show({\n\t\t\t\t\titem: item,\n\t\t\t\t\taction: action,\n\t\t\t\t\tdelegate: {\n\t\t\t\t\t\tupdateItem: function(finishedItem) {\n\t\t\t\t\t\t\ttransactionsService.updateItem(item, finishedItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$scope.clickItem = function(item, $event){\n\n\t\t\t\tif(\n\t\t\t\t\t$($event.target).closest('[preventClickItem]').length\n\t\t\t\t\t||\n\t\t\t\t\t$($event.target).closest('view-transaction-stage-form').length\n\t\t\t\t\t||\n\t\t\t\t\tangular.element($event.target).hasClass('dropdown-backdrop')\n\t\t\t\t){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$($event.target).closest('.card').addClass('active');\n\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$event.preventDefault();\n\t\t\t\t\tgoToItem(item, $event);\n\t\t\t\t},200);\n\n\t\t\t};\n\n\t\t\tvar setChangeStageElement;\n\n\t\t\t$scope.setChangeStageElement = function(event){\n\t\t\t\tsetChangeStageElement = event.target;\n\t\t\t};\n\n\t\t\t$scope.getContactActionLinks = function(item){\n\n\t\t\t\treturn cardActionFactory.getContactLinks({\n\t\t\t\t\tprospectNome: item.extraInfo.prospectNome,\n\t\t\t\t\temailClient: item.extraInfo.prospectEmails\n\t\t\t\t\t\t? item.extraInfo.prospectEmails[0].prospectEmailValor\n\t\t\t\t\t\t: null,\n\t\t\t\t\temailFollowup: item.extraInfo.atendimentoFollowUpEmail,\n\t\t\t\t\ttitle: item.extraInfo.produtoNome,\n\t\t\t\t\tphoneClient: item.extraInfo.prospectTelefones\n\t\t\t\t\t\t? item.extraInfo.prospectTelefones[0].prospectTelefoneFull\n\t\t\t\t\t\t: null,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.isPipelineOptionDisable = function(option, transactionItem){\n\n\t\t\t\treturn !permission.checkPermissions('atd_voltar_fase')\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.listObj.stageSelectOptions.indexOf(option)\n\t\t\t\t\t<=\n\t\t\t\t\t$scope.listObj.stageSelectOptions.indexOf(transactionItem.stageItem);\n\n\t\t\t};\n\n\t\t\tvar onFormDestroy = function(transactionItem){\n\t\t\t\ttransactionItem.stageItem = transactionItem.originalStageItem;\n\t\t\t};\n\n\t\t\t$scope.changeStage = function(transactionItem){\n\n\t\t\t\tvar stageItem = transactionItem.stageItem;\n\n\t\t\t\tif(!stageFormFactory.checkPermissionsToastr()){\n\t\t\t\t\tonFormDestroy(transactionItem);\n\t\t\t\t}else{\n\t\t\t\t\t$timeout(function(){\n\n\t\t\t\t\t\tstageFormFactory.setTransactionStage({\n\t\t\t\t\t\t\telement: setChangeStageElement,\n\t\t\t\t\t\t\tscope: $scope,\n\t\t\t\t\t\t\tdelegate: {\n\t\t\t\t\t\t\t\tonFormDestroy: function(){\n\t\t\t\t\t\t\t\t\tonFormDestroy(transactionItem);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function(response){\n\t\t\t\t\t\t\t\t\ttransactionItem.originalStageItem = stageItem;\n\t\t\t\t\t\t\t\t\ttransactionsService.updateItem(transactionItem, response.data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttransactionItem: transactionItem,\n\t\t\t\t\t\t\tstageItem: transactionItem.stageItem,\n\t\t\t\t\t\t\tforceDownloadStage: true\n\t\t\t\t\t\t});\n\t\t\t\t\t},0);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.getStatusClassName = function(item){\n\t\t\t\treturn transactionsService\n\t\t\t\t\t.statusesByFieldValue[item.fields.atendimento.atendimentoStatus];\n\t\t\t};\n\n\t\t\t$scope.getDaysToExpires = function(item){\n\n\t\t\t\tvar days = transactionsService.getExpiresTimeInDays(item);\n\n\t\t\t\treturn days > 99 ? '99+' : days;\n\t\t\t};\n\n\t\t\t$scope.getExpiresTooltip = function(item){\n\t\t\t\treturn transactionsService.getExpiresText(item);\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionsTable', function($rootScope){\n\t\tif($rootScope.mainController.device == 'desktop'){\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\n\t\t\t\tscope: {},\n\t\t\t\tcontroller: 'viewTransactionsListController',\n\t\t\t\ttemplateUrl: 'transactions/directives/list/table-desktop.html'\n\t\t\t};\n\t\t}else{\n\t\t\treturn {\n\t\t\t\trestrict: 'E',\n\n\t\t\t\tscope: {},\n\t\t\t\tcontroller: 'viewTransactionsListController',\n\t\t\t\ttemplateUrl: 'transactions/directives/list/table-mobile.html'\n\t\t\t};\n\t\t}\n\t})\n\n\t.directive('viewTransactionsColumn', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\n\t\t\tscope: {},\n\t\t\tcontroller: 'viewTransactionsListController',\n\t\t\ttemplateUrl: 'transactions/directives/list/column.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","'use strict';\n\n(function(){\n\n\tangular.module('views.transactions')\n\n\t.controller(\n\t\t'listFilterOptionsController',\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tanaproFormlyFactory\n\t\t){\n\n\t\t\t$scope.delegateListFilter = $scope.delegateListFilter || {};\n\n\t\t\t$scope.listFilter = $scope.$parent.listFilter;\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\n\t\t\t$scope.formlyFields = [];\n\t\t\t$scope.formlyFieldsAdvanced = [];\n\n\t\t\t$scope.listFilter.modelAdvanced = {};\n\n\t\t\tvar advancedFiltersModelRemoved = false;\n\t\t\tvar fieldsAdvancedOriginal = [];\n\n\t\t\tvar defaultFilters = [\n\t\t\t\t'produtoIdGuid',\n\t\t\t\t'atendimentoPipelineStageIdGuid',\n\t\t\t\t'atendimentoExpiracaoAutomaticaQtdDiasRestantesMax',\n\t\t\t\t'atendimentoInteracaoUsuarioQtdDiasSem'\n\t\t\t];\n\n\t\t\tvar defaultFiltersRegexp = new RegExp(defaultFilters.join('|'));\n\n\t\t\tvar removeFiltersFromModel = function(keys){\n\t\t\t\tkeys.map(function(item){\n\t\t\t\t\tdelete $scope.listFilter.model.filters[item];\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.setFilters = function($event){\n\t\t\t\tif($scope.formFilters.$valid){\n\t\t\t\t\tremoveFiltersFromModel([\n\t\t\t\t\t\t'atendimentoPendencias',\n\t\t\t\t\t\t'atendimentoCompromissos'\n\t\t\t\t\t]);\n\t\t\t\t\t$scope.listFilter.setFilters();\n\t\t\t\t\t$().hideParentDropdown($event.target);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.delegateListFilter.setFilters = $scope.setFilters;\n\n\t\t\t$scope.resetFilters = function(){\n\n\t\t\t\tanaproFormlyFactory.resetModel(\n\t\t\t\t\t$scope.formlyFields,\n\t\t\t\t\t$scope.listFilter.model.filters\n\t\t\t\t);\n\n\t\t\t\tif($scope.listFilter.advanced){\n\t\t\t\t\tanaproFormlyFactory.resetModel(\n\t\t\t\t\t\t$scope.formlyFieldsAdvanced,\n\t\t\t\t\t\t$scope.listFilter.model.filters\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.toggleAdvancedFilters = function(){\n\n\t\t\t\t$scope.listFilter.advanced = !$scope.listFilter.advanced;\n\n\t\t\t\ttoggleAdvancedFilters();\n\n\t\t\t};\n\n\t\t\tvar toggleAdvancedFilters = function(){\n\n\t\t\t\tif($scope.listFilter.advanced){\n\n\t\t\t\t\tangular.merge(\n\t\t\t\t\t\t$scope.listFilter.model.filters,\n\t\t\t\t\t\t$scope.listFilter.modelAdvanced\n\t\t\t\t\t);\n\n\t\t\t\t\t$scope.formlyFieldsAdvanced.splice(0);\n\n\t\t\t\t\tcreateFieldsFromAPI(\n\t\t\t\t\t\tangular.copy(fieldsAdvancedOriginal),\n\t\t\t\t\t\t$scope.formlyFieldsAdvanced\n\t\t\t\t\t);\n\n\t\t\t\t}else{\n\t\t\t\t\tremoveAdvancedFiltersFromModel();\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t\t$scope.delegateListFilter.toggleAdvancedFilters = toggleAdvancedFilters;\n\n\t\t\tvar removeAdvancedFiltersFromModel = function(){\n\n\t\t\t\tif($scope.listFilter.model.filters){\n\n\t\t\t\t\tvar listToRemove = Object.keys($scope.listFilter.model.filters)\n\t\t\t\t\t\t.filter(function(key){\n\t\t\t\t\t\t\tif(!defaultFiltersRegexp.test(key)){\n\n\t\t\t\t\t\t\t\tif(!advancedFiltersModelRemoved){\n\t\t\t\t\t\t\t\t\t$scope.listFilter.modelAdvanced[key] = $scope.listFilter.model.filters[key];\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\t\tremoveFiltersFromModel(listToRemove);\n\n\t\t\t\t}\n\n\t\t\t\tadvancedFiltersModelRemoved = true;\n\n\t\t\t};\n\n\t\t\tvar setFields = function(){\n\n\t\t\t\tvar fieldsDefault = $scope.listObj.data.filters.filter(function(item){\n\t\t\t\t\treturn defaultFiltersRegexp.test(item.field);\n\t\t\t\t});\n\n\t\t\t\tvar fieldsDefaultAdvanced = $scope.listObj.data.filters.filter(function(item){\n\t\t\t\t\treturn !defaultFiltersRegexp.test(item.field);\n\t\t\t\t});\n\n\t\t\t\tcreateFieldsFromAPI(fieldsDefault, $scope.formlyFields);\n\n\t\t\t\tfieldsAdvancedOriginal = angular.copy(fieldsDefaultAdvanced);\n\n\t\t\t};\n\n\t\t\tvar createFieldsFromAPI = function(fields, formlyFields){\n\n\t\t\t\tanaproFormlyFactory.createFormlyFieldsFromAPI(\n\t\t\t\t\tfields,\n\t\t\t\t\tformlyFields,\n\t\t\t\t\t{\n\t\t\t\t\t\tmerge: {\n\t\t\t\t\t\t\tatendimentoCodigo: {\n\t\t\t\t\t\t\t\ttype: 'hidden'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoOpcao: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoStatus: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoPipelineStageIdGuid: {\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true,\n\t\t\t\t\t\t\t\t\toptions: anaproFormlyFactory.groupOptionsByExpression(\n\t\t\t\t\t\t\t\t\t\t$scope.listObj.data.filters,\n\t\t\t\t\t\t\t\t\t\t'atendimentoPipelineStageIdGuid',\n\t\t\t\t\t\t\t\t\t\t/\\((.*?)\\)/\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoInteracaoUsuarioQtdDiasSem: {\n\t\t\t\t\t\t\t\tclassName: 'ipt-days'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoExpiracaoAutomaticaQtdDiasRestantesMax: {\n\t\t\t\t\t\t\t\tclassName: 'ipt-days'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoPendencias: {\n\t\t\t\t\t\t\t\ttype: 'hidden'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoCompromissos: {\n\t\t\t\t\t\t\t\ttype: 'hidden'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tatendimentoExpiracaoAutomaticaQtdDiasRestantes: {\n\t\t\t\t\t\t\t\ttype: 'hidden'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprodutoIdGuid: {\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tinteracaoAtividadeSem: {\n\t\t\t\t\t\t\t\ttype: 'anaproSelectButtons',\n\t\t\t\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\t\t\t\tnoErrorSpace: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\tsetFields();\n\t\t\tremoveAdvancedFiltersFromModel();\n\n\t\t}\n\t)\n\n\t.directive('listFilterOptions', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tdelegateListFilter: '='\n\t\t\t},\n\t\t\ttemplateUrl: 'transactions/directives/list-filter/list-filter-options.html',\n\t\t\tcontroller: 'listFilterOptionsController'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transactions')\n\n\t.controller(\n\n\t\t'viewTransactionsListFilterController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\t$modal,\n\t\t\tpath,\n\t\t\ttransactionsService,\n\t\t\tautomateNewLeadFactory,\n\t\t\taddClientFactory,\n\t\t\tnotificationCenterTransactionsAwaiting\n\t\t){\n\n\t\t\t$scope.isAutomateNewLeadDisabled = function(){\n\t\t\t\treturn automateNewLeadFactory.isDisabled();\n\t\t\t};\n\n\t\t\t$scope.getAutomateNewLeadButtonTitle = function(){\n\t\t\t\treturn automateNewLeadFactory.activeOfferMessage();\n\t\t\t};\n\n\t\t\tvar addClientDelegate = {\n\t\t\t\treset: function(){\n\t\t\t\t\tconsole.log('modalAddClient reset: ');\n\t\t\t\t},\n\t\t\t\titemAddedCurrentUserHasNoAccess: function(item){\n\t\t\t\t\tconsole.log('temAddedCurrentUserHasNoAccess', item);\n\t\t\t\t},\n\t\t\t\titemAddedToCurrentUser: function(item){\n\t\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\t\tpath.get('transaction').withItem(item)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\titemAddedToOtherUser: function(item){\n\t\t\t\t\tconsole.log('temAddedToOtherUser', item);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar transactionStatuses = transactionsService.statuses;\n\n\t\t\t$scope.showModalAddClient = function() {\n\t\t\t\taddClientFactory.showModal({\n\t\t\t\t\tdelegate: addClientDelegate\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.listFilter = $scope.$parent.$parent.listFilter;\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\n\t\t\t$scope.sendEmailMarketing = function(){\n\n\t\t\t\tconsole.info(\n\t\t\t\t\t'Send email marketing for:',\n\t\t\t\t\t$scope.listObj.selected.items\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.showTransactionsOnQueueButton = function(){\n\n\t\t\t\treturn (\n\t\t\t\t\t$scope.listFilter.model.filters\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.listFilter.model.filters.atendimentoStatus != transactionStatuses.queue\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.listFilter.model.filters.atendimentoOpcao == 'meus'\n\t\t\t\t\t&&\n\t\t\t\t\tnotificationCenterTransactionsAwaiting.getTotalNewClients() > 0\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.showAttendedTransactionsButton = function(){\n\n\t\t\t\treturn (\n\t\t\t\t\t$scope.listFilter.model.filters\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.listFilter.model.filters.atendimentoStatus == transactionStatuses.queue\n\t\t\t\t\t&&\n\t\t\t\t\t$scope.listFilter.model.filters.atendimentoOpcao == 'meus'\n\t\t\t\t);\n\n\t\t\t};\n\n\t\t\t$scope.getTotalTransactionsOnQueue = function(){\n\t\t\t\treturn notificationCenterTransactionsAwaiting.getTotalNewClients();\n\t\t\t};\n\n\t\t\t$scope.showTransactionsOnQueue = function(){\n\t\t\t\t$rootScope.mainController.go(transactionsService.getTransactionsAwaitingLink());\n\t\t\t};\n\n\t\t\t$scope.showAttendedTransactions = function(){\n\n\t\t\t\t$scope.listFilter.model = {\n\t\t\t\t\tq: $scope.listFilter.model.q,\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\tatendimentoStatus: transactionStatuses.attended\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t$scope.listFilter.setFilters();\n\n\t\t\t};\n\n\t\t\t$scope.showTransactionsWithOrWithoutTasks = function(field){\n\n\t\t\t\tvar filter = {};\n\n\t\t\t\tif(!$scope.transactionsWithorWithoutTasks[field].selected){\n\t\t\t\t\tfilter[field] = $scope.transactionsWithorWithoutTasks[field].value;\n\t\t\t\t}\n\n\t\t\t\t$scope.listFilter.model = {\n\t\t\t\t\tq: '',\n\t\t\t\t\tfilters: filter\n\t\t\t\t};\n\n\t\t\t\t$scope.listFilter.setFilters();\n\n\t\t\t};\n\n\t\t\t$scope.getNewLead = function(){\n\t\t\t\tautomateNewLeadFactory.get();\n\t\t\t};\n\n\t\t\t$scope.transactionsWithorWithoutTasks = {\n\t\t\t\tatendimentoPendencias: {\n\t\t\t\t\tvalue: null,\n\t\t\t\t\ttotal: null,\n\t\t\t\t\tselected: false\n\t\t\t\t},\n\t\t\t\tatendimentoCompromissos: {\n\t\t\t\t\tvalue: null,\n\t\t\t\t\ttotal: null,\n\t\t\t\t\tselected: false\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.toggleAdvancedFilters = function($event){\n\n\t\t\t\t$event.stopPropagation();\n\t\t\t\t$scope.listFilter.advanced = !$scope.listFilter.advanced;\n\n\t\t\t\t$scope.delegateListFilter.toggleAdvancedFilters();\n\n\t\t\t};\n\n\t\t\t$scope.delegateListFilter = {};\n\n\t\t\tvar setTotalTransactionsWithOrWithoutTasks = function(){\n\n\t\t\t\t$scope.listObj.data.filters.map(function(item){\n\t\t\t\t\tif($scope.transactionsWithorWithoutTasks[item.field]){\n\n\t\t\t\t\t\t$scope.transactionsWithorWithoutTasks[item.field].total =\n\t\t\t\t\t\t\titem.options[0].name;\n\n\t\t\t\t\t\t$scope.transactionsWithorWithoutTasks[item.field].value =\n\t\t\t\t\t\t\titem.options[0].value;\n\n\t\t\t\t\t\t$scope.transactionsWithorWithoutTasks[item.field].selected =\n\t\t\t\t\t\t\t!!item.initialValue;\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\t$timeout(setTotalTransactionsWithOrWithoutTasks);\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionsListFilter', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {},\n\t\t\tcontroller: 'viewTransactionsListFilterController',\n\t\t\ttemplateUrl: 'transactions/directives/list-filter/list-filter.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transactions')\n\n\t.controller(\n\n\t\t'ViewTransactionsListFilterExpiresRulerController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout\n\t\t){\n\n\t\t\t$scope.listFilter = $scope.$parent.$parent.listFilter;\n\t\t\t$scope.listObj = $scope.$parent.listObj;\n\n\t\t\t$scope.filterObj;\n\n\t\t\tvar setFilterObj = function(){\n\t\t\t\t$scope.listObj.data.filters.map(function(item){\n\n\t\t\t\t\tif(item.key == 'atendimentoExpiracaoAutomaticaQtdDiasRestantes'){\n\t\t\t\t\t\t$scope.filterObj = item;\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$timeout(setFilterObj);\n\n\t\t\t$scope.setFilter = function(item){\n\n\t\t\t\t$scope.listFilter.model = {\n\t\t\t\t\tq: $scope.listFilter.model.q,\n\t\t\t\t\tfilters: {\n\t\t\t\t\t\tatendimentoExpiracaoAutomaticaQtdDiasRestantes: item.value\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t$scope.listFilter.setFilters();\n\n\t\t\t};\n\n\t\t\t$scope.isActive = function(item){\n\t\t\t\treturn $scope.filterObj.initialValue == item.value;\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionsListFilterExpiresRuler', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {},\n\t\t\tcontroller: 'ViewTransactionsListFilterExpiresRulerController',\n\t\t\ttemplateUrl: 'transactions/directives/list-filter-expires-ruler/list-filter-expires-ruler.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionSellInteractionController',\n\n\t\tfunction(\n\t\t\t$scope\n\t\t){\n\n\t\t\t$scope;\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionSellInteraction', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tinteraction: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionSellInteractionController',\n\t\t\ttemplateUrl: 'transaction/directives/sells/interaction.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.factory(\n\t\t'viewTransactionSellsFactory',\n\n\t\tfunction(\n\t\t\tfollowupSubTypes\n\t\t){\n\n\t\t\tvar getInteractions = function(newInteractions){\n\n\t\t\t\treturn newInteractions.fields.done.filter(function(item){\n\t\t\t\t\treturn item.fields.interacaoNegociacao\n\t\t\t\t\t\t&&\n\t\t\t\t\t\titem.fields.interacaoNegociacao.interacaoTipoSubSys == followupSubTypes.sellsSold;\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tvar service = {\n\t\t\t\tgetInteractions: getInteractions\n\t\t\t};\n\n\t\t\treturn service;\n\t\t}\n\t)\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('views.transaction')\n\n\t.controller(\n\t\t'viewTransactionSellsController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\tviewTransactionSellsFactory\n\t\t){\n\n\t\t\t$scope.interactions = [];\n\t\t\t$scope.loading = true;\n\t\t\t$scope.empty = false;\n\t\t\t$scope.delegate = $scope.delegate || {};\n\n\t\t\t$scope.delegate.updateInteractions = function(interactions){\n\n\t\t\t\t$scope.interactions.splice(0);\n\n\t\t\t\tangular.extend(\n\t\t\t\t\t$scope.interactions,\n\t\t\t\t\tviewTransactionSellsFactory.getInteractions(interactions)\n\t\t\t\t);\n\n\t\t\t\t$scope.empty = !$scope.interactions.length;\n\t\t\t\t$scope.loading = false;\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('viewTransactionSells', function(){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope: {\n\t\t\t\tdelegate: '='\n\t\t\t},\n\t\t\tcontroller: 'viewTransactionSellsController',\n\t\t\ttemplateUrl: 'transaction/directives/sells/sells.html'\n\t\t};\n\t})\n\n\t;\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.notifications-container.dialog.new-chat',[])\n\n\t.config(function(\n\t\tnotificationsContainerDialogProvider,\n\t\tfirebaseCollections\n\t){\n\n\t\tnotificationsContainerDialogProvider.putDialogType(\n\t\t\t'newChat',\n\t\t\t{\n\t\t\t\tpriority: 0,\n\t\t\t\tlimit: 1,\n\t\t\t\tcollectionKey: firebaseCollections.chat,\n\t\t\t\tdirective: 'new-chat',\n\t\t\t\tsound: 'chat1',\n\t\t\t\tdesktopNotification: {\n\t\t\t\t\ticon: '/assets/imgs/icons/notification-new-chat.png'\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t})\n\n\t.controller(\n\t\t'NotificationsContainerDialogNewChatController',\n\n\t\tfunction(\n\t\t\t$scope,\n\t\t\t$timeout,\n\t\t\taudioFactory\n\t\t){\n\n\t\t\tvar sound;\n\t\t\tvar soundTimer;\n\n\t\t\tvar playSound = function(){\n\t\t\t\tsoundTimer = $timeout(function(){\n\t\t\t\t\tsound = audioFactory.play('chat2', playSoundResume);\n\t\t\t\t\tsound.loop = true;\n\t\t\t\t},2000);\n\t\t\t};\n\n\t\t\tvar playSoundResume = function(){\n\t\t\t\tif(soundTimer){\n\t\t\t\t\tplaySound();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tplaySound();\n\n\t\t\t$scope.open = function(){\n\t\t\t\twindow.open('//' + $scope.dialog.data.Href, 'AnaproChat');\n\t\t\t\t$scope.remove();\n\t\t\t};\n\n\t\t\t$scope.onRemoveDialogType = function(){\n\n\t\t\t\tif(sound){\n\t\t\t\t\tsound.pause();\n\t\t\t\t\tsound.src = '';\n\t\t\t\t\tsound = null;\n\t\t\t\t}\n\n\t\t\t\tif(soundTimer){\n\t\t\t\t\t$timeout.cancel(soundTimer);\n\t\t\t\t\tsoundTimer = null;\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('dialogNewChat', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'notifications-container/dialog-container/dialog/new-chat/new-chat.html',\n\t\t\tcontroller: 'NotificationsContainerDialogNewChatController',\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('directives.notifications-container.dialog.new-lead',[])\n\n\t.config(function(notificationsContainerDialogProvider){\n\n\t\tnotificationsContainerDialogProvider.putDialogType(\n\t\t\t'newLead',\n\t\t\t{\n\t\t\t\tpriority: 1,\n\t\t\t\tlimit: 2,\n\t\t\t\tcollectionKey: 'pendingProcessingTransactionWaitingAttend',\n\t\t\t\tdirective: 'new-lead',\n\t\t\t\tsound: 'new-lead',\n\t\t\t\tdesktopNotification: {\n\t\t\t\t\ticon: '/assets/imgs/icons/notification-new-lead.png'\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t})\n\n\t.controller(\n\t\t'NotificationsContainerDialogNewLeadController',\n\n\t\tfunction(\n\t\t\t$rootScope,\n\t\t\t$scope,\n\t\t\tpath,\n\t\t\tnotificationCenterDialogs\n\t\t){\n\n\t\t\tvar dialogId = $scope.dialog.data.id;\n\n\t\t\t$scope.newLeadImg = $scope.dialog.data.prospectUrlImagem;\n\n\t\t\t$scope.open = function(){\n\n\t\t\t\t$rootScope.mainController.go(\n\t\t\t\t\tpath.get('transaction').withItem({\n\t\t\t\t\t\tid: $scope.dialog.data.atendimentoIdGuid\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\t$scope.remove(null, {\n\t\t\t\t\tactionOrigin: 'open'\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t$scope.onRemoveDialogType = function(){\n\t\t\t\tnotificationCenterDialogs.removeById(dialogId, true);\n\t\t\t};\n\n\t\t}\n\t)\n\n\t.directive('dialogNewLead', function(){\n\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl: 'notifications-container/dialog-container/dialog/new-lead/new-lead.html',\n\t\t\tcontroller: 'NotificationsContainerDialogNewLeadController',\n\t\t};\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('factories.error-message.config',[])\n\n\t.constant(\n\t\t'defaultErrorMessages',\n\t\t{\n\t\t\toffline: {\n\t\t\t\ttitle: 'Voc aparentemente esta sem acesso a internet.',\n\t\t\t\tmessage: 'Verifique sua conexo e tente novamente.'\n\t\t\t},\n\t\t\tsuccess: {\n\t\t\t\ttitle: 'Operao realizada com sucesso.',\n\t\t\t\tmessage: ''\n\t\t\t},\n\t\t\tforbidden: {\n\t\t\t\ttitle: 'Permisso negada.',\n\t\t\t\tmessage: 'Voc no tem permisso para realizar essa operao.'\n\t\t\t},\n\t\t\tpayloadError: {\n\t\t\t\ttitle: 'Por favor, verifique os dados enviados e tente novamente',\n\t\t\t\tmessage: ''\n\t\t\t},\n\t\t\tserverError: {\n\t\t\t\ttitle: 'Desculpe, estamos com dificuldades para realizar essa operao.',\n\t\t\t\tmessage: 'Tente novamente mais tarde.'\n\t\t\t}\n\t\t}\n\t);\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tangular.module('anapro.formly')\n\n\t.run(function(formlyConfig){\n\n\t\tformlyConfig.extras.errorExistsAndShouldBeVisibleExpression =\n\t\t\t'fc.$touched || form.$submitted';\n\n\t\tformlyConfig.setType([\n\t\t\t{\n\t\t\t\tname: 'anaproCheckbox',\n\t\t\t\ttemplateUrl: 'formly-templates/checkbox.html',\n\t\t\t\textends: 'checkbox'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'anaproEmail',\n\t\t\t\textends: 'input',\n\t\t\t\tdefaultOptions: {\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'email'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'anaproMultiCheckbox',\n\t\t\t\ttemplateUrl: 'formly-templates/multicheckbox.html',\n\t\t\t\textends: 'multiCheckbox',\n\t\t\t\twrapper: 'anaproMultiCheckbox'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'maskedInput',\n\t\t\t\textends: 'input',\n\t\t\t\tdefaultOptions: {\n\t\t\t\t\tngModelAttrs: {\n\t\t\t\t\t\tmask: {\n\t\t\t\t\t\t\tattribute: 'mask'\n\t\t\t\t\t\t},\n\t\t\t\t\t\trestrict: {\n\t\t\t\t\t\t\tattribute: 'restrict'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclean: {\n\t\t\t\t\t\t\tattribute: 'clean'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcpf: {\n\t\t\t\t\t\t\tattribute: 'ui-br-cpf-mask'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcnpj: {\n\t\t\t\t\t\t\tattribute: 'ui-br-cnpj-mask'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcpfCnpj: {\n\t\t\t\t\t\t\tattribute: 'ui-br-cpfcnpj-mask'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'tel', // force mobile show numeric keyboard\n\t\t\t\t\t\trestrict: 'reject',\n\t\t\t\t\t\tclean: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'numberInput',\n\t\t\t\textends: 'input',\n\t\t\t\tcontroller: function($scope){\n\t\t\t\t\t$scope.options.resetModel = function(){\n\t\t\t\t\t\tif($scope.options.defaultValue === 0){\n\t\t\t\t\t\t\t$scope.options.defaultValue = '0';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$scope.model[$scope.options.key] = $scope.options.defaultValue;\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tdefaultOptions: {\n\t\t\t\t\tngModelAttrs: {\n\t\t\t\t\t\tminValue: {\n\t\t\t\t\t\t\tattribute: 'min'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmaxValue: {\n\t\t\t\t\t\t\tattribute: 'max'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdecimals: {\n\t\t\t\t\t\t\tattribute: 'ui-number-mask'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmoney: {\n\t\t\t\t\t\t\tattribute: 'ui-money-mask'\n\t\t\t\t\t\t},\n\t\t\t\t\t\thideSeparator: {\n\t\t\t\t\t\t\tattribute: 'ui-hide-group-sep'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttemplateOptions: {\n\t\t\t\t\t\ttype: 'tel' // force mobile show numeric keyboard\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'hidden',\n\t\t\t\ttemplate: '',\n\t\t\t\tdefaultOptions: {\n\t\t\t\t\tnoFormControl: true,\n\t\t\t\t\thide: true\n\t\t\t\t}\n\t\t\t}\n\n\t\t]);\n\n\t\tformlyConfig.setWrapper([\n\t\t\t{\n\t\t\t\tname: 'anaproMultiCheckbox',\n\t\t\t\ttemplateUrl: 'formly-templates/multicheckbox-wrapper.html'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'anaproSelect',\n\t\t\t\ttypes: ['select'],\n\t\t\t\ttemplateUrl: 'formly-templates/select-wrapper.html'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'anaproSelectAsync',\n\t\t\t\ttypes: ['select-async'],\n\t\t\t\ttemplateUrl: 'formly-templates/select-async-wrapper.html'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'anaproRadio',\n\t\t\t\ttypes: ['radio'],\n\t\t\t\ttemplateUrl: 'formly-templates/radio-wrapper.html'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'extras',\n\t\t\t\ttypes: [\n\t\t\t\t\t'input',\n\t\t\t\t\t'maskedInput',\n\t\t\t\t\t'numberInput',\n\t\t\t\t\t'select',\n\t\t\t\t\t'anaproEmail',\n\t\t\t\t\t'anaproDate',\n\t\t\t\t\t'anaproTime',\n\t\t\t\t\t'anaproDateTime',\n\t\t\t\t\t'textarea',\n\t\t\t\t\t'nya-select',\n\t\t\t\t\t'select-async',\n\t\t\t\t\t'anaproSelectButtons'\n\t\t\t\t],\n\t\t\t\ttemplateUrl: 'formly-templates/extras-wrapper.html'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: 'validation',\n\t\t\t\ttypes: [\n\t\t\t\t\t'input',\n\t\t\t\t\t'maskedInput',\n\t\t\t\t\t'numberInput',\n\t\t\t\t\t'select',\n\t\t\t\t\t'radio',\n\t\t\t\t\t'anaproEmail',\n\t\t\t\t\t'anaproDate',\n\t\t\t\t\t'anaproTime',\n\t\t\t\t\t'anaproDateTime',\n\t\t\t\t\t'nya-select',\n\t\t\t\t\t'select-async',\n\t\t\t\t\t'anaproSelectButtons'\n\t\t\t\t],\n\t\t\t\ttemplateUrl: 'formly-templates/error-messages-wrapper.html'\n\t\t\t}\n\t\t]);\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\tangular.module('services.longpolling')\n\n\t\t\t.constant('longpollingTimer', 2000)\n\n\t\t\t.run(function(\n\t\t\t\tlongpollingService,\n\t\t\t\tusersService\n\t\t\t){\n\n\t\t\t\tvar init = function(){\n\t\t\t\t\tlongpollingService.init();\n\t\t\t\t};\n\n\t\t\t\tif(usersService.isProfileLoaded(init)){\n\t\t\t\t\tinit();\n\t\t\t\t}\n\n\t\t\t});\n\n\tangular.module('services.longpolling.cacheFactory', [])\n\n\t\t\t.run(function(CacheFactory){\n\n\t\t\t\tCacheFactory(\n\t\t\t\t\t'longpolling',\n\t\t\t\t\t{\n\t\t\t\t\t\tstoragePrefix: 'AnaproAPP-Caches.',\n\t\t\t\t\t\tstorageMode: 'localStorage'\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n})();\n","\n'use strict';\n\n(function(){\n\n\tvar view = 'auth';\n\tvar controller = 'ViewAuthController';\n\tvar requireLogin = false;\n\n\tvar configPath = {\n\t\tpath: '/login/',\n\t\tlabel: 'Autenticao'\n\t};\n\n\tvar route = {\n\t\ttemplateUrl: view + '/' + view + '.html',\n\t\tcontroller: controller,\n\t\trequireLogin: requireLogin,\n\t\tredirToDefaultWhenLoggedIn: true,\n\t\tconfigPath: configPath\n\t};\n\n\tangular.module('views.' + view)\n\n\t.config(function(\n\t\t$routeProvider,\n\t\t$locationProvider,\n\t\tpathProvider\n\t){\n\n\t\tvar pathObj = pathProvider.addPath(\n\t\t\tview,\n\t\t\tconfigPath\n\t\t);\n\n\t\tvar path = pathObj.path;\n\n\t\t$routeProvider\n\n\t\t\t.when(\n\t\t\t\tpath,\n\t\t\t\troute\n\t\t\t)\n\n\t\t;\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tvar view = 'calendar';\n\tvar controller = 'ViewCalendarController';\n\tvar requireLogin = true;\n\n\tvar getPageTrack = function(next){\n\n\t\tif(next.pathParams.hash){\n\t\t\treturn configPath.path + 'filtes/';\n\t\t}else if(next.pathParams.q){\n\t\t\treturn configPath.path + next.pathParams.q;\n\t\t}else{\n\t\t\treturn configPath.path;\n\t\t}\n\n\t};\n\n\tvar configPath = {\n\t\tpath: '/agenda/',\n\t\tlabel: 'Agenda',\n\t\ticon: 'calendar',\n\t\tgetPageTrack: getPageTrack\n\t};\n\n\tvar route = {\n\t\ttemplateUrl: view + '/' + view + '.html',\n\t\tcontroller: controller,\n\t\trequireLogin: requireLogin,\n\t\tconfigPath: configPath\n\t};\n\n\tangular.module('views.' + view)\n\n\t.config(function(\n\t\t$routeProvider,\n\t\t$locationProvider,\n\t\tpathProvider\n\t){\n\n\t\tvar pathObj = pathProvider.addPath(\n\t\t\tview,\n\t\t\tconfigPath\n\t\t);\n\n\t\tvar path = pathObj.path;\n\n\t\t$routeProvider\n\n\t\t\t.when(\n\t\t\t\tpath + ':q?',\n\t\t\t\troute\n\t\t\t)\n\n\t\t\t.when(\n\t\t\t\tpath + 'filters/:hash?',\n\t\t\t\troute\n\t\t\t)\n\n\t\t;\n\n\t});\n\n})();\n\n","\n'use strict';\n\n(function(){\n\n\tvar view = 'clients';\n\tvar controller = 'ViewClientsController';\n\tvar requireLogin = true;\n\tvar permissions = 'view.clients';\n\tvar permissionDescription = 'Carteira de clientes';\n\n\tvar configPath = {\n\t\tpath: '/clientes/',\n\t\tlabel: 'Carteira',\n\t\ticon: 'contacts-book',\n\t\tpermissions: permissions,\n\t\tpermissionDescription: permissionDescription\n\t};\n\n\tvar route = {\n\t\ttemplateUrl: view + '/' + view + '.html',\n\t\tcontroller: controller,\n\t\trequireLogin: requireLogin,\n\t\tconfigPath: configPath\n\t};\n\n\tangular.module('views.' + view)\n\n\t.config(function(\n\t\t$routeProvider,\n\t\t$locationProvider,\n\t\tpathProvider\n\t){\n\n\t\tvar pathObj = pathProvider.addPath(\n\t\t\tview,\n\t\t\tconfigPath\n\t\t);\n\n\t\tvar path = pathObj.path;\n\n\t\t$routeProvider\n\n\t\t\t.when(\n\t\t\t\tpath,\n\t\t\t\troute\n\t\t\t)\n\n\t\t\t// [todo] remove\n\t\t\t.when(\n\t\t\t\tpath + ':id/',\n\t\t\t\troute\n\t\t\t)\n\n\t\t;\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tvar view = 'home';\n\tvar controller = 'ViewHomeController';\n\tvar requireLogin = true;\n\n\tvar configPath = {\n\t\tpath: '/home/',\n\t\tlabel: 'Home',\n\t\ticon: 'Anapro-Logo-Marca-3paths'\n\t};\n\n\tvar route = {\n\t\ttemplateUrl: view + '/' + view + '.html',\n\t\tcontroller: controller,\n\t\trequireLogin: requireLogin,\n\t\tconfigPath: configPath\n\t};\n\n\tangular.module('views.' + view)\n\n\t.config(function(\n\t\t$routeProvider,\n\t\t$locationProvider,\n\t\tpathProvider,\n\t\tmainControllerProvider\n\t){\n\n\t\tif(mainControllerProvider.getDevice() == 'mobile'){\n\t\t\tconfigPath.icon = 'Anapro-Logo-1path';\n\t\t}\n\n\t\tvar pathObj = pathProvider.addPath(\n\t\t\tview,\n\t\t\tconfigPath\n\t\t);\n\n\t\tvar path = pathObj.path;\n\n\t\t// [todo] remove when /home get ready to be use\n\t\tpath, route;\n\n\t\t// [todo] uncomment when /home get ready to be use\n\t\t// $routeProvider\n\n\t\t// \t.when(\n\t\t// \t\tpath,\n\t\t// \t\troute\n\t\t// \t)\n\n\t\t// ;\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tvar view = 'queues-handler-position';\n\tvar controller = 'ViewQueuesHandlerPositionController';\n\tvar requireLogin = true;\n\n\tvar configPath = {\n\t\tpath: '/fila-atendimento/',\n\t\tlabel: 'Fila de atendimento',\n\t\ticon: 'user-profile',\n\t\twithItem: function(item){\n\t\t\treturn configPath.path\n\t\t\t\t+ item.CampanhaIdGuid\n\t\t\t\t+ ':'\n\t\t\t\t+ item.CanalIdGuid;\n\t\t}\n\t};\n\n\tvar route = {\n\t\ttemplateUrl: view + '/' + view + '.html',\n\t\tcontroller: controller,\n\t\trequireLogin: requireLogin,\n\t\tconfigPath: configPath\n\t};\n\n\tangular.module('views.' + view)\n\n\t.config(function(\n\t\t$routeProvider,\n\t\t$locationProvider,\n\t\tpathProvider\n\t){\n\n\t\tvar pathObj = pathProvider.addPath(\n\t\t\tview,\n\t\t\tconfigPath\n\t\t);\n\n\t\tvar path = pathObj.path;\n\n\t\t$routeProvider\n\n\t\t\t.when(\n\t\t\t\tpath + ':id',\n\t\t\t\troute\n\t\t\t)\n\n\t\t;\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tvar view = 'transaction';\n\tvar controller = 'ViewTransactionController';\n\tvar requireLogin = true;\n\n\tvar configPath = {\n\t\tpath: '/negocio/',\n\t\tlabel: 'Negcio',\n\t\ticon: 'users2',\n\t\twithItem: function(item){\n\t\t\treturn configPath.path + item.id;\n\t\t}\n\t};\n\n\tvar route = {\n\t\ttemplateUrl: view + '/' + view + '.html',\n\t\tcontroller: controller,\n\t\trequireLogin: requireLogin,\n\t\tconfigPath: configPath\n\t};\n\n\tangular.module('views.' + view)\n\n\t.config(function(\n\t\t$routeProvider,\n\t\t$locationProvider,\n\t\tpathProvider\n\t){\n\n\t\tvar pathObj = pathProvider.addPath(\n\t\t\tview,\n\t\t\tconfigPath\n\t\t);\n\n\t\tvar path = pathObj.path;\n\n\t\t$routeProvider\n\n\t\t\t.when(\n\t\t\t\tpath + ':id',\n\t\t\t\troute\n\t\t\t)\n\n\t\t;\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tvar view = 'transactions';\n\tvar controller = 'ViewTransactionsController';\n\tvar requireLogin = true;\n\tvar permissions = 'atd_listar_atendimento';\n\n\tvar getPageTrack = function(next){\n\n\t\tif(next.pathParams.hash){\n\t\t\treturn configPath.path + 'filtes/';\n\t\t}else if(next.pathParams.q){\n\t\t\treturn configPath.path + next.pathParams.q;\n\t\t}else{\n\t\t\treturn configPath.path;\n\t\t}\n\n\t};\n\n\tvar configPath = {\n\t\tpath: '/negocios/',\n\t\tlabel: 'Clientes',\n\t\ticon: 'users2',\n\t\tpermissions: permissions,\n\t\tgetPageTrack: getPageTrack\n\t};\n\n\tvar route = {\n\t\ttemplateUrl: view + '/' + view + '.html',\n\t\tcontroller: controller,\n\t\trequireLogin: requireLogin,\n\t\tconfigPath: configPath\n\t};\n\n\tangular.module('views.' + view)\n\n\t.config(function(\n\t\t$routeProvider,\n\t\t$locationProvider,\n\t\tpathProvider\n\t){\n\n\t\tvar pathObj = pathProvider.addPath(\n\t\t\tview,\n\t\t\tconfigPath\n\t\t);\n\n\t\tvar path = pathObj.path;\n\n\t\t$routeProvider\n\n\t\t\t.when(\n\t\t\t\tpath + ':q?',\n\t\t\t\troute\n\t\t\t)\n\n\t\t\t.when(\n\t\t\t\tpath + 'filters/:hash?',\n\t\t\t\troute\n\t\t\t)\n\n\t\t;\n\n\t});\n\n})();\n","\n'use strict';\n\n(function(){\n\n\tvar view = 'user-profile';\n\tvar controller = 'ViewUserProfileController';\n\tvar requireLogin = true;\n\n\tvar configPath = {\n\t\tpath: '/meus-dados/',\n\t\tlabel: 'Meus dados',\n\t\ticon: 'user-profile',\n\t\twithItem: function(item){\n\t\t\treturn configPath.path + item.id;\n\t\t}\n\t};\n\n\tvar route = {\n\t\ttemplateUrl: view + '/' + view + '.html',\n\t\tcontroller: controller,\n\t\trequireLogin: requireLogin,\n\t\tconfigPath: configPath\n\t};\n\n\tangular.module('views.' + view)\n\n\t.config(function(\n\t\t$routeProvider,\n\t\t$locationProvider,\n\t\tpathProvider\n\t){\n\n\t\tvar pathObj = pathProvider.addPath(\n\t\t\tview,\n\t\t\tconfigPath\n\t\t);\n\n\t\tvar path = pathObj.path;\n\n\t\t$routeProvider\n\n\t\t\t.when(\n\t\t\t\tpath + ':id?',\n\t\t\t\troute\n\t\t\t)\n\n\t\t;\n\n\t});\n\n})();\n","'use strict';\n\n(function(){\n\n\tangular.module('services.firebase')\n\n\t.constant('firebaseConfig', {\n\t\tapiKey: 'AIzaSyAEPm3MNQtwK1dejcNkYDhrLcf4YiSOrpo',\n\t\tauthDomain: 'anaprobr-e469e.firebaseapp.com',\n\t\tdatabaseURL: 'https://anaprobr-e469e.firebaseio.com',\n\t\tprojectId: 'anaprobr-e469e',\n\t\tstorageBucket: 'anaprobr-e469e.appspot.com',\n\t\tmessagingSenderId: '297244363461'\n\t})\n\n\t.constant('firebaseCollections', {\n\t\tpendingProcessing: 'pendenciaprocessamento',\n\t\tsystemMessages: 'system-messages',\n\t\tchat: 'chatlegacy',\n\t\tqueuesChannelChatByUser: 'queuesChannelChatByUser',\n\t\tqueuesChannel: {\n\t\t\tchat: 'queuesChannelChat'\n\t\t}\n\t})\n\n\t.constant('firebaseCollectionsItemId', {\n\t\tchat: 'ChatIdGuid'\n\t})\n\n\t.constant('firebaseBroadcastsNames', {\n\t\tpendenciaprocessamento: 'firebaseService.pendenciaprocessamento',\n\t\tsystemMessages: 'firebaseService.systemMessages',\n\t\tchat: 'firebaseService.chat',\n\t\tqueuesChannelChatByUser: 'firebaseService.queuesChannelChatByUser'\n\t})\n\n\t.run(\n\t\tfunction(\n\t\t\tfirebaseConfig,\n\t\t\tfirebaseProvider\n\t\t){\n\n\t\t\tfirebase.initializeApp(firebaseConfig);\n\n\t\t\tfirebaseProvider.setFirestoreDB();\n\n\t\t}\n\t)\n\n\t;\n\n})();\n"]}